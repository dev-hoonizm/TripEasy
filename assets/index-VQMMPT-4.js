(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var hm={exports:{}},Lo={};var x_;function KA(){if(x_)return Lo;x_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Lo.Fragment=e,Lo.jsx=n,Lo.jsxs=n,Lo}var I_;function YA(){return I_||(I_=1,hm.exports=KA()),hm.exports}var m=YA(),fm={exports:{}},Ie={};var D_;function $A(){if(D_)return Ie;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function L(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function X(D,W,le){this.props=D,this.context=W,this.refs=U,this.updater=le||z}X.prototype.isReactComponent={},X.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function J(){}J.prototype=X.prototype;function se(D,W,le){this.props=D,this.context=W,this.refs=U,this.updater=le||z}var ce=se.prototype=new J;ce.constructor=se,B(ce,X.prototype),ce.isPureReactComponent=!0;var _e=Array.isArray;function Se(){}var x={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(D,W,le){var de=le.ref;return{$$typeof:s,type:D,key:W,ref:de!==void 0?de:null,props:le}}function M(D,W){return C(D.type,W,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return W[le]})}var I=/\/+/g;function ke(D,W){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):W.toString(36)}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Se,Se):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,W,le,de,Ne){var Oe=typeof D;(Oe==="undefined"||Oe==="boolean")&&(D=null);var Le=!1;if(D===null)Le=!0;else switch(Oe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(D.$$typeof){case s:case e:Le=!0;break;case T:return Le=D._init,G(Le(D._payload),W,le,de,Ne)}}if(Le)return Ne=Ne(D),Le=de===""?"."+ke(D,0):de,_e(Ne)?(le="",Le!=null&&(le=Le.replace(I,"$&/")+"/"),G(Ne,W,le,"",function(Ce){return Ce})):Ne!=null&&(w(Ne)&&(Ne=M(Ne,le+(Ne.key==null||D&&D.key===Ne.key?"":(""+Ne.key).replace(I,"$&/")+"/")+Le)),W.push(Ne)),1;Le=0;var re=de===""?".":de+":";if(_e(D))for(var ue=0;ue<D.length;ue++)de=D[ue],Oe=re+ke(de,ue),Le+=G(de,W,le,Oe,Ne);else if(ue=L(D),typeof ue=="function")for(D=ue.call(D),ue=0;!(de=D.next()).done;)de=de.value,Oe=re+ke(de,ue++),Le+=G(de,W,le,Oe,Ne);else if(Oe==="object"){if(typeof D.then=="function")return G(pe(D),W,le,de,Ne);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(D,W,le){if(D==null)return D;var de=[],Ne=0;return G(D,de,"","",function(Oe){return W.call(le,Oe,Ne++)}),de}function $(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},he={map:ae,forEach:function(D,W,le){ae(D,function(){W.apply(this,arguments)},le)},count:function(D){var W=0;return ae(D,function(){W++}),W},toArray:function(D){return ae(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ie.Activity=S,Ie.Children=he,Ie.Component=X,Ie.Fragment=n,Ie.Profiler=l,Ie.PureComponent=se,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Ie.cache=function(D){return function(){return D.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(D,W,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var de=B({},D.props),Ne=D.key;if(W!=null)for(Oe in W.key!==void 0&&(Ne=""+W.key),W)!N.call(W,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&W.ref===void 0||(de[Oe]=W[Oe]);var Oe=arguments.length-2;if(Oe===1)de.children=le;else if(1<Oe){for(var Le=Array(Oe),re=0;re<Oe;re++)Le[re]=arguments[re+2];de.children=Le}return C(D.type,Ne,de)},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ie.createElement=function(D,W,le){var de,Ne={},Oe=null;if(W!=null)for(de in W.key!==void 0&&(Oe=""+W.key),W)N.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ne[de]=W[de]);var Le=arguments.length-2;if(Le===1)Ne.children=le;else if(1<Le){for(var re=Array(Le),ue=0;ue<Le;ue++)re[ue]=arguments[ue+2];Ne.children=re}if(D&&D.defaultProps)for(de in Le=D.defaultProps,Le)Ne[de]===void 0&&(Ne[de]=Le[de]);return C(D,Oe,Ne)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:p,render:D}},Ie.isValidElement=w,Ie.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:$}},Ie.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Ie.startTransition=function(D){var W=x.T,le={};x.T=le;try{var de=D(),Ne=x.S;Ne!==null&&Ne(le,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Se,fe)}catch(Oe){fe(Oe)}finally{W!==null&&le.types!==null&&(W.types=le.types),x.T=W}},Ie.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ie.use=function(D){return x.H.use(D)},Ie.useActionState=function(D,W,le){return x.H.useActionState(D,W,le)},Ie.useCallback=function(D,W){return x.H.useCallback(D,W)},Ie.useContext=function(D){return x.H.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D,W){return x.H.useDeferredValue(D,W)},Ie.useEffect=function(D,W){return x.H.useEffect(D,W)},Ie.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Ie.useId=function(){return x.H.useId()},Ie.useImperativeHandle=function(D,W,le){return x.H.useImperativeHandle(D,W,le)},Ie.useInsertionEffect=function(D,W){return x.H.useInsertionEffect(D,W)},Ie.useLayoutEffect=function(D,W){return x.H.useLayoutEffect(D,W)},Ie.useMemo=function(D,W){return x.H.useMemo(D,W)},Ie.useOptimistic=function(D,W){return x.H.useOptimistic(D,W)},Ie.useReducer=function(D,W,le){return x.H.useReducer(D,W,le)},Ie.useRef=function(D){return x.H.useRef(D)},Ie.useState=function(D){return x.H.useState(D)},Ie.useSyncExternalStore=function(D,W,le){return x.H.useSyncExternalStore(D,W,le)},Ie.useTransition=function(){return x.H.useTransition()},Ie.version="19.2.3",Ie}var O_;function lp(){return O_||(O_=1,fm.exports=$A()),fm.exports}var k=lp(),dm={exports:{}},Po={},mm={exports:{}},pm={};var M_;function XA(){return M_||(M_=1,(function(s){function e(G,ae){var $=G.length;G.push(ae);e:for(;0<$;){var fe=$-1>>>1,he=G[fe];if(0<l(he,ae))G[fe]=ae,G[$]=he,$=fe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],$=G.pop();if($!==ae){G[0]=$;e:for(var fe=0,he=G.length,D=he>>>1;fe<D;){var W=2*(fe+1)-1,le=G[W],de=W+1,Ne=G[de];if(0>l(le,$))de<he&&0>l(Ne,le)?(G[fe]=Ne,G[de]=$,fe=de):(G[fe]=le,G[W]=$,fe=W);else if(de<he&&0>l(Ne,$))G[fe]=Ne,G[de]=$,fe=de;else break e}}return ae}function l(G,ae){var $=G.sortIndex-ae.sortIndex;return $!==0?$:G.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,S=null,R=3,L=!1,z=!1,B=!1,U=!1,X=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ce(G){for(var ae=n(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=G)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function _e(G){if(B=!1,ce(G),!z)if(n(g)!==null)z=!0,Se||(Se=!0,j());else{var ae=n(y);ae!==null&&pe(_e,ae.startTime-G)}}var Se=!1,x=-1,N=5,C=-1;function M(){return U?!0:!(s.unstable_now()-C<N)}function w(){if(U=!1,Se){var G=s.unstable_now();C=G;var ae=!0;try{e:{z=!1,B&&(B=!1,J(x),x=-1),L=!0;var $=R;try{t:{for(ce(G),S=n(g);S!==null&&!(S.expirationTime>G&&M());){var fe=S.callback;if(typeof fe=="function"){S.callback=null,R=S.priorityLevel;var he=fe(S.expirationTime<=G);if(G=s.unstable_now(),typeof he=="function"){S.callback=he,ce(G),ae=!0;break t}S===n(g)&&r(g),ce(G)}else r(g);S=n(g)}if(S!==null)ae=!0;else{var D=n(y);D!==null&&pe(_e,D.startTime-G),ae=!1}}break e}finally{S=null,R=$,L=!1}ae=void 0}}finally{ae?j():Se=!1}}}var j;if(typeof se=="function")j=function(){se(w)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ke=I.port2;I.port1.onmessage=w,j=function(){ke.postMessage(null)}}else j=function(){X(w,0)};function pe(G,ae){x=X(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(G){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var $=R;R=ae;try{return G()}finally{R=$}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=R;R=G;try{return ae()}finally{R=$}},s.unstable_scheduleCallback=function(G,ae,$){var fe=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?fe+$:fe):$=fe,G){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=$+he,G={id:T++,callback:ae,priorityLevel:G,startTime:$,expirationTime:he,sortIndex:-1},$>fe?(G.sortIndex=$,e(y,G),n(g)===null&&G===n(y)&&(B?(J(x),x=-1):B=!0,pe(_e,$-fe))):(G.sortIndex=he,e(g,G),z||L||(z=!0,Se||(Se=!0,j()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var ae=R;return function(){var $=R;R=ae;try{return G.apply(this,arguments)}finally{R=$}}}})(pm)),pm}var V_;function WA(){return V_||(V_=1,mm.exports=XA()),mm.exports}var gm={exports:{}},rn={};var j_;function JA(){if(j_)return rn;j_=1;var s=lp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},rn.flushSync=function(g){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=T,r.d.f()}},rn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},rn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},rn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:L}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},rn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},rn.requestFormReset=function(g){r.d.r(g)},rn.unstable_batchedUpdates=function(g,y){return g(y)},rn.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var k_;function ZA(){if(k_)return gm.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gm.exports=JA(),gm.exports}var L_;function e1(){if(L_)return Po;L_=1;var s=WA(),e=lp(),n=ZA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,o=d;break}if(b===o){_=!0,o=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,o=h;break}if(b===o){_=!0,o=d,a=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case X:return"Profiler";case U:return"StrictMode";case _e:return"Suspense";case Se:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case se:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},fe=[],he=-1;function D(t){return{current:t}}function W(t){0>he||(t.current=fe[he],fe[he]=null,he--)}function le(t,i){he++,fe[he]=t.current,t.current=i}var de=D(null),Ne=D(null),Oe=D(null),Le=D(null);function re(t,i){switch(le(Oe,i),le(Ne,t),le(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Jv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Jv(i),t=Zv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(de),le(de,t)}function ue(){W(de),W(Ne),W(Oe)}function Ce(t){t.memoizedState!==null&&le(Le,t);var i=de.current,a=Zv(i,t.type);i!==a&&(le(Ne,t),le(de,a))}function Ae(t){Ne.current===t&&(W(de),W(Ne)),Le.current===t&&(W(Le),Mo._currentValue=$)}var Gt,pt;function cn(t){if(Gt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Gt=i&&i[1]||"",pt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+t+pt}var vi=!1;function zt(t,i){if(!t||vi)return"";vi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var Q=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){Q=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),F=b.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===F.length)for(o=O.length-1,h=F.length-1;1<=o&&0<=h&&O[o]!==F[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==F[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==F[h]){var Z=`
`+O[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=h);break}}}finally{vi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?cn(a):""}function ei(t,i){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==i&&i!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return zt(t.type,!1);case 11:return zt(t.type.render,!1);case 1:return zt(t.type,!0);case 31:return cn("Activity");default:return""}}function Vl(t){try{var i="",a=null;do i+=ei(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var At=Object.prototype.hasOwnProperty,kt=s.unstable_scheduleCallback,Rs=s.unstable_cancelCallback,df=s.unstable_shouldYield,Au=s.unstable_requestPaint,hn=s.unstable_now,Cr=s.unstable_getCurrentPriorityLevel,jl=s.unstable_ImmediatePriority,kl=s.unstable_UserBlockingPriority,Ns=s.unstable_NormalPriority,mf=s.unstable_LowPriority,wu=s.unstable_IdlePriority,Ru=s.log,Nu=s.unstable_setDisableYieldValue,ti=null,Qt=null;function Ln(t){if(typeof Ru=="function"&&Nu(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ti,t)}catch{}}var vt=Math.clz32?Math.clz32:xu,Cu=Math.log,va=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(Cu(t)/va|0)|0}var _i=256,xr=262144,wt=4194304;function Ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?h=Ei(o):(_&=b,_!==0?h=Ei(_):a||(a=b&~t,a!==0&&(h=Ei(a))))):(b=o&~d,b!==0?h=Ei(b):_!==0?h=Ei(_):a||(a=o&~t,a!==0&&(h=Ei(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ni(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function Si(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ir(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-vt(a),te=1<<Z;b[Z]=0,O[Z]=-1;var Q=F[Z];if(Q!==null)for(F[Z]=null,Z=0;Z<Q.length;Z++){var Y=Q[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}o!==0&&Dr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Dr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ll(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-vt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Pl(t,i){var a=i&-i;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|i))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function ii(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var si=Math.random().toString(36).slice(2),Rt="__reactFiber$"+si,Bt="__reactProps$"+si,bi="__reactContainer$"+si,_a="__reactEvents$"+si,yf="__reactListeners$"+si,Ou="__reactHandles$"+si,Mu="__reactResources$"+si,Ai="__reactMarker$"+si;function Ea(t){delete t[Rt],delete t[Bt],delete t[_a],delete t[yf],delete t[Ou]}function wi(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=a_(t);t!==null;){if(a=t[Rt])return a;t=a_(t)}return i}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[Rt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Ri(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(t){t[Ai]=!0}var Ul=new Set,zl={};function Ni(t,i){Ci(t,i),Ci(t+"Capture",i)}function Ci(t,i){for(zl[t]=i,t=0;t<i.length;t++)Ul.add(i[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Hl={};function Vu(t){return At.call(Hl,t)?!0:At.call(ql,t)?!1:Bl.test(t)?Hl[t]=!0:(ql[t]=!0,!1)}function Ta(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function An(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=Cs(t)?"checked":"value";t._valueTracker=Fl(t,i,""+t[i])}}function Mr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Cs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function mn(t){return t.replace(Vr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sa(t,i,a,o,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+qt(i)):t.value!==""+qt(i)&&(t.value=""+qt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Gl(t,_,qt(i)):a!=null?Gl(t,_,qt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+qt(b):t.removeAttribute("name")}function ju(t,i,a,o,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function Gl(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ku(t,i,a){if(i!=null&&(i=""+qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+qt(a):""}function Is(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=qt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ze(t)}function pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Kl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ql(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Ql(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Yl=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ii=null;function jr(t){var i=Pn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Bt]||null;if(!h)throw Error(r(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Mr(o)}break e;case"textarea":ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xs(t,!!a.multiple,i,!1)}}}var wa=!1;function Ms(t,i,a){if(wa)return t(i,a);wa=!0;try{var o=t(i);return o}finally{if(wa=!1,(Os!==null||Ii!==null)&&(Dc(),Os&&(i=Os,t=Ii,Ii=Os=null,jr(i),t)))for(i=0;i<t.length;i++)jr(t[i])}}function ai(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Bt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(zn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{kr=!1}var Di=null,$l=null,Lr=null;function Xl(){if(Lr)return Lr;var t,i=$l,a=i.length,o,h="value"in Di?Di.value:Di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Lr=h.slice(t,1<o?1-o:void 0)}function Pr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function li(){return!1}function Kt(t){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:li,this.isPropagationStopped=li,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Kt(Wi),Vs=S({},Wi,{view:0,detail:0}),Wl=Kt(Vs),js,Ra,Mi,Na=S({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(js=t.screenX-Mi.screenX,Ra=t.screenY-Mi.screenY):Ra=js=0,Mi=t),js)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Jl=Kt(Na),Ur=S({},Na,{dataTransfer:0}),Uu=Kt(Ur),zu=S({},Vs,{relatedTarget:0}),zr=Kt(zu),Zl=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Kt(Zl),Ca=S({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=Kt(Ca),Hu=S({},Wi,{data:0}),Vi=Kt(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Qu[t])?!!i[t]:!1}function ks(){return Ku}var fn=S({},Vs,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=Kt(fn),$u=S({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Kt($u),c=S({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),v=Kt(c),E=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(E),q=S({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Kt(q),oe=S({},Wi,{newState:0,oldState:0}),Me=Kt(oe),_t=[9,13,27,32],Xe=zn&&"CompositionEvent"in window,ht=null;zn&&"documentMode"in document&&(ht=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ht,ji=zn&&(!Xe||ht&&8<ht&&11>=ht),oi=" ",ui=!1;function Br(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function yb(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(ui=!0,oi);case"textInput":return t=i.data,t===oi&&ui?null:t;default:return null}}function vb(t,i){if(Ia)return t==="compositionend"||!Xe&&Br(t,i)?(t=Xl(),Lr=$l=Di=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ji&&i.locale!=="ko"?null:i.data;default:return null}}var _b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!_b[t.type]:i==="textarea"}function cg(t,i,a,o){Os?Ii?Ii.push(o):Ii=[o]:Os=o,i=Pc(i,"onChange"),0<i.length&&(a=new Oi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var eo=null,to=null;function Eb(t){Qv(t,0)}function Xu(t){var i=bn(t);if(Mr(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(zn){var vf;if(zn){var _f="oninput"in document;if(!_f){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),_f=typeof dg.oninput=="function"}vf=_f}else vf=!1;fg=vf&&(!document.documentMode||9<document.documentMode)}function mg(){eo&&(eo.detachEvent("onpropertychange",pg),to=eo=null)}function pg(t){if(t.propertyName==="value"&&Xu(to)){var i=[];cg(i,to,t,Un(t)),Ms(Eb,i)}}function Tb(t,i,a){t==="focusin"?(mg(),eo=i,to=a,eo.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function Sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(to)}function bb(t,i){if(t==="click")return Xu(i)}function Ab(t,i){if(t==="input"||t==="change")return Xu(i)}function wb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:wb;function no(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!At.call(i,h)||!wn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Rb=zn&&"documentMode"in document&&11>=document.documentMode,Da=null,Tf=null,io=null,Sf=!1;function Eg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Da==null||Da!==xi(o)||(o=Da,"selectionStart"in o&&Ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&no(io,o)||(io=o,o=Pc(Tf,"onSelect"),0<o.length&&(i=new Oi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Da)))}function qr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},bf={},Tg={};zn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Hr(t){if(bf[t])return bf[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return bf[t]=i[a];return t}var Sg=Hr("animationend"),bg=Hr("animationiteration"),Ag=Hr("animationstart"),Nb=Hr("transitionrun"),Cb=Hr("transitionstart"),xb=Hr("transitioncancel"),wg=Hr("transitionend"),Rg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ci(t,i){Rg.set(t,i),Ni(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Ma=0,wf=0;function Ju(){for(var t=Ma,i=wf=Ma=0;i<t;){var a=qn[i];qn[i++]=null;var o=qn[i];qn[i++]=null;var h=qn[i];qn[i++]=null;var d=qn[i];if(qn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Ng(a,h,d)}}function Zu(t,i,a,o){qn[Ma++]=t,qn[Ma++]=i,qn[Ma++]=a,qn[Ma++]=o,wf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Rf(t,i,a,o){return Zu(t,i,a,o),ec(t)}function Fr(t,i){return Zu(t,null,null,i),ec(t)}function Ng(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-vt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Ro)throw Ro=0,jd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function Ib(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,o){return new Ib(t,i,a,o)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,o,h,d){var _=0;if(o=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=jA(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Rn(31,a,i,h),t.elementType=C,t.lanes=d,t;case B:return Gr(a.children,h,d,i);case U:_=8,h|=24;break;case X:return t=Rn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case _e:return t=Rn(13,a,i,h),t.elementType=_e,t.lanes=d,t;case Se:return t=Rn(19,a,i,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case J:_=9;break e;case ce:_=11;break e;case x:_=14;break e;case N:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Rn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Gr(t,i,a,o){return t=Rn(7,t,o,i),t.lanes=a,t}function Cf(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function xg(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function xf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ig=new WeakMap;function Hn(t,i){if(typeof t=="object"&&t!==null){var a=Ig.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vl(i)},Ig.set(t,i),i)}return{value:t,source:i,stack:Vl(i)}}var ja=[],ka=0,nc=null,so=0,Fn=[],Gn=0,Ls=null,ki=1,Li="";function es(t,i){ja[ka++]=so,ja[ka++]=nc,nc=t,so=i}function Dg(t,i,a){Fn[Gn++]=ki,Fn[Gn++]=Li,Fn[Gn++]=Ls,Ls=t;var o=ki;t=Li;var h=32-vt(o)-1;o&=~(1<<h),a+=1;var d=32-vt(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,ki=1<<32-vt(i)+h|a<<h|o,Li=d+t}else ki=1<<d|a<<h|o,Li=t}function If(t){t.return!==null&&(es(t,1),Dg(t,1,0))}function Df(t){for(;t===nc;)nc=ja[--ka],ja[ka]=null,so=ja[--ka],ja[ka]=null;for(;t===Ls;)Ls=Fn[--Gn],Fn[Gn]=null,Li=Fn[--Gn],Fn[Gn]=null,ki=Fn[--Gn],Fn[Gn]=null}function Og(t,i){Fn[Gn++]=ki,Fn[Gn++]=Li,Fn[Gn++]=Ls,ki=i.id,Li=i.overflow,Ls=t}var Yt=null,ot=null,Ge=!1,Ps=null,Qn=!1,Of=Error(r(519));function Us(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(Hn(i,t)),Of}function Mg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Rt]=t,i[Bt]=o,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Co.length;a++)Ue(Co[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),ju(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Is(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Xv(i.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),o.onScroll!=null&&Ue("scroll",i),o.onScrollEnd!=null&&Ue("scrollend",i),o.onClick!=null&&(i.onclick=ri),i=!0):i=!1,i||Us(t,!0)}function Vg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Yt=Yt.return}}function La(t){if(t!==Yt)return!1;if(!Ge)return Vg(t),Ge=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&ot&&Us(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=r_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=r_(t)}else i===27?(i=ot,Zs(t.type)?(t=tm,tm=null,ot=t):ot=i):ot=Yt?Yn(t.stateNode.nextSibling):null;return!0}function Qr(){ot=Yt=null,Ge=!1}function Mf(){var t=Ps;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Ps=null),t}function ro(t){Ps===null?Ps=[t]:Ps.push(t)}var Vf=D(null),Kr=null,ts=null;function zs(t,i,a){le(Vf,i._currentValue),i._currentValue=a}function ns(t){t._currentValue=Vf.current,W(Vf)}function jf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var O=0;O<i.length;O++)if(b.context===i[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),jf(d.return,a,t),o||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Pa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;wn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Mo):t=[Mo])}h=h.return}t!==null&&kf(i,t,a,o),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Kr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return jg(Kr,t)}function sc(t,i){return Kr===null&&Yr(t),jg(t,i)}function jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ts=ts.next=i;return a}var Db=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ob=s.unstable_scheduleCallback,Mb=s.unstable_NormalPriority,xt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new Db,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&Ob(Mb,function(){t.controller.abort()})}var lo=null,Pf=0,Ua=0,za=null;function Vb(t,i){if(lo===null){var a=lo=[];Pf=0,Ua=Bd(),za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Pf++,i.then(kg,kg),i}function kg(){if(--Pf===0&&lo!==null){za!==null&&(za.status="fulfilled");var t=lo;lo=null,Ua=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function jb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Lg=G.S;G.S=function(t,i){Ev=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Vb(t,i),Lg!==null&&Lg(t,i)};var $r=D(null);function Uf(){var t=$r.current;return t!==null?t:at.pooledCache}function rc(t,i){i===null?le($r,$r.current):le($r,i.pool)}function Pg(){var t=Uf();return t===null?null:{parent:xt._currentValue,pool:t}}var Ba=Error(r(460)),zf=Error(r(474)),ac=Error(r(542)),lc={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ri,ri),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(ri,ri);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw Wr=i,Ba}}function Xr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Ba):a}}var Wr=null;function Bg(){if(Wr===null)throw Error(r(459));var t=Wr;return Wr=null,t}function qg(t){if(t===Ba||t===ac)throw Error(r(483))}var qa=null,oo=0;function oc(t){var i=oo;return oo+=1,qa===null&&(qa=[]),zg(qa,t,i)}function uo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(P,V){if(t){var H=P.deletions;H===null?(P.deletions=[V],P.flags|=16):H.push(V)}}function a(P,V){if(!t)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function o(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Zi(P,V),P.index=0,P.sibling=null,P}function d(P,V,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<V?(P.flags|=67108866,V):H):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,V,H,ee){return V===null||V.tag!==6?(V=Cf(H,P.mode,ee),V.return=P,V):(V=h(V,H),V.return=P,V)}function O(P,V,H,ee){var Ee=H.type;return Ee===B?Z(P,V,H.props.children,ee,H.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===N&&Xr(Ee)===V.type)?(V=h(V,H.props),uo(V,H),V.return=P,V):(V=tc(H.type,H.key,H.props,null,P.mode,ee),uo(V,H),V.return=P,V)}function F(P,V,H,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=xf(H,P.mode,ee),V.return=P,V):(V=h(V,H.children||[]),V.return=P,V)}function Z(P,V,H,ee,Ee){return V===null||V.tag!==7?(V=Gr(H,P.mode,ee,Ee),V.return=P,V):(V=h(V,H),V.return=P,V)}function te(P,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,P.mode,H),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return H=tc(V.type,V.key,V.props,null,P.mode,H),uo(H,V),H.return=P,H;case z:return V=xf(V,P.mode,H),V.return=P,V;case N:return V=Xr(V),te(P,V,H)}if(pe(V)||j(V))return V=Gr(V,P.mode,H,null),V.return=P,V;if(typeof V.then=="function")return te(P,oc(V),H);if(V.$$typeof===se)return te(P,sc(P,V),H);uc(P,V)}return null}function Q(P,V,H,ee){var Ee=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:b(P,V,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===Ee?O(P,V,H,ee):null;case z:return H.key===Ee?F(P,V,H,ee):null;case N:return H=Xr(H),Q(P,V,H,ee)}if(pe(H)||j(H))return Ee!==null?null:Z(P,V,H,ee,null);if(typeof H.then=="function")return Q(P,V,oc(H),ee);if(H.$$typeof===se)return Q(P,V,sc(P,H),ee);uc(P,H)}return null}function Y(P,V,H,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(H)||null,b(V,P,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return P=P.get(ee.key===null?H:ee.key)||null,O(V,P,ee,Ee);case z:return P=P.get(ee.key===null?H:ee.key)||null,F(V,P,ee,Ee);case N:return ee=Xr(ee),Y(P,V,H,ee,Ee)}if(pe(ee)||j(ee))return P=P.get(H)||null,Z(V,P,ee,Ee,null);if(typeof ee.then=="function")return Y(P,V,H,oc(ee),Ee);if(ee.$$typeof===se)return Y(P,V,H,sc(V,ee),Ee);uc(V,ee)}return null}function ye(P,V,H,ee){for(var Ee=null,Ye=null,ve=V,je=V=0,Be=null;ve!==null&&je<H.length;je++){ve.index>je?(Be=ve,ve=null):Be=ve.sibling;var $e=Q(P,ve,H[je],ee);if($e===null){ve===null&&(ve=Be);break}t&&ve&&$e.alternate===null&&i(P,ve),V=d($e,V,je),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e,ve=Be}if(je===H.length)return a(P,ve),Ge&&es(P,je),Ee;if(ve===null){for(;je<H.length;je++)ve=te(P,H[je],ee),ve!==null&&(V=d(ve,V,je),Ye===null?Ee=ve:Ye.sibling=ve,Ye=ve);return Ge&&es(P,je),Ee}for(ve=o(ve);je<H.length;je++)Be=Y(ve,P,je,H[je],ee),Be!==null&&(t&&Be.alternate!==null&&ve.delete(Be.key===null?je:Be.key),V=d(Be,V,je),Ye===null?Ee=Be:Ye.sibling=Be,Ye=Be);return t&&ve.forEach(function(sr){return i(P,sr)}),Ge&&es(P,je),Ee}function be(P,V,H,ee){if(H==null)throw Error(r(151));for(var Ee=null,Ye=null,ve=V,je=V=0,Be=null,$e=H.next();ve!==null&&!$e.done;je++,$e=H.next()){ve.index>je?(Be=ve,ve=null):Be=ve.sibling;var sr=Q(P,ve,$e.value,ee);if(sr===null){ve===null&&(ve=Be);break}t&&ve&&sr.alternate===null&&i(P,ve),V=d(sr,V,je),Ye===null?Ee=sr:Ye.sibling=sr,Ye=sr,ve=Be}if($e.done)return a(P,ve),Ge&&es(P,je),Ee;if(ve===null){for(;!$e.done;je++,$e=H.next())$e=te(P,$e.value,ee),$e!==null&&(V=d($e,V,je),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return Ge&&es(P,je),Ee}for(ve=o(ve);!$e.done;je++,$e=H.next())$e=Y(ve,P,je,$e.value,ee),$e!==null&&(t&&$e.alternate!==null&&ve.delete($e.key===null?je:$e.key),V=d($e,V,je),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return t&&ve.forEach(function(QA){return i(P,QA)}),Ge&&es(P,je),Ee}function rt(P,V,H,ee){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var Ee=H.key;V!==null;){if(V.key===Ee){if(Ee=H.type,Ee===B){if(V.tag===7){a(P,V.sibling),ee=h(V,H.props.children),ee.return=P,P=ee;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===N&&Xr(Ee)===V.type){a(P,V.sibling),ee=h(V,H.props),uo(ee,H),ee.return=P,P=ee;break e}a(P,V);break}else i(P,V);V=V.sibling}H.type===B?(ee=Gr(H.props.children,P.mode,ee,H.key),ee.return=P,P=ee):(ee=tc(H.type,H.key,H.props,null,P.mode,ee),uo(ee,H),ee.return=P,P=ee)}return _(P);case z:e:{for(Ee=H.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(P,V.sibling),ee=h(V,H.children||[]),ee.return=P,P=ee;break e}else{a(P,V);break}else i(P,V);V=V.sibling}ee=xf(H,P.mode,ee),ee.return=P,P=ee}return _(P);case N:return H=Xr(H),rt(P,V,H,ee)}if(pe(H))return ye(P,V,H,ee);if(j(H)){if(Ee=j(H),typeof Ee!="function")throw Error(r(150));return H=Ee.call(H),be(P,V,H,ee)}if(typeof H.then=="function")return rt(P,V,oc(H),ee);if(H.$$typeof===se)return rt(P,V,sc(P,H),ee);uc(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(P,V.sibling),ee=h(V,H),ee.return=P,P=ee):(a(P,V),ee=Cf(H,P.mode,ee),ee.return=P,P=ee),_(P)):a(P,V)}return function(P,V,H,ee){try{oo=0;var Ee=rt(P,V,H,ee);return qa=null,Ee}catch(ve){if(ve===Ba||ve===ac)throw ve;var Ye=Rn(29,ve,null,P.mode);return Ye.lanes=ee,Ye.return=P,Ye}}}var Jr=Hg(!0),Fg=Hg(!1),Bs=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=ec(t),Ng(t,null,a),i}return Zu(t,o,i,a),ec(t)}function co(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}function Hf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ho(){if(Ff){var t=za;if(t!==null)throw t}}function fo(t,i,a,o){Ff=!1;var h=t.updateQueue;Bs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var O=b,F=O.next;O.next=null,_===null?d=F:_.next=F,_=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=O))}if(d!==null){var te=h.baseState;_=0,Z=F=O=null,b=d;do{var Q=b.lane&-536870913,Y=Q!==b.lane;if(Y?(ze&Q)===Q:(o&Q)===Q){Q!==0&&Q===Ua&&(Ff=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=t,be=b;Q=i;var rt=a;switch(be.tag){case 1:if(ye=be.payload,typeof ye=="function"){te=ye.call(rt,te,Q);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,Q=typeof ye=="function"?ye.call(rt,te,Q):ye,Q==null)break e;te=S({},te,Q);break e;case 2:Bs=!0}}Q=b.callback,Q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=Y,O=te):Z=Z.next=Y,_|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(O=te),h.baseState=O,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Ys|=_,t.lanes=_,t.memoizedState=te}}function Gg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var Ha=D(null),cc=D(0);function Kg(t,i){t=hs,le(cc,t),le(Ha,i),hs=t|i.baseLanes}function Gf(){le(cc,hs),le(Ha,Ha.current)}function Qf(){hs=cc.current,W(Ha),W(cc)}var Nn=D(null),Kn=null;function Fs(t){var i=t.alternate;le(Et,Et.current&1),le(Nn,t),Kn===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(Kn=t)}function Kf(t){le(Et,Et.current),le(Nn,t),Kn===null&&(Kn=t)}function Yg(t){t.tag===22?(le(Et,Et.current),le(Nn,t),Kn===null&&(Kn=t)):Gs()}function Gs(){le(Et,Et.current),le(Nn,Nn.current)}function Cn(t){W(Nn),Kn===t&&(Kn=null),W(Et)}var Et=D(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var is=0,Ve=null,it=null,It=null,fc=!1,Fa=!1,Zr=!1,dc=0,mo=0,Ga=null,kb=0;function gt(){throw Error(r(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function $f(t,i,a,o,h,d){return is=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Dy:cd,Zr=!1,d=a(o,h),Zr=!1,Fa&&(d=Xg(i,a,o,h)),$g(t),d}function $g(t){G.H=yo;var i=it!==null&&it.next!==null;if(is=0,It=it=Ve=null,fc=!1,mo=0,Ga=null,i)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&ic(t)&&(Dt=!0))}function Xg(t,i,a,o){Ve=t;var h=0;do{if(Fa&&(Ga=null),mo=0,Fa=!1,25<=h)throw Error(r(301));if(h+=1,It=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Oy,d=i(a,o)}while(Fa);return d}function Lb(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?po(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ve.flags|=1024),i}function Xf(){var t=dc!==0;return dc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}is=0,It=it=Ve=null,Fa=!1,mo=dc=0,Ga=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ve.memoizedState=It=t:It=It.next=t,It}function Tt(){if(it===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=It===null?Ve.memoizedState:It.next;if(i!==null)It=i,it=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},It===null?Ve.memoizedState=It=t:It=It.next=t}return It}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var i=mo;return mo+=1,Ga===null&&(Ga=[]),t=zg(Ga,t,i),i=Ve,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Dy:cd),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===se)return $t(t)}throw Error(r(438,String(t)))}function Zf(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function ss(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=Tt();return ed(i,it,t)}function ed(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,O=null,F=i,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(ze&te)===te:(is&te)===te){var Q=F.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Ua&&(Z=!0);else if((is&Q)===Q){F=F.next,Q===Ua&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=te,_=d):O=O.next=te,Ve.lanes|=Q,Ys|=Q;te=F.action,Zr&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else Q={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=Q,_=d):O=O.next=Q,Ve.lanes|=te,Ys|=te;F=F.next}while(F!==null&&F!==i);if(O===null?_=d:O.next=b,!wn(d,t.memoizedState)&&(Dt=!0,Z&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=O,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function td(t){var i=Tt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);wn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Wg(t,i,a){var o=Ve,h=Tt(),d=Ge;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!wn((it||h).memoizedState,a);if(_&&(h.memoizedState=a,Dt=!0),h=h.queue,sd(ey.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(o.flags|=2048,Qa(9,{destroy:void 0},Zg.bind(null,o,h,a,i),null),at===null)throw Error(r(349));d||(is&127)!==0||Jg(o,i,a)}return a}function Jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=mc(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zg(t,i,a,o){i.value=a,i.getSnapshot=o,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function ny(t){var i=Fr(t,2);i!==null&&En(i,t,2)}function nd(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),Zr){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},i}function iy(t,i,a,o){return t.baseState=a,ed(t,it,typeof o=="function"?o:ss)}function Pb(t,i,a,o,h){if(_c(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sy(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var b=a(h,o),O=G.S;O!==null&&O(_,b),ry(t,i,b)}catch(F){id(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,o),ry(t,i,d)}catch(F){id(t,i,F)}}function ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ay(t,i,o)},function(o){return id(t,i,o)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,sy(t,a)))}function id(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,ly(i),i=i.next;while(i!==o)}t.action=null}function ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function oy(t,i){return i}function uy(t,i){if(Ge){var a=at.formState;if(a!==null){e:{var o=Ve;if(Ge){if(ot){t:{for(var h=ot,d=Qn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Yn(h.nextSibling),o=h.data==="F!";break e}}Us(o)}o=!1}o&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},a.queue=o,a=Cy.bind(null,Ve,o),o.dispatch=a,o=nd(!1),d=ud.bind(null,Ve,!1,o.queue),o=dn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Pb.bind(null,Ve,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function cy(t){var i=Tt();return hy(i,it,t)}function hy(t,i,a){if(i=ed(t,i,oy)[0],t=gc(ss)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=po(i)}catch(_){throw _===Ba?ac:_}else o=i;i=Tt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Qa(9,{destroy:void 0},Ub.bind(null,h,a),null)),[o,d,t]}function Ub(t,i){t.action=i}function fy(t){var i=Tt(),a=it;if(a!==null)return hy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Qa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=mc(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function dy(){return Tt().memoizedState}function yc(t,i,a,o){var h=dn();Ve.flags|=t,h.memoizedState=Qa(1|i,{destroy:void 0},a,o===void 0?null:o)}function vc(t,i,a,o){var h=Tt();o=o===void 0?null:o;var d=h.memoizedState.inst;it!==null&&o!==null&&Yf(o,it.memoizedState.deps)?h.memoizedState=Qa(i,d,a,o):(Ve.flags|=t,h.memoizedState=Qa(1|i,d,a,o))}function my(t,i){yc(8390656,8,t,i)}function sd(t,i){vc(2048,8,t,i)}function zb(t){Ve.flags|=4;var i=Ve.updateQueue;if(i===null)i=mc(),Ve.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=Tt().memoizedState;return zb({ref:i,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return vc(4,2,t,i)}function yy(t,i){return vc(4,4,t,i)}function vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function _y(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,vy.bind(null,i,t),a)}function rd(){}function Ey(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Yf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Yf(i,o[1]))return o[0];if(o=t(),Zr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[o,i],o}function ad(t,i,a){return a===void 0||(is&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Sv(),Ve.lanes|=t,Ys|=t,a)}function Sy(t,i,a,o){return wn(a,i)?a:Ha.current!==null?(t=ad(t,a,o),wn(t,i)||(Dt=!0),t):(is&42)===0||(is&1073741824)!==0&&(ze&261930)===0?(Dt=!0,t.memoizedState=a):(t=Sv(),Ve.lanes|=t,Ys|=t,i)}function by(t,i,a,o,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=G.T,b={};G.T=b,ud(t,!1,i,a);try{var O=h(),F=G.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=jb(O,o);go(t,i,Z,Dn(t))}else go(t,i,o,Dn(t))}catch(te){go(t,i,{then:function(){},status:"rejected",reason:te},Dn())}finally{ae.p=d,_!==null&&b.types!==null&&(_.types=b.types),G.T=_}}function Bb(){}function ld(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=Ay(t).queue;by(t,h,i,$,a===null?Bb:function(){return wy(t),a(o)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:$},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),go(t,i.next.queue,{},Dn())}function od(){return $t(Mo)}function Ry(){return Tt().memoizedState}function Ny(){return Tt().memoizedState}function qb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=qs(a);var o=Hs(i,t,a);o!==null&&(En(o,i,a),co(o,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function Hb(t,i,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?xy(i,a):(a=Rf(t,i,a,o),a!==null&&(En(a,t,o),Iy(a,i,o)))}function Cy(t,i,a){var o=Dn();go(t,i,a,o)}function go(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,wn(b,_))return Zu(t,i,h,0),at===null&&Ju(),!1}catch{}if(a=Rf(t,i,h,o),a!==null)return En(a,t,o),Iy(a,i,o),!0}return!1}function ud(t,i,a,o){if(o={lane:2,revertLane:Bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(r(479))}else i=Rf(t,a,o,2),i!==null&&En(i,t,2)}function _c(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function xy(t,i){Fa=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Iy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}var yo={readContext:$t,use:pc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};yo.useEffectEvent=gt;var Dy={readContext:$t,use:pc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var o=t();if(Zr){Ln(!0);try{t()}finally{Ln(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=dn();if(a!==void 0){var h=a(i);if(Zr){Ln(!0);try{a(i)}finally{Ln(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Hb.bind(null,Ve,t),[o.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Cy.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=dn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=by.bind(null,Ve,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ve,h=dn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),at===null)throw Error(r(349));(ze&127)!==0||Jg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,o,d,t),[t]),o.flags|=2048,Qa(9,{destroy:void 0},Zg.bind(null,o,d,a,i),null),a},useId:function(){var t=dn(),i=at.identifierPrefix;if(Ge){var a=Li,o=ki;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=kb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return dn().memoizedState=qb.bind(null,Ve)},useEffectEvent:function(t){var i=dn(),a={impl:t};return i.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:$t,use:pc,useCallback:Ey,useContext:$t,useEffect:sd,useImperativeHandle:_y,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:gc,useRef:dy,useState:function(){return gc(ss)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Tt();return Sy(a,it.memoizedState,t,i)},useTransition:function(){var t=gc(ss)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:po(t),i]},useSyncExternalStore:Wg,useId:Ry,useHostTransitionStatus:od,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=Tt();return iy(a,it,t,i)},useMemoCache:Zf,useCacheRefresh:Ny};cd.useEffectEvent=py;var Oy={readContext:$t,use:pc,useCallback:Ey,useContext:$t,useEffect:sd,useImperativeHandle:_y,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:td,useRef:dy,useState:function(){return td(ss)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Tt();return it===null?ad(a,t,i):Sy(a,it.memoizedState,t,i)},useTransition:function(){var t=td(ss)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:po(t),i]},useSyncExternalStore:Wg,useId:Ry,useHostTransitionStatus:od,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=Tt();return it!==null?iy(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Ny};Oy.useEffectEvent=py;function hd(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Dn(),h=qs(o);h.payload=i,a!=null&&(h.callback=a),i=Hs(t,h,o),i!==null&&(En(i,t,o),co(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Dn(),h=qs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Hs(t,h,o),i!==null&&(En(i,t,o),co(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),o=qs(a);o.tag=2,i!=null&&(o.callback=i),i=Hs(t,o,a),i!==null&&(En(i,t,a),co(i,t,a))}};function My(t,i,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!no(a,o)||!no(h,d):!0}function Vy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function ea(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function jy(t){Wu(t)}function ky(t){console.error(t)}function Ly(t){Wu(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Py(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function Uy(t){return t=qs(t),t.tag=3,t}function zy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Py(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Py(i,a,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Fb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?Oc():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Pd(t,o,h)),!1;case 22:return a.flags|=65536,o===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Pd(t,o,h)),!1}throw Error(r(435,a.tag))}return Pd(t,o,h),Oc(),!1}if(Ge)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Of&&(t=Error(r(422),{cause:o}),ro(Hn(t,a)))):(o!==Of&&(i=Error(r(423),{cause:o}),ro(Hn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Hn(o,a),h=dd(t.stateNode,o,h),Hf(t,h),yt!==4&&(yt=2)),!1;var d=Error(r(520),{cause:o});if(d=Hn(d,a),wo===null?wo=[d]:wo.push(d),yt!==4&&(yt=2),i===null)return!0;o=Hn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,o,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),zy(h,t,a,o),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(r(461)),Dt=!1;function Xt(t,i,a,o){i.child=t===null?Fg(i,null,a,o):Jr(i,t.child,a,o)}function By(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return Yr(i),o=$f(t,i,a,_,d,h),b=Xf(),t!==null&&!Dt?(Wf(t,i,h),rs(t,i,h)):(Ge&&b&&If(i),i.flags|=1,Xt(t,i,o,h),i.child)}function qy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,o,h)):(t=tc(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:no,a(_,o)&&t.ref===i.ref)return rs(t,i,h)}return i.flags|=1,t=Zi(d,o),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(no(d,o)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=o=d,Sd(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,rs(t,i,h)}return pd(t,i,a,o,h)}function Fy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Gy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Kg(i,d):Gf(),Yg(i);else return o=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(rc(i,d.cachePool),Kg(i,d),Gs(),i.memoizedState=null):(t!==null&&rc(i,null),Gf(),Gs());return Xt(t,i,h,a),i.child}function vo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,o,h){var d=Uf();return d=d===null?null:{parent:xt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Gf(),Yg(i),t!==null&&Pa(t,i,o,!0),i.childLanes=h,null}function Tc(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Qy(t,i,a){return Jr(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function Gb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=Tc(i,o),i.lanes=536870912,vo(null,t);if(Kf(i),(t=ot)?(t=s_(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Yt=i,ot=null)):t=null,t===null)throw Us(i);return i.lanes=536870912,null}return Tc(i,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Dt||Pa(t,i,a,!1),h=(a&t.childLanes)!==0,Dt||h){if(o=at,o!==null&&(_=Pl(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Fr(t,_),En(o,t,_),md;Oc(),i=Qy(t,i,a)}else t=d.treeContext,ot=Yn(_.nextSibling),Yt=i,Ge=!0,Ps=null,Qn=!1,t!==null&&Og(i,t),i=Tc(i,o),i.flags|=4096;return i}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,o,h){return Yr(i),a=$f(t,i,a,o,void 0,h),o=Xf(),t!==null&&!Dt?(Wf(t,i,h),rs(t,i,h)):(Ge&&o&&If(i),i.flags|=1,Xt(t,i,a,h),i.child)}function Ky(t,i,a,o,h,d){return Yr(i),i.updateQueue=null,a=Xg(i,o,a,h),$g(t),o=Xf(),t!==null&&!Dt?(Wf(t,i,d),rs(t,i,d)):(Ge&&o&&If(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Yy(t,i,a,o,h){if(Yr(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),fo(i,o,d,h),ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,O=ea(a,b);d.props=O;var F=d.context,Z=a.contextType;_=Va,typeof Z=="object"&&Z!==null&&(_=$t(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&Vy(i,d,o,_),Bs=!1;var Q=i.memoizedState;d.state=Q,fo(i,o,d,h),ho(),F=i.memoizedState,b||Q!==F||Bs?(typeof te=="function"&&(hd(i,a,te,o),F=i.memoizedState),(O=Bs||My(i,a,O,o,Q,F,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=F),d.props=o,d.state=F,d.context=_,o=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,qf(t,i),_=i.memoizedProps,Z=ea(a,_),d.props=Z,te=i.pendingProps,Q=d.context,F=a.contextType,O=Va,typeof F=="object"&&F!==null&&(O=$t(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||Q!==O)&&Vy(i,d,o,O),Bs=!1,Q=i.memoizedState,d.state=Q,fo(i,o,d,h),ho();var Y=i.memoizedState;_!==te||Q!==Y||Bs||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof b=="function"&&(hd(i,a,b,o),Y=i.memoizedState),(Z=Bs||My(i,a,Z,o,Q,Y,O)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),d.props=o,d.state=Y,d.context=O,o=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Sc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Jr(i,t.child,null,h),i.child=Jr(i,null,a,h)):Xt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=rs(t,i,h),t}function $y(t,i,a,o){return Qr(),i.flags|=256,Xt(t,i,a,o),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Pg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function Xy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(h?Fs(i):Gs(),(t=ot)?(t=s_(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,Yt=i,ot=null)):t=null,t===null)throw Us(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Gs(),h=i.mode,b=bc({mode:"hidden",children:b},h),o=Gr(o,h,a,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=yd(a),o.childLanes=vd(t,_,a),i.memoizedState=gd,vo(null,o)):(Fs(i),_d(i,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)i.flags&256?(Fs(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Gs(),i.child=t.child,i.flags|=128,i=null):(Gs(),b=o.fallback,h=i.mode,o=bc({mode:"visible",children:o.children},h),b=Gr(b,h,a,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Jr(i,t.child,null,a),o=i.child,o.memoizedState=yd(a),o.childLanes=vd(t,_,a),i.memoizedState=gd,i=vo(null,o));else if(Fs(i),em(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,o=Error(r(419)),o.stack="",o.digest=_,ro({value:o,source:null,stack:null}),i=Ed(t,i,a)}else if(Dt||Pa(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=at,_!==null&&(o=Pl(_,a),o!==0&&o!==O.retryLane))throw O.retryLane=o,Fr(t,o),En(_,t,o),md;Zd(b)||Oc(),i=Ed(t,i,a)}else Zd(b)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,ot=Yn(b.nextSibling),Yt=i,Ge=!0,Ps=null,Qn=!1,t!==null&&Og(i,t),i=_d(i,o.children),i.flags|=4096);return i}return h?(Gs(),b=o.fallback,h=i.mode,O=t.child,F=O.sibling,o=Zi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=Zi(F,b):(b=Gr(b,h,a,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,vo(null,o),o=i.child,b=t.child.memoizedState,b===null?b=yd(a):(h=b.cachePool,h!==null?(O=xt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Pg(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=vd(t,_,a),i.memoizedState=gd,vo(t.child,o)):(Fs(i),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Jr(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),jf(t.return,i,a)}function Td(t,i,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Jy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=Et.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,le(Et,_),Xt(t,i,o,a),o=Ge?so:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,i);else if(t.tag===19)Wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(i,!0,a,null,d,o);break;case"together":Td(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function rs(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ys|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function Qb(t,i,a){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),zs(i,xt,t.memoizedState.cache),Qr();break;case 27:case 5:Ce(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:zs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(Fs(i),t=rs(t,i,a),t!==null?t.sibling:null);Fs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Pa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Et,Et.current),o)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:zs(i,xt,t.memoizedState.cache)}return rs(t,i,a)}function Zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Dt=!1,Qb(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Ge&&(i.flags&1048576)!==0&&Dg(i,so,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Xr(i.elementType),i.type=t,typeof t=="function")Nf(t)?(o=ea(t,o),i.tag=1,i=Yy(null,i,t,o,a)):(i.tag=0,i=pd(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){i.tag=11,i=By(null,i,t,o,a);break e}else if(h===x){i.tag=14,i=qy(null,i,t,o,a);break e}}throw i=ke(t)||t,Error(r(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ea(o,i.pendingProps),Yy(t,i,o,h,a);case 3:e:{if(re(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,qf(t,i),fo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,zs(i,xt,o),o!==d.cache&&kf(i,[xt],a,!0),ho(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=$y(t,i,o,a);break e}else if(o!==h){h=Hn(Error(r(424)),i),ro(h),i=$y(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Yn(t.firstChild),Yt=i,Ge=!0,Ps=null,Qn=!0,a=Fg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qr(),o===h){i=rs(t,i,a);break e}Xt(t,i,o,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=c_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,o=Uc(Oe.current).createElement(a),o[Rt]=i,o[Bt]=t,Wt(o,a,t),Nt(o),i.stateNode=o):i.memoizedState=c_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ce(i),t===null&&Ge&&(o=i.stateNode=l_(i.type,i.pendingProps,Oe.current),Yt=i,Qn=!0,h=ot,Zs(i.type)?(tm=h,ot=Yn(o.firstChild)):ot=h),Xt(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ge&&((h=o=ot)&&(o=SA(o,i.type,i.pendingProps,Qn),o!==null?(i.stateNode=o,Yt=i,ot=Yn(o.firstChild),Qn=!1,h=!0):h=!1),h||Us(i)),Ce(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Xd(h,d)?o=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,Lb,null,null,a),Mo._currentValue=h),Sc(t,i),Xt(t,i,o,a),i.child;case 6:return t===null&&Ge&&((t=a=ot)&&(a=bA(a,i.pendingProps,Qn),a!==null?(i.stateNode=a,Yt=i,ot=null,t=!0):t=!1),t||Us(i)),null;case 13:return Xy(t,i,a);case 4:return re(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Jr(i,null,o,a):Xt(t,i,o,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,zs(i,i.type,o.value),Xt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Yr(i),h=$t(h),o=o(h),i.flags|=1,Xt(t,i,o,a),i.child;case 14:return qy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Jy(t,i,a);case 31:return Gb(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return Yr(i),o=$t(xt),t===null?(h=Uf(),h===null&&(h=at,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Bf(i),zs(i,xt,h)):((t.lanes&a)!==0&&(qf(t,i),fo(i,null,null,a),ho()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),zs(i,xt,o)):(o=d.cache,zs(i,xt,o),o!==h.cache&&kf(i,[xt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function as(t){t.flags|=4}function bd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Rv())t.flags|=8192;else throw Wr=lc,zf}else t.flags&=-16777217}function ev(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(i))if(Rv())t.flags|=8192;else throw Wr=lc,zf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Iu():536870912,t.lanes|=i,Xa|=i)}function _o(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function Kb(t,i,a){var o=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ns(xt),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(i)?as(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),ut(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(as(i),d!==null?(ut(i),ev(i,d)):(ut(i),bd(i,h,null,o,a))):d?d!==t.memoizedState?(as(i),ut(i),ev(i,d)):(ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(i),ut(i),bd(i,h,t,o,a)),null;case 27:if(Ae(i),a=Oe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ut(i),null}t=de.current,La(i)?Mg(i):(t=l_(h,o,a),i.stateNode=t,as(i))}return ut(i),null;case 5:if(Ae(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ut(i),null}if(d=de.current,La(i))Mg(i);else{var _=Uc(Oe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Rt]=i,d[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Wt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(i)}}return ut(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Oe.current,La(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Xv(t.nodeValue,a)),t||Us(i,!0)}else t=Uc(t).createTextNode(o),t[Rt]=i,i.stateNode=t}return ut(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=La(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ut(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Rt]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ut(i),null);case 4:return ue(),t===null&&Gd(i.stateNode.containerInfo),ut(i),null;case 10:return ns(i.type),ut(i),null;case 19:if(W(Et),o=i.memoizedState,o===null)return ut(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)_o(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,_o(o,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return le(Et,Et.current&1|2),Ge&&es(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&hn()>xc&&(i.flags|=128,h=!0,_o(o,!1),i.lanes=4194304)}else{if(!h)if(t=hc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),_o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ge)return ut(i),null}else 2*hn()-o.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,_o(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hn(),t.sibling=null,a=Et.current,le(Et,h?a&1|2:a&1),Ge&&es(i,o.treeForkCount),t):(ut(i),null);case 22:case 23:return Cn(i),Qf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&W($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ns(xt),ut(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Yb(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ns(xt),ue(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ae(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(r(340));Qr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Qr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(Et),null;case 4:return ue(),null;case 10:return ns(i.type),null;case 22:case 23:return Cn(i),Qf(),t!==null&&W($r),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ns(xt),null;case 25:return null;default:return null}}function tv(t,i){switch(Df(i),i.tag){case 3:ns(xt),ue();break;case 26:case 27:case 5:Ae(i);break;case 4:ue();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:W(Et);break;case 10:ns(i.type);break;case 22:case 23:Cn(i),Qf(),t!==null&&W($r);break;case 24:ns(xt)}}function Eo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(b){tt(i,i.return,b)}}function Qs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var O=a,F=b;try{F()}catch(Z){tt(h,O,Z)}}}o=o.next}while(o!==d)}}catch(Z){tt(i,i.return,Z)}}function nv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Qg(i,a)}catch(o){tt(t,t.return,o)}}}function iv(t,i,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){tt(t,i,o)}}function To(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){tt(t,i,h)}}function Pi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,i,h)}else a.current=null}function sv(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Ad(t,i,a){try{var o=t.stateNode;gA(o,t.type,a,i),o[Bt]=i}catch(h){tt(t,t.return,h)}}function rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ri));else if(o!==4&&(o===27&&Zs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function wc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function av(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Wt(i,o,a),i[Rt]=t,i[Bt]=a}catch(d){tt(t,t.return,d)}}var ls=!1,Ot=!1,Nd=!1,lv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function $b(t,i){if(t=t.containerInfo,Yd=Qc,t=_g(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,F=0,Z=0,te=t,Q=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(b=_+h),te!==d||o!==0&&te.nodeType!==3||(O=_+o),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)Q=te,te=Y;for(;;){if(te===t)break t;if(Q===a&&++F===h&&(b=_),Q===d&&++Z===o&&(O=_),(Y=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=Y}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Qc=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ye=ea(a.type,h);t=o.getSnapshotBeforeUpdate(ye,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){tt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function ov(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&Eo(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var h=ea(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}o&64&&nv(a),o&512&&To(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Qg(t,i)}catch(_){tt(a,a.return,_)}}break;case 27:i===null&&o&4&&av(a);case 26:case 5:us(t,a),i===null&&o&4&&sv(a),o&512&&To(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&hv(t,a);break;case 13:us(t,a),o&4&&fv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sA.bind(null,a),AA(t,a))));break;case 22:if(o=a.memoizedState!==null||ls,!o){i=i!==null&&i.memoizedState!==null||Ot,h=ls;var d=Ot;ls=o,(Ot=i)&&!d?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),ls=h,Ot=d}break;case 30:break;default:us(t,a)}}function uv(t){var i=t.alternate;i!==null&&(t.alternate=null,uv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,gn=!1;function os(t,i,a){for(a=a.child;a!==null;)cv(t,i,a),a=a.sibling}function cv(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:Ot||Pi(a,i),os(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Pi(a,i);var o=ft,h=gn;Zs(a.type)&&(ft=a.stateNode,gn=!1),os(t,i,a),Io(a.stateNode),ft=o,gn=h;break;case 5:Ot||Pi(a,i);case 6:if(o=ft,h=gn,ft=null,os(t,i,a),ft=o,gn=h,ft!==null)if(gn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:ft!==null&&(gn?(t=ft,n_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):n_(ft,a.stateNode));break;case 4:o=ft,h=gn,ft=a.stateNode.containerInfo,gn=!0,os(t,i,a),ft=o,gn=h;break;case 0:case 11:case 14:case 15:Qs(2,a,i),Ot||Qs(4,a,i),os(t,i,a);break;case 1:Ot||(Pi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&iv(a,i,o)),os(t,i,a);break;case 21:os(t,i,a);break;case 22:Ot=(o=Ot)||a.memoizedState!==null,os(t,i,a),Ot=o;break;default:os(t,i,a)}}function hv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){tt(i,i.return,a)}}}function fv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){tt(i,i.return,a)}}function Xb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new lv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new lv),i;default:throw Error(r(435,t.tag))}}function Rc(t,i){var a=Xb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=rA.bind(null,t,o);o.then(h,h)}})}function yn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Zs(b.type)){ft=b.stateNode,gn=!1;break e}break;case 5:ft=b.stateNode,gn=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,gn=!0;break e}b=b.return}if(ft===null)throw Error(r(160));cv(d,_,h),ft=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dv(i,t),i=i.sibling}var hi=null;function dv(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),o&4&&(Qs(3,t,t.return),Eo(3,t),Qs(5,t,t.return));break;case 1:yn(i,t),vn(t),o&512&&(Ot||a===null||Pi(a,a.return)),o&64&&ls&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=hi;if(yn(i,t),vn(t),o&512&&(Ot||a===null||Pi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ai]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,o,a),d[Rt]=t,Nt(d),o=d;break e;case"link":var _=d_("link","href",h).get(o+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(o),Wt(d,o,a),h.head.appendChild(d);break;case"meta":if(_=d_("meta","content",h).get(o+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(o),Wt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[Rt]=t,Nt(d),o=d}t.stateNode=o}else m_(h,t.type,t.stateNode);else t.stateNode=f_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?m_(h,t.type,t.stateNode):f_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(i,t),vn(t),o&512&&(Ot||a===null||Pi(a,a.return)),a!==null&&o&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,t),vn(t),o&512&&(Ot||a===null||Pi(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(ye){tt(t,t.return,ye)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Nd=!0);break;case 6:if(yn(i,t),vn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ye){tt(t,t.return,ye)}}break;case 3:if(qc=null,h=hi,hi=zc(i.containerInfo),yn(i,t),hi=h,vn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(i.containerInfo)}catch(ye){tt(t,t.return,ye)}Nd&&(Nd=!1,mv(t));break;case 4:o=hi,hi=zc(t.stateNode.containerInfo),yn(i,t),vn(t),hi=o;break;case 12:yn(i,t),vn(t);break;case 31:yn(i,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ls,Z=Ot;if(ls=F||h,Ot=Z||O,yn(i,t),Ot=Z,ls=F,vn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||ls||Ot||ta(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,Q=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){tt(O,O.return,ye)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ye){tt(O,O.return,ye)}}}else if(i.tag===18){if(a===null){O=i;try{var Y=O.stateNode;h?i_(Y,!0):i_(O.stateNode,!1)}catch(ye){tt(O,O.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Rc(t,a))));break;case 19:yn(i,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Rc(t,o)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(rv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);wc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var b=wd(t);wc(t,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=wd(t);Rd(t,F,O);break;default:throw Error(r(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function mv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;mv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function us(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(t,i.alternate,i),i=i.sibling}function ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qs(4,i,i.return),ta(i);break;case 1:Pi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&iv(i,i.return,a),ta(i);break;case 27:Io(i.stateNode);case 26:case 5:Pi(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}t=t.sibling}}function cs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:cs(h,d,a),Eo(4,d);break;case 1:if(cs(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){tt(o,o.return,F)}if(o=d,h=o.updateQueue,h!==null){var b=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Gg(O[h],b)}catch(F){tt(o,o.return,F)}}a&&_&64&&nv(d),To(d,d.return);break;case 27:av(d);case 26:case 5:cs(h,d,a),a&&o===null&&_&4&&sv(d),To(d,d.return);break;case 12:cs(h,d,a);break;case 31:cs(h,d,a),a&&_&4&&hv(h,d);break;case 13:cs(h,d,a),a&&_&4&&fv(h,d);break;case 22:d.memoizedState===null&&cs(h,d,a),To(d,d.return);break;case 30:break;default:cs(h,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ao(a))}function xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ao(t))}function fi(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pv(t,i,a,o),i=i.sibling}function pv(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(t,i,a,o),h&2048&&Eo(9,i);break;case 1:fi(t,i,a,o);break;case 3:fi(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ao(t)));break;case 12:if(h&2048){fi(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){tt(i,i.return,O)}}else fi(t,i,a,o);break;case 31:fi(t,i,a,o);break;case 13:fi(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?fi(t,i,a,o):So(t,i):d._visibility&2?fi(t,i,a,o):(d._visibility|=2,Ka(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(_,i);break;case 24:fi(t,i,a,o),h&2048&&xd(i.alternate,i);break;default:fi(t,i,a,o)}}function Ka(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,O=o,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,b,O,h),Eo(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ka(d,_,b,O,h):So(d,_):(Z._visibility|=2,Ka(d,_,b,O,h)),h&&F&2048&&Cd(_.alternate,_);break;case 24:Ka(d,_,b,O,h),h&&F&2048&&xd(_.alternate,_);break;default:Ka(d,_,b,O,h)}i=i.sibling}}function So(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:So(a,o),h&2048&&Cd(o.alternate,o);break;case 24:So(a,o),h&2048&&xd(o.alternate,o);break;default:So(a,o)}i=i.sibling}}var bo=8192;function Ya(t,i,a){if(t.subtreeFlags&bo)for(t=t.child;t!==null;)gv(t,i,a),t=t.sibling}function gv(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&bo&&t.memoizedState!==null&&kA(a,hi,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var o=hi;hi=zc(t.stateNode.containerInfo),Ya(t,i,a),hi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bo,bo=16777216,Ya(t,i,a),bo=o):Ya(t,i,a));break;default:Ya(t,i,a)}}function yv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ao(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ht=o,_v(o,t)}yv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(t),t=t.sibling}function vv(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nc(t)):Ao(t);break;default:Ao(t)}}function Nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ht=o,_v(o,t)}yv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qs(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}t=t.sibling}}function _v(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Qs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ao(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ht=o;else e:for(a=t;Ht!==null;){o=Ht;var h=o.sibling,d=o.return;if(uv(o),o===a){Ht=null;break e}if(h!==null){h.return=d,Ht=h;break e}Ht=d}}}var Wb={getCacheForType:function(t){var i=$t(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(xt).controller.signal}},Jb=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,Pe=null,ze=0,et=0,xn=null,Ks=!1,$a=!1,Id=!1,hs=0,yt=0,Ys=0,na=0,Dd=0,In=0,Xa=0,wo=null,_n=null,Od=!1,Cc=0,Ev=0,xc=1/0,Ic=null,$s=null,Lt=0,Xs=null,Wa=null,fs=0,Md=0,Vd=null,Tv=null,Ro=0,jd=null;function Dn(){return(We&2)!==0&&ze!==0?ze&-ze:G.T!==null?Bd():Du()}function Sv(){if(In===0)if((ze&536870912)===0||Ge){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),In=t}else In=536870912;return t=Nn.current,t!==null&&(t.flags|=32),In}function En(t,i,a){(t===at&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Ws(t,ze,In,!1)),Ir(t,a),((We&2)===0||t!==at)&&(t===at&&((We&2)===0&&(na|=a),yt===4&&Ws(t,ze,In,!1)),Ui(t))}function bv(t,i,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ni(t,i),h=o?tA(t,i):Ld(t,i,!0),d=o;do{if(h===0){$a&&!o&&Ws(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Zb(a)){h=Ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=wo;var O=b.current.memoizedState.isDehydrated;if(O&&(Ja(b,_).flags|=256),_=Ld(b,_,!1),_!==2){if(Id&&!O){b.errorRecoveryDisabledLanes|=d,na|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),Ws(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ws(o,i,In,!Ks);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Cc+300-hn(),10<h)){if(Ws(o,i,In,!Ks),Ti(o,0,!0)!==0)break e;fs=i,o.timeoutHandle=e_(Av.bind(null,o,a,_n,Ic,Od,i,In,na,Xa,Ks,d,"Throttled",-0,0),h);break e}Av(o,a,_n,Ic,Od,i,In,na,Xa,Ks,d,null,-0,0)}}break}while(!0);Ui(t)}function Av(t,i,a,o,h,d,_,b,O,F,Z,te,Q,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},gv(i,d,te);var ye=(d&62914560)===d?Cc-hn():(d&4194048)===d?Ev-hn():0;if(ye=LA(te,ye),ye!==null){fs=d,t.cancelPendingCommit=ye(Ov.bind(null,t,i,d,a,o,h,_,b,O,Z,te,null,Q,Y)),Ws(t,d,_,!F);return}}Ov(t,i,d,a,o,h,_,b,O)}function Zb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ws(t,i,a,o){i&=~Dd,i&=~na,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-vt(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Dr(t,a,i)}function Dc(){return(We&6)===0?(No(0),!1):!0}function kd(){if(Pe!==null){if(et===0)var t=Pe.return;else t=Pe,ts=Kr=null,Jf(t),qa=null,oo=0,t=Pe;for(;t!==null;)tv(t.alternate,t),t=t.return;Pe=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_A(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,kd(),at=t,Pe=a=Zi(t.current,null),ze=i,et=0,xn=null,Ks=!1,$a=ni(t,i),Id=!1,Xa=In=Dd=na=Ys=yt=0,_n=wo=null,Od=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-vt(o),d=1<<h;i|=t[h],o&=~d}return hs=i,Ju(),a}function wv(t,i){Ve=null,G.H=yo,i===Ba||i===ac?(i=Bg(),et=3):i===zf?(i=Bg(),et=4):et=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Pe===null&&(yt=1,Ec(t,Hn(i,t.current)))}function Rv(){var t=Nn.current;return t===null?!0:(ze&4194048)===ze?Kn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Kn:!1}function Nv(){var t=G.H;return G.H=yo,t===null?yo:t}function Cv(){var t=G.A;return G.A=Wb,t}function Oc(){yt=4,Ks||(ze&4194048)!==ze&&Nn.current!==null||($a=!0),(Ys&134217727)===0&&(na&134217727)===0||at===null||Ws(at,ze,In,!1)}function Ld(t,i,a){var o=We;We|=2;var h=Nv(),d=Cv();(at!==t||ze!==i)&&(Ic=null,Ja(t,i)),i=!1;var _=yt;e:do try{if(et!==0&&Pe!==null){var b=Pe,O=xn;switch(et){case 8:kd(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var F=et;if(et=0,xn=null,Za(t,b,O,F),a&&$a){_=0;break e}break;default:F=et,et=0,xn=null,Za(t,b,O,F)}}eA(),_=yt;break}catch(Z){wv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,ts=Kr=null,We=o,G.H=h,G.A=d,Pe===null&&(at=null,ze=0,Ju()),_}function eA(){for(;Pe!==null;)xv(Pe)}function tA(t,i){var a=We;We|=2;var o=Nv(),h=Cv();at!==t||ze!==i?(Ic=null,xc=hn()+500,Ja(t,i)):$a=ni(t,i);e:do try{if(et!==0&&Pe!==null){i=Pe;var d=xn;t:switch(et){case 1:et=0,xn=null,Za(t,i,d,1);break;case 2:case 9:if(Ug(d)){et=0,xn=null,Iv(i);break}i=function(){et!==2&&et!==9||at!==t||(et=7),Ui(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Ug(d)?(et=0,xn=null,Iv(i)):(et=0,xn=null,Za(t,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var b=Pe;if(_?p_(_):b.stateNode.complete){et=0,xn=null;var O=b.sibling;if(O!==null)Pe=O;else{var F=b.return;F!==null?(Pe=F,Mc(F)):Pe=null}break t}}et=0,xn=null,Za(t,i,d,5);break;case 6:et=0,xn=null,Za(t,i,d,6);break;case 8:kd(),yt=6;break e;default:throw Error(r(462))}}nA();break}catch(Z){wv(t,Z)}while(!0);return ts=Kr=null,G.H=o,G.A=h,We=a,Pe!==null?0:(at=null,ze=0,Ju(),yt)}function nA(){for(;Pe!==null&&!df();)xv(Pe)}function xv(t){var i=Zy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,i===null?Mc(t):Pe=i}function Iv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ky(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Ky(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Jf(i);default:tv(a,i),i=Pe=Cg(i,hs),i=Zy(a,i,hs)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Pe=i}function Za(t,i,a,o){ts=Kr=null,Jf(i),qa=null,oo=0;var h=i.return;try{if(Fb(t,h,i,a,ze)){yt=1,Ec(t,Hn(a,t.current)),Pe=null;return}}catch(d){if(h!==null)throw Pe=h,d;yt=1,Ec(t,Hn(a,t.current)),Pe=null;return}i.flags&32768?(Ge||o===1?t=!0:$a||(ze&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dv(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){Dv(i,Ks);return}t=i.return;var a=Kb(i.alternate,i,hs);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);yt===0&&(yt=5)}function Dv(t,i){do{var a=Yb(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);yt=6,Pe=null}function Ov(t,i,a,o,h,d,_,b,O){t.cancelPendingCommit=null;do Vc();while(Lt!==0);if((We&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,_,b,O),t===at&&(Pe=at=null,ze=0),Wa=i,Xs=t,fs=a,Md=d,Vd=h,Tv=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(Ns,function(){return Lv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ae.p,ae.p=2,_=We,We|=4;try{$b(t,i,a)}finally{We=_,ae.p=h,G.T=o}}Lt=1,Mv(),Vv(),jv()}}function Mv(){if(Lt===1){Lt=0;var t=Xs,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ae.p;ae.p=2;var h=We;We|=4;try{dv(i,t);var d=$d,_=_g(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&vg(b.ownerDocument.documentElement,b)){if(O!==null&&Ef(b)){var F=O.start,Z=O.end;if(Z===void 0&&(Z=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,Q=te&&te.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),ye=b.textContent.length,be=Math.min(O.start,ye),rt=O.end===void 0?be:Math.min(O.end,ye);!Y.extend&&be>rt&&(_=rt,rt=be,be=_);var P=yg(b,be),V=yg(b,rt);if(P&&V&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=te.createRange();H.setStart(P.node,P.offset),Y.removeAllRanges(),be>rt?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(te=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Qc=!!Yd,$d=Yd=null}finally{We=h,ae.p=o,G.T=a}}t.current=i,Lt=2}}function Vv(){if(Lt===2){Lt=0;var t=Xs,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ae.p;ae.p=2;var h=We;We|=4;try{ov(t,i.alternate,i)}finally{We=h,ae.p=o,G.T=a}}Lt=3}}function jv(){if(Lt===4||Lt===3){Lt=0,Au();var t=Xs,i=Wa,a=fs,o=Tv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Wa=Xs=null,kv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),$i(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ti,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=ae.p,ae.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];d(b.value,{componentStack:b.stack})}}finally{G.T=i,ae.p=h}}(fs&3)!==0&&Vc(),Ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jd?Ro++:(Ro=0,jd=t):Ro=0,No(0)}}function kv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ao(i)))}function Vc(){return Mv(),Vv(),jv(),Lv()}function Lv(){if(Lt!==5)return!1;var t=Xs,i=Md;Md=0;var a=$i(fs),o=G.T,h=ae.p;try{ae.p=32>a?32:a,G.T=null,a=Vd,Vd=null;var d=Xs,_=fs;if(Lt=0,Wa=Xs=null,fs=0,(We&6)!==0)throw Error(r(331));var b=We;if(We|=4,vv(d.current),pv(d,d.current,_,a),We=b,No(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ti,d)}catch{}return!0}finally{ae.p=h,G.T=o,kv(t,i)}}function Pv(t,i,a){i=Hn(a,i),i=dd(t.stateNode,i,2),t=Hs(t,i,2),t!==null&&(Ir(t,2),Ui(t))}function tt(t,i,a){if(t.tag===3)Pv(t,t,a);else for(;i!==null;){if(i.tag===3){Pv(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Hn(a,t),a=Uy(2),o=Hs(i,a,2),o!==null&&(zy(a,o,i,t),Ir(o,2),Ui(o));break}}i=i.return}}function Pd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Jb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Id=!0,h.add(a),t=iA.bind(null,t,i,a),i.then(t,t))}function iA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>hn()-Cc?(We&2)===0&&Ja(t,0):Dd|=a,Xa===ze&&(Xa=0)),Ui(t)}function Uv(t,i){i===0&&(i=Iu()),t=Fr(t,i),t!==null&&(Ir(t,i),Ui(t))}function sA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Uv(t,a)}function rA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Uv(t,a)}function aA(t,i){return kt(t,i)}var jc=null,el=null,Ud=!1,kc=!1,zd=!1,Js=0;function Ui(t){t!==el&&t.next===null&&(el===null?jc=el=t:el=el.next=t),kc=!0,Ud||(Ud=!0,oA())}function No(t,i){if(!zd&&kc){zd=!0;do for(var a=!1,o=jc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Hv(o,d))}else d=ze,d=Ti(o,o===at?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ni(o,d)||(a=!0,Hv(o,d));o=o.next}while(a);zd=!1}}function lA(){zv()}function zv(){kc=Ud=!1;var t=0;Js!==0&&vA()&&(t=Js);for(var i=hn(),a=null,o=jc;o!==null;){var h=o.next,d=Bv(o,i);d===0?(o.next=null,a===null?jc=h:a.next=h,h===null&&(el=a)):(a=o,(t!==0||(d&3)!==0)&&(kc=!0)),o=h}Lt!==0&&Lt!==5||No(t),Js!==0&&(Js=0)}function Bv(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),b=1<<_,O=h[_];O===-1?((b&a)===0||(b&o)!==0)&&(h[_]=pf(b,i)):O<=i&&(t.expiredLanes|=b),d&=~b}if(i=at,a=ze,a=Ti(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Rs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ni(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Rs(o),$i(a)){case 2:case 8:a=kl;break;case 32:a=Ns;break;case 268435456:a=wu;break;default:a=Ns}return o=qv.bind(null,t),a=kt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Rs(o),t.callbackPriority=2,t.callbackNode=null,2}function qv(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var o=ze;return o=Ti(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(bv(t,o,i),Bv(t,hn()),t.callbackNode!=null&&t.callbackNode===a?qv.bind(null,t):null)}function Hv(t,i){if(Vc())return null;bv(t,i,!0)}function oA(){EA(function(){(We&6)!==0?kt(jl,lA):zv()})}function Bd(){if(Js===0){var t=Ua;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Js=t}return Js}function Fv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function Gv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function uA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Fv((h[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?Fv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Oi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var O=_?Gv(h,_):new FormData(h);ld(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?Gv(h,_):new FormData(h),ld(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var qd=0;qd<Af.length;qd++){var Hd=Af[qd],cA=Hd.toLowerCase(),hA=Hd[0].toUpperCase()+Hd.slice(1);ci(cA,"on"+hA)}ci(Sg,"onAnimationEnd"),ci(bg,"onAnimationIteration"),ci(Ag,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Nb,"onTransitionRun"),ci(Cb,"onTransitionStart"),ci(xb,"onTransitionCancel"),ci(wg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function Qv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var b=o[_],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(Z){Wu(Z)}h.currentTarget=null,d=O}else for(_=0;_<o.length;_++){if(b=o[_],O=b.instance,F=b.currentTarget,b=b.listener,O!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(Z){Wu(Z)}h.currentTarget=null,d=O}}}}function Ue(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var o=t+"__bubble";a.has(o)||(Kv(i,t,2,!1),a.add(o))}function Fd(t,i,a){var o=0;i&&(o|=4),Kv(a,t,o,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Lc]){t[Lc]=!0,Ul.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Fd("selectionchange",!1,i))}}function Kv(t,i,a,o){switch(S_(i)){case 2:var h=zA;break;case 8:h=BA;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!kr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=wi(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){o=d=_;continue e}b=b.parentNode}}o=o.return}Ms(function(){var F=d,Z=Un(a),te=[];e:{var Q=Rg.get(t);if(Q!==void 0){var Y=Oi,ye=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":Y=Yu;break;case"focusin":ye="focus",Y=zr;break;case"focusout":ye="blur",Y=zr;break;case"beforeblur":case"afterblur":Y=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case Sg:case bg:case Ag:Y=Bu;break;case wg:Y=A;break;case"scroll":case"scrollend":Y=Wl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ji;break;case"toggle":case"beforetoggle":Y=Me}var be=(i&4)!==0,rt=!be&&(t==="scroll"||t==="scrollend"),P=be?Q!==null?Q+"Capture":null:Q;be=[];for(var V=F,H;V!==null;){var ee=V;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||P===null||(ee=ai(V,P),ee!=null&&be.push(xo(V,ee,H))),rt)break;V=V.return}0<be.length&&(Q=new Y(Q,ye,null,a,Z),te.push({event:Q,listeners:be}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Q&&a!==Yl&&(ye=a.relatedTarget||a.fromElement)&&(wi(ye)||ye[bi]))break e;if((Y||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(ye=a.relatedTarget||a.toElement,Y=F,ye=ye?wi(ye):null,ye!==null&&(rt=u(ye),be=ye.tag,ye!==rt||be!==5&&be!==27&&be!==6)&&(ye=null)):(Y=null,ye=F),Y!==ye)){if(be=Jl,ee="onMouseLeave",P="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ji,ee="onPointerLeave",P="onPointerEnter",V="pointer"),rt=Y==null?Q:bn(Y),H=ye==null?Q:bn(ye),Q=new be(ee,V+"leave",Y,a,Z),Q.target=rt,Q.relatedTarget=H,ee=null,wi(Z)===F&&(be=new be(P,V+"enter",ye,a,Z),be.target=H,be.relatedTarget=rt,ee=be),rt=ee,Y&&ye)t:{for(be=dA,P=Y,V=ye,H=0,ee=P;ee;ee=be(ee))H++;ee=0;for(var Ee=V;Ee;Ee=be(Ee))ee++;for(;0<H-ee;)P=be(P),H--;for(;0<ee-H;)V=be(V),ee--;for(;H--;){if(P===V||V!==null&&P===V.alternate){be=P;break t}P=be(P),V=be(V)}be=null}else be=null;Y!==null&&Yv(te,Q,Y,be,!1),ye!==null&&rt!==null&&Yv(te,rt,ye,be,!0)}}e:{if(Q=F?bn(F):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var Ye=hg;else if(ug(Q))if(fg)Ye=Ab;else{Ye=Sb;var ve=Tb}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&ba(F.elementType)&&(Ye=hg):Ye=bb;if(Ye&&(Ye=Ye(t,F))){cg(te,Ye,a,Z);break e}ve&&ve(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Gl(Q,"number",Q.value)}switch(ve=F?bn(F):window,t){case"focusin":(ug(ve)||ve.contentEditable==="true")&&(Da=ve,Tf=F,io=null);break;case"focusout":io=Tf=Da=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Eg(te,a,Z);break;case"selectionchange":if(Rb)break;case"keydown":case"keyup":Eg(te,a,Z)}var je;if(Xe)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ia?Br(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(ji&&a.locale!=="ko"&&(Ia||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ia&&(je=Xl()):(Di=Z,$l="value"in Di?Di.value:Di.textContent,Ia=!0)),ve=Pc(F,Be),0<ve.length&&(Be=new Vi(Be,t,null,a,Z),te.push({event:Be,listeners:ve}),je?Be.data=je:(je=xa(a),je!==null&&(Be.data=je)))),(je=Bn?yb(t,a):vb(t,a))&&(Be=Pc(F,"onBeforeInput"),0<Be.length&&(ve=new Vi("onBeforeInput","beforeinput",null,a,Z),te.push({event:ve,listeners:Be}),ve.data=je)),uA(te,t,F,a,Z)}Qv(te,i)})}function xo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ai(t,a),h!=null&&o.unshift(xo(t,h,d)),h=ai(t,i),h!=null&&o.push(xo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function dA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yv(t,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===o)break;b!==5&&b!==26&&b!==27||F===null||(O=F,h?(F=ai(a,d),F!=null&&_.unshift(xo(a,F,O))):h||(F=ai(a,d),F!=null&&_.push(xo(a,F,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function $v(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(pA,"")}function Xv(t,i){return i=$v(i),$v(t)===i}function st(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,o);break;case"style":Kl(t,o,d);break;case"data":if(i!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&st(t,i,"name",h.name,h,null),st(t,i,"formEncType",h.formEncType,h,null),st(t,i,"formMethod",h.formMethod,h,null),st(t,i,"formTarget",h.formTarget,h,null)):(st(t,i,"encType",h.encType,h,null),st(t,i,"method",h.method,h,null),st(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ri);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ta(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,Ta(t,a,o))}}function Kd(t,i,a,o,h,d){switch(a){case"style":Kl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ta(t,a,o)}}}function Wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(t,i,d,_,a,null)}}h&&st(t,i,"srcSet",a.srcSet,a,null),o&&st(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=d=_=h=null,O=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":_=Z;break;case"checked":O=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:st(t,i,o,Z,a,null)}}ju(t,d,b,O,F,_,h,!1);return;case"select":Ue("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:st(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!o,i!=null?xs(t,!!o,i,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:st(t,i,_,b,a,null)}Is(t,o,h,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(o=a[O],o!=null)&&(O==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":st(t,i,O,o,a,null));return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Co.length;o++)Ue(Co[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(t,i,F,o,a,null)}return;default:if(ba(i)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&Kd(t,i,Z,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&st(t,i,b,o,a,null))}function gA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,O=null,F=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=te;default:o.hasOwnProperty(Y)||st(t,i,Y,null,o,te)}}for(var Q in o){var Y=o[Q];if(te=a[Q],o.hasOwnProperty(Q)&&(Y!=null||te!=null))switch(Q){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:Y!==te&&st(t,i,Q,Y,o,te)}}Sa(t,_,b,O,F,Z,d,h);return;case"select":Y=_=b=Q=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:o.hasOwnProperty(d)||st(t,i,d,null,o,O)}for(h in o)if(d=o[h],O=a[h],o.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":Q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&st(t,i,h,d,o,O)}i=b,a=_,o=Y,Q!=null?xs(t,!!a,Q,!1):!!o!=!!a&&(i!=null?xs(t,!!a,i,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:st(t,i,b,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&st(t,i,_,h,o,d)}ku(t,Q,Y);return;case"option":for(var ye in a)Q=a[ye],a.hasOwnProperty(ye)&&Q!=null&&!o.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:st(t,i,ye,null,o,Q));for(O in o)Q=o[O],Y=a[O],o.hasOwnProperty(O)&&Q!==Y&&(Q!=null||Y!=null)&&(O==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":st(t,i,O,Q,o,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Q=a[be],a.hasOwnProperty(be)&&Q!=null&&!o.hasOwnProperty(be)&&st(t,i,be,null,o,Q);for(F in o)if(Q=o[F],Y=a[F],o.hasOwnProperty(F)&&Q!==Y&&(Q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:st(t,i,F,Q,o,Y)}return;default:if(ba(i)){for(var rt in a)Q=a[rt],a.hasOwnProperty(rt)&&Q!==void 0&&!o.hasOwnProperty(rt)&&Kd(t,i,rt,void 0,o,Q);for(Z in o)Q=o[Z],Y=a[Z],!o.hasOwnProperty(Z)||Q===Y||Q===void 0&&Y===void 0||Kd(t,i,Z,Q,o,Y);return}}for(var P in a)Q=a[P],a.hasOwnProperty(P)&&Q!=null&&!o.hasOwnProperty(P)&&st(t,i,P,null,o,Q);for(te in o)Q=o[te],Y=a[te],!o.hasOwnProperty(te)||Q===Y||Q==null&&Y==null||st(t,i,te,Q,o,Y)}function Wv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&Wv(_)){for(_=0,b=h.responseEnd,o+=1;o<a.length;o++){var O=a[o],F=O.startTime;if(F>b)break;var Z=O.transferSize,te=O.initiatorType;Z&&Wv(te)&&(O=O.responseEnd,_+=Z*(O<b?1:(b-F)/(O-F)))}if(--o,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function Jv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function vA(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(TA)}:e_;function TA(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function n_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),sl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Io(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Io(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[Ai]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Io(t.ownerDocument.body);a=h}while(a);sl(i)}function i_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function bA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function s_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Yn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function AA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Yn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function r_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Yn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function a_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function l_(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Io(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var $n=new Map,o_=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ae.d;ae.d={f:wA,r:RA,D:NA,C:CA,L:xA,m:IA,X:OA,S:DA,M:MA};function wA(){var t=ds.f(),i=Dc();return t||i}function RA(t){var i=Pn(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):ds.r(t)}var tl=typeof document>"u"?null:document;function u_(t,i,a){var o=tl;if(o&&typeof i=="string"&&i){var h=mn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Wt(i,"link",t),Nt(i),o.head.appendChild(i)))}}function NA(t){ds.D(t),u_("dns-prefetch",t,null)}function CA(t,i){ds.C(t,i),u_("preconnect",t,i)}function xA(t,i,a){ds.L(t,i,a);var o=tl;if(o&&t&&i){var h='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mn(a.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var d=h;switch(i){case"style":d=nl(t);break;case"script":d=il(t)}$n.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Do(d))||i==="script"&&o.querySelector(Oo(d))||(i=o.createElement("link"),Wt(i,"link",t),Nt(i),o.head.appendChild(i)))}}function IA(t,i){ds.m(t,i);var a=tl;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=il(t)}if(!$n.has(d)&&(t=S({rel:"modulepreload",href:t},i),$n.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Oo(d)))return}o=a.createElement("link"),Wt(o,"link",t),Nt(o),a.head.appendChild(o)}}}function DA(t,i,a){ds.S(t,i,a);var o=tl;if(o&&t){var h=Ri(o).hoistableStyles,d=nl(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(Do(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(d))&&nm(t,a);var O=_=o.createElement("link");Nt(O),Wt(O,"link",t),O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function OA(t,i){ds.X(t,i);var a=tl;if(a&&t){var o=Ri(a).hoistableScripts,h=il(t),d=o.get(h);d||(d=a.querySelector(Oo(h)),d||(t=S({src:t,async:!0},i),(i=$n.get(h))&&im(t,i),d=a.createElement("script"),Nt(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function MA(t,i){ds.M(t,i);var a=tl;if(a&&t){var o=Ri(a).hoistableScripts,h=il(t),d=o.get(h);d||(d=a.querySelector(Oo(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&im(t,i),d=a.createElement("script"),Nt(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function c_(t,i,a,o){var h=(h=Oe.current)?zc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=nl(a.href),a=Ri(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=nl(a.href);var d=Ri(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Do(t)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||VA(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=il(a),a=Ri(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nl(t){return'href="'+mn(t)+'"'}function Do(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function VA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Wt(i,"link",a),Nt(i),t.head.appendChild(i))}function il(t){return'[src="'+mn(t)+'"]'}function Oo(t){return"script[async]"+t}function f_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(o)return i.instance=o,Nt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),Wt(o,"style",h),Bc(o,a.precedence,t),i.instance=o;case"stylesheet":h=nl(a.href);var d=t.querySelector(Do(h));if(d)return i.state.loading|=4,i.instance=d,Nt(d),d;o=h_(a),(h=$n.get(h))&&nm(o,h),d=(t.ownerDocument||t).createElement("link"),Nt(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Wt(d,"link",o),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=il(a.src),(h=t.querySelector(Oo(d)))?(i.instance=h,Nt(h),h):(o=a,(h=$n.get(d))&&(o=S({},a),im(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Wt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Bc(o,a.precedence,t));return i.instance}function Bc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function d_(t,i,a){if(qc===null){var o=new Map,h=qc=new Map;h.set(a,o)}else h=qc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ai]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=o.get(_);b?b.push(d):o.set(_,[d])}}return o}function m_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function jA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=nl(o.href),d=i.querySelector(Do(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Nt(d);return}d=i.ownerDocument||i,o=h_(o),(h=$n.get(h))&&nm(o,h),d=d.createElement("link"),Nt(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Wt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function LA(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*yA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(PA,t),Fc=null,Hc.call(t))}function PA(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var o=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Mo={$$typeof:se,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function UA(t,i,a,o,h,d,_,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function g_(t,i,a,o,h,d,_,b,O,F,Z,te){return t=new UA(t,i,a,_,O,F,Z,te,b),i=1,d===!0&&(i|=24),d=Rn(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Bf(d),t}function y_(t){return t?(t=Va,t):Va}function v_(t,i,a,o,h,d){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Hs(t,o,i),a!==null&&(En(a,t,i),co(a,t,i))}function __(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){__(t,i),(t=t.alternate)&&__(t,i)}function E_(t){if(t.tag===13||t.tag===31){var i=Fr(t,67108864);i!==null&&En(i,t,67108864),rm(t,67108864)}}function T_(t){if(t.tag===13||t.tag===31){var i=Dn();i=Or(i);var a=Fr(t,i);a!==null&&En(a,t,i),rm(t,i)}}var Qc=!0;function zA(t,i,a,o){var h=G.T;G.T=null;var d=ae.p;try{ae.p=2,am(t,i,a,o)}finally{ae.p=d,G.T=h}}function BA(t,i,a,o){var h=G.T;G.T=null;var d=ae.p;try{ae.p=8,am(t,i,a,o)}finally{ae.p=d,G.T=h}}function am(t,i,a,o){if(Qc){var h=lm(o);if(h===null)Qd(t,i,o,Kc,a),b_(t,o);else if(HA(h,t,i,a,o))o.stopPropagation();else if(b_(t,o),i&4&&-1<qA.indexOf(t)){for(;h!==null;){var d=Pn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ei(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-vt(_);b.entanglements[1]|=O,_&=~O}Ui(d),(We&6)===0&&(xc=hn()+500,No(0))}}break;case 31:case 13:b=Fr(d,2),b!==null&&En(b,d,2),Dc(),rm(d,2)}if(d=lm(o),d===null&&Qd(t,i,o,Kc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Qd(t,i,o,null,a)}}function lm(t){return t=Un(t),om(t)}var Kc=null;function om(t){if(Kc=null,t=wi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case jl:return 2;case kl:return 8;case Ns:case mf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var um=!1,er=null,tr=null,nr=null,Vo=new Map,jo=new Map,ir=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,i){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Vo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(i.pointerId)}}function ko(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Pn(i),i!==null&&E_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function HA(t,i,a,o,h){switch(i){case"focusin":return er=ko(er,t,i,a,o,h),!0;case"dragenter":return tr=ko(tr,t,i,a,o,h),!0;case"mouseover":return nr=ko(nr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Vo.set(d,ko(Vo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,jo.set(d,ko(jo.get(d)||null,t,i,a,o,h)),!0}return!1}function A_(t){var i=wi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ii(t.priority,function(){T_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,ii(t.priority,function(){T_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yl=o,a.target.dispatchEvent(o),Yl=null}else return i=Pn(a),i!==null&&E_(i),t.blockedOn=a,!1;i.shift()}return!0}function w_(t,i,a){Yc(t)&&a.delete(i)}function FA(){um=!1,er!==null&&Yc(er)&&(er=null),tr!==null&&Yc(tr)&&(tr=null),nr!==null&&Yc(nr)&&(nr=null),Vo.forEach(w_),jo.forEach(w_)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,FA)))}var Xc=null;function R_(t){Xc!==t&&(Xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(om(o||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function sl(t){function i(O){return $c(O,t)}er!==null&&$c(er,t),tr!==null&&$c(tr,t),nr!==null&&$c(nr,t),Vo.forEach(i),jo.forEach(i);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Bt]||null;if(typeof d=="function")_||R_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Bt]||null)b=_.formAction;else if(om(h)!==null)continue}else b=_.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),R_(a)}}}function N_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Wc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Dn();v_(a,o,t,i,null,null)},Wc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;v_(t.current,2,null,t,null,null),Dc(),i[bi]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Du();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,t),a===0&&A_(t)}};var C_=e.version;if(C_!=="19.2.3")throw Error(r(527,C_,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var GA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ti=Jc.inject(GA),Qt=Jc}catch{}}return Po.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=jy,d=ky,_=Ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=g_(t,1,!1,null,null,a,o,null,h,d,_,N_),t[bi]=i.current,Gd(t),new cm(i)},Po.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=jy,_=ky,b=Ly,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=g_(t,1,!0,i,a??null,o,h,O,d,_,b,N_),i.context=y_(null),a=i.current,o=Dn(),o=Or(o),h=qs(o),h.callback=null,Hs(a,h,o),a=o,i.current.lanes=a,Ir(i,a),Ui(i),t[bi]=i.current,Gd(t),new Wc(i)},Po.version="19.2.3",Po}var P_;function t1(){if(P_)return dm.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=e1(),dm.exports}var n1=t1();var U_="popstate";function i1(s={}){function e(r,l){let{pathname:u,search:f,hash:p}=r.location;return Om("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Jo(l)}return r1(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Jn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s1(){return Math.random().toString(36).substring(2,10)}function z_(s,e){return{usr:s.state,key:s.key,idx:e}}function Om(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||r||s1()}}function Jo({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function bl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function r1(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,f=l.history,p="POP",g=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function S(){p="POP";let U=T(),X=U==null?null:U-y;y=U,g&&g({action:p,location:B.location,delta:X})}function R(U,X){p="PUSH";let J=Om(B.location,U,X);y=T()+1;let se=z_(J,y),ce=B.createHref(J);try{f.pushState(se,"",ce)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;l.location.assign(ce)}u&&g&&g({action:p,location:B.location,delta:1})}function L(U,X){p="REPLACE";let J=Om(B.location,U,X);y=T();let se=z_(J,y),ce=B.createHref(J);f.replaceState(se,"",ce),u&&g&&g({action:p,location:B.location,delta:0})}function z(U){return a1(U)}let B={get action(){return p},get location(){return s(l,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(U_,S),g=U,()=>{l.removeEventListener(U_,S),g=null}},createHref(U){return e(l,U)},createURL:z,encodeLocation(U){let X=z(U);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:L,go(U){return f.go(U)}};return B}function a1(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Jo(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TT(s,e,n="/"){return l1(s,e,n,!1)}function l1(s,e,n,r){let l=typeof e=="string"?bl(e):e,u=_s(l.pathname||"/",n);if(u==null)return null;let f=ST(s);o1(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=_1(u);p=y1(f[g],y,r)}return p}function ST(s,e=[],n=[],r="",l=!1){let u=(f,p,g=l,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;dt(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let S=gs([r,T.relativePath]),R=n.concat(T);f.children&&f.children.length>0&&(dt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),ST(f.children,e,R,S,g)),!(f.path==null&&!f.index)&&e.push({path:S,score:p1(S,f.index),routesMeta:R})};return s.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of bT(f.path))u(f,p,!0,g)}),e}function bT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=bT(r.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...f),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function o1(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:g1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var u1=/^:[\w-]+$/,c1=3,h1=2,f1=1,d1=10,m1=-2,B_=s=>s==="*";function p1(s,e){let n=s.split("/"),r=n.length;return n.some(B_)&&(r+=m1),e&&(r+=h1),n.filter(l=>!B_(l)).reduce((l,u)=>l+(u1.test(u)?c1:u===""?f1:d1),r)}function g1(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function y1(s,e,n=!1){let{routesMeta:r}=s,l={},u="/",f=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,T=u==="/"?e:e.slice(u.length)||"/",S=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),R=g.route;if(!S&&y&&n&&!r[r.length-1].route.index&&(S=vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:gs([u,S.pathname]),pathnameBase:b1(gs([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=gs([u,S.pathnameBase]))}return f}function vh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=v1(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:S},R)=>{if(T==="*"){let z=p[R]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const L=p[R];return S&&!L?y[T]=void 0:y[T]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function v1(s,e=!1,n=!0){Jn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function _1(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _s(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var AT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E1=s=>AT.test(s);function T1(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?bl(s):s,u;if(n)if(E1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=q_(n.substring(1),"/"):u=q_(n,e)}else u=e;return{pathname:u,search:A1(r),hash:w1(l)}}function q_(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ym(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S1(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(s){let e=S1(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function up(s,e,n,r=!1){let l;typeof s=="string"?l=bl(s):(l={...s},dt(!l.pathname||!l.pathname.includes("?"),ym("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),ym("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),ym("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=n;else{let S=e.length-1;if(!r&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;l.pathname=R.join("/")}p=S>=0?e[S]:"/"}let g=T1(l,p),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var gs=s=>s.join("/").replace(/\/\/+/g,"/"),b1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,w1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,R1=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function N1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function C1(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RT(s,e){let n=s;if(typeof n!="string"||!AT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(wT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=_s(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:l=!0}catch{Jn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var x1=["GET",...NT];new Set(x1);var Al=k.createContext(null);Al.displayName="DataRouter";var Ph=k.createContext(null);Ph.displayName="DataRouterState";var I1=k.createContext(!1),CT=k.createContext({isTransitioning:!1});CT.displayName="ViewTransition";var D1=k.createContext(new Map);D1.displayName="Fetchers";var O1=k.createContext(null);O1.displayName="Await";var kn=k.createContext(null);kn.displayName="Navigation";var uu=k.createContext(null);uu.displayName="Location";var yi=k.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var cp=k.createContext(null);cp.displayName="RouteError";var xT="REACT_ROUTER_ERROR",M1="REDIRECT",V1="ROUTE_ERROR_RESPONSE";function j1(s){if(s.startsWith(`${xT}:${M1}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function k1(s){if(s.startsWith(`${xT}:${V1}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new R1(e.status,e.statusText,e.data)}catch{}}function L1(s,{relative:e}={}){dt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(kn),{hash:l,pathname:u,search:f}=cu(s,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:gs([n,u])),r.createHref({pathname:p,search:f,hash:l})}function wl(){return k.useContext(uu)!=null}function Tr(){return dt(wl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(uu).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(s){k.useContext(kn).static||k.useLayoutEffect(s)}function Sr(){let{isDataRoute:s}=k.useContext(yi);return s?X1():P1()}function P1(){dt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Al),{basename:e,navigator:n}=k.useContext(kn),{matches:r}=k.useContext(yi),{pathname:l}=Tr(),u=JSON.stringify(op(r)),f=k.useRef(!1);return DT(()=>{f.current=!0}),k.useCallback((g,y={})=>{if(Jn(f.current,IT),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=up(g,JSON.parse(u),l,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:gs([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,l,s])}k.createContext(null);function OT(){let{matches:s}=k.useContext(yi),e=s[s.length-1];return e?e.params:{}}function cu(s,{relative:e}={}){let{matches:n}=k.useContext(yi),{pathname:r}=Tr(),l=JSON.stringify(op(n));return k.useMemo(()=>up(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function U1(s,e){return MT(s,e)}function MT(s,e,n,r,l){dt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(kn),{matches:f}=k.useContext(yi),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",S=p&&p.route;{let J=S&&S.path||"";jT(y,!S||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let R=Tr(),L;if(e){let J=typeof e=="string"?bl(e):e;dt(T==="/"||J.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),L=J}else L=R;let z=L.pathname||"/",B=z;if(T!=="/"){let J=T.replace(/^\//,"").split("/");B="/"+z.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=TT(s,{pathname:B});Jn(S||U!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Jn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=F1(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:gs([T,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:gs([T,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),f,n,r,l);return e&&X?k.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},X):X}function z1(){let s=$1(),e=N1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:l},n):null,f)}var B1=k.createElement(z1,null),VT=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=k1(s.digest);n&&(s=n)}let e=s!==void 0?k.createElement(yi.Provider,{value:this.props.routeContext},k.createElement(cp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?k.createElement(q1,{error:s},e):e}};VT.contextType=I1;var vm=new WeakMap;function q1({children:s,error:e}){let{basename:n}=k.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=j1(e.digest);if(r){let l=vm.get(e);if(l)throw l;let u=RT(r.location,n);if(wT&&!vm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw vm.set(e,f),f}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function H1({routeContext:s,match:e,children:n}){let r=k.useContext(Al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(yi.Provider,{value:s},n)}function F1(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,f=n?.errors;if(f!=null){let T=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);dt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let S=u[T];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=T),S.route.id){let{loaderData:R,errors:L}=n,z=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!L||L[S.route.id]===void 0);if(S.route.lazy||z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&r?(T,S)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:C1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((T,S,R)=>{let L,z=!1,B=null,U=null;n&&(L=f&&S.route.id?f[S.route.id]:void 0,B=S.route.errorElement||B1,p&&(g<0&&R===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,U=null):g===R&&(z=!0,U=S.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,R+1)),J=()=>{let se;return L?se=B:z?se=U:S.route.Component?se=k.createElement(S.route.Component,null):S.route.element?se=S.route.element:se=T,k.createElement(H1,{match:S,routeContext:{outlet:T,matches:X,isDataRoute:n!=null},children:se})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?k.createElement(VT,{location:n.location,revalidation:n.revalidation,component:B,error:L,children:J(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):J()},null)}function hp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(s){let e=k.useContext(Al);return dt(e,hp(s)),e}function Q1(s){let e=k.useContext(Ph);return dt(e,hp(s)),e}function K1(s){let e=k.useContext(yi);return dt(e,hp(s)),e}function fp(s){let e=K1(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Y1(){return fp("useRouteId")}function $1(){let s=k.useContext(cp),e=Q1("useRouteError"),n=fp("useRouteError");return s!==void 0?s:e.errors?.[n]}function X1(){let{router:s}=G1("useNavigate"),e=fp("useNavigate"),n=k.useRef(!1);return DT(()=>{n.current=!0}),k.useCallback(async(l,u={})=>{Jn(n.current,IT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var H_={};function jT(s,e,n){!e&&!H_[s]&&(H_[s]=!0,Jn(!1,n))}k.memo(W1);function W1({routes:s,future:e,state:n,onError:r}){return MT(s,void 0,n,r,e)}function dp({to:s,replace:e,state:n,relative:r}){dt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(kn);Jn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(yi),{pathname:f}=Tr(),p=Sr(),g=up(s,op(u),f,r==="path"),y=JSON.stringify(g);return k.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function zi(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){dt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[p,l,u,f]);typeof n=="string"&&(n=bl(n));let{pathname:y="/",search:T="",hash:S="",state:R=null,key:L="default"}=n,z=k.useMemo(()=>{let B=_s(y,p);return B==null?null:{location:{pathname:B,search:T,hash:S,state:R,key:L},navigationType:r}},[p,y,T,S,R,L,r]);return Jn(z!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:k.createElement(kn.Provider,{value:g},k.createElement(uu.Provider,{children:e,value:z}))}function Z1({children:s,location:e}){return U1(Mm(s),e)}function Mm(s,e=[]){let n=[];return k.Children.forEach(s,(r,l)=>{if(!k.isValidElement(r))return;let u=[...e,l];if(r.type===k.Fragment){n.push.apply(n,Mm(r.props.children,u));return}dt(r.type===zi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Mm(r.props.children,u)),n.push(f)}),n}var ah="get",lh="application/x-www-form-urlencoded";function Uh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function ew(s){return Uh(s)&&s.tagName.toLowerCase()==="button"}function tw(s){return Uh(s)&&s.tagName.toLowerCase()==="form"}function nw(s){return Uh(s)&&s.tagName.toLowerCase()==="input"}function iw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function sw(s,e){return s.button===0&&(!e||e==="_self")&&!iw(s)}var Zc=null;function rw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(s){return s!=null&&!aw.has(s)?(Jn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):s}function lw(s,e){let n,r,l,u,f;if(tw(s)){let p=s.getAttribute("action");r=p?_s(p,e):null,n=s.getAttribute("method")||ah,l=_m(s.getAttribute("enctype"))||lh,u=new FormData(s)}else if(ew(s)||nw(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?_s(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||ah,l=_m(s.getAttribute("formenctype"))||_m(p.getAttribute("enctype"))||lh,u=new FormData(p,s),!rw()){let{name:y,type:T,value:S}=s;if(T==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(Uh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,r=null,l=lh,f=s}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ow(s,e,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&_s(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function uw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hw(s,e,n){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await uw(u,n);return f.links?f.links():[]}return[]}));return pw(r.flat(1).filter(cw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function F_(s,e,n,r,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function fw(s,e,{includeHydrateFallback:n}={}){return dw(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function dw(s){return[...new Set(s)]}function mw(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function pw(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(mw(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function kT(){let s=k.useContext(Al);return mp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function gw(){let s=k.useContext(Ph);return mp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var pp=k.createContext(void 0);pp.displayName="FrameworkContext";function LT(){let s=k.useContext(pp);return mp(s,"You must render this element inside a <HydratedRouter> element"),s}function yw(s,e){let n=k.useContext(pp),[r,l]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=e,R=k.useRef(null);k.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let B=X=>{X.forEach(J=>{f(J.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[s]),k.useEffect(()=>{if(r){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[r]);let L=()=>{l(!0)},z=()=>{l(!1),f(!1)};return n?s!=="intent"?[u,R,{}]:[u,R,{onFocus:Uo(p,L),onBlur:Uo(g,z),onMouseEnter:Uo(y,L),onMouseLeave:Uo(T,z),onTouchStart:Uo(S,L)}]:[!1,R,{}]}function Uo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function vw({page:s,...e}){let{router:n}=kT(),r=k.useMemo(()=>TT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?k.createElement(Ew,{page:s,matches:r,...e}):null}function _w(s){let{manifest:e,routeModules:n}=LT(),[r,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return hw(s,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[s,e,n]),r}function Ew({page:s,matches:e,...n}){let r=Tr(),{future:l,manifest:u,routeModules:f}=LT(),{basename:p}=kT(),{loaderData:g,matches:y}=gw(),T=k.useMemo(()=>F_(s,e,y,u,r,"data"),[s,e,y,u,r]),S=k.useMemo(()=>F_(s,e,y,u,r,"assets"),[s,e,y,u,r]),R=k.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let B=new Set,U=!1;if(e.forEach(J=>{let se=u.routes[J.route.id];!se||!se.hasLoader||(!T.some(ce=>ce.route.id===J.route.id)&&J.route.id in g&&f[J.route.id]?.shouldRevalidate||se.hasClientLoader?U=!0:B.add(J.route.id))}),B.size===0)return[];let X=ow(s,p,l.unstable_trailingSlashAwareDataRequests,"data");return U&&B.size>0&&X.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[X.pathname+X.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,r,u,T,e,s,f]),L=k.useMemo(()=>fw(S,u),[S,u]),z=_w(S);return k.createElement(k.Fragment,null,R.map(B=>k.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),L.map(B=>k.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),z.map(({key:B,link:U})=>k.createElement("link",{key:B,nonce:n.nonce,...U})))}function Tw(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sw&&(window.__reactRouterVersion="7.12.0")}catch{}function bw({basename:s,children:e,unstable_useTransitions:n,window:r}){let l=k.useRef();l.current==null&&(l.current=i1({window:r,v5Compat:!0}));let u=l.current,[f,p]=k.useState({action:u.action,location:u.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>u.listen(g),[u,g]),k.createElement(J1,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zh=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},z){let{basename:B,unstable_useTransitions:U}=k.useContext(kn),X=typeof y=="string"&&PT.test(y),J=RT(y,B);y=J.to;let se=L1(y,{relative:l}),[ce,_e,Se]=yw(r,L),x=Nw(y,{replace:f,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:U});function N(M){e&&e(M),M.defaultPrevented||x(M)}let C=k.createElement("a",{...L,...Se,href:J.absoluteURL||se,onClick:J.isExternal||u?e:N,ref:Tw(z,_e),target:g,"data-discover":!X&&n==="render"?"true":void 0});return ce&&!X?k.createElement(k.Fragment,null,C,k.createElement(vw,{page:se})):C});zh.displayName="Link";var Aw=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:p,children:g,...y},T){let S=cu(f,{relative:y.relative}),R=Tr(),L=k.useContext(Ph),{navigator:z,basename:B}=k.useContext(kn),U=L!=null&&Ow(S)&&p===!0,X=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,J=R.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(J=J.toLowerCase(),se=se?se.toLowerCase():null,X=X.toLowerCase()),se&&B&&(se=_s(se,B)||se);const ce=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let _e=J===X||!l&&J.startsWith(X)&&J.charAt(ce)==="/",Se=se!=null&&(se===X||!l&&se.startsWith(X)&&se.charAt(X.length)==="/"),x={isActive:_e,isPending:Se,isTransitioning:U},N=_e?e:void 0,C;typeof r=="function"?C=r(x):C=[r,_e?"active":null,Se?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return k.createElement(zh,{...y,"aria-current":N,className:C,ref:T,style:M,to:f,viewTransition:p},typeof g=="function"?g(x):g)});Aw.displayName="NavLink";var ww=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:f=ah,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R,...L},z)=>{let{unstable_useTransitions:B}=k.useContext(kn),U=Iw(),X=Dw(p,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",se=typeof p=="string"&&PT.test(p),ce=_e=>{if(g&&g(_e),_e.defaultPrevented)return;_e.preventDefault();let Se=_e.nativeEvent.submitter,x=Se?.getAttribute("formmethod")||f,N=()=>U(Se||_e.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:l,state:u,relative:y,preventScrollReset:T,viewTransition:S,unstable_defaultShouldRevalidate:R});B&&n!==!1?k.startTransition(()=>N()):N()};return k.createElement("form",{ref:z,method:J,action:X,onSubmit:r?g:ce,...L,"data-discover":!se&&s==="render"?"true":void 0})});ww.displayName="Form";function Rw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UT(s){let e=k.useContext(Al);return dt(e,Rw(s)),e}function Nw(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=Sr(),T=Tr(),S=cu(s,{relative:u});return k.useCallback(R=>{if(sw(R,e)){R.preventDefault();let L=n!==void 0?n:Jo(T)===Jo(S),z=()=>y(s,{replace:L,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?k.startTransition(()=>z()):z()}},[T,y,S,n,r,e,s,l,u,f,p,g])}var Cw=0,xw=()=>`__${String(++Cw)}__`;function Iw(){let{router:s}=UT("useSubmit"),{basename:e}=k.useContext(kn),n=Y1(),r=s.fetch,l=s.navigate;return k.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:T,body:S}=lw(u,e);if(f.navigate===!1){let R=f.fetcherKey||xw();await r(R,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:T,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,l,e,n])}function Dw(s,{relative:e}={}){let{basename:n}=k.useContext(kn),r=k.useContext(yi);dt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...cu(s||".",{relative:e})},f=Tr();if(s==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let T=p.toString();u.search=T?`?${T}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gs([n,u.pathname])),Jo(u)}function Ow(s,{relative:e}={}){let n=k.useContext(CT);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UT("useViewTransitionState"),l=cu(s,{relative:e});if(!n.isTransitioning)return!1;let u=_s(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=_s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vh(l.pathname,f)!=null||vh(l.pathname,u)!=null}const Mw=()=>{};var G_={};const zT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Vw=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,p=f?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let R=(p&15)<<2|y>>6,L=y&63;g||(L=64,f||(R=64)),r.push(n[T],n[S],n[R],n[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(zT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Vw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new jw;const R=u<<2|p>>4;if(r.push(R),y!==64){const L=p<<4&240|y>>2;if(r.push(L),S!==64){const z=y<<6&192|S;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kw=function(s){const e=zT(s);return BT.encodeByteArray(e,!0)},_h=function(s){return kw(s).replace(/\./g,"")},qT=function(s){try{return BT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pw=()=>Lw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof G_>"u")return;const s=G_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},zw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&qT(s[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Mw()||Pw()||Uw()||zw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},HT=s=>Bh()?.emulatorHosts?.[s],Bw=s=>{const e=HT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FT=()=>Bh()?.config,GT=s=>Bh()?.[`_${s}`];class qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QT(s){return(await fetch(s,{credentials:"include"})).ok}function Hw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Qo={};function Fw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Qo))Qo[e]?s.emulator.push(e):s.prod.push(e);return s}function Gw(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Q_=!1;function KT(s,e){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Qo[s]===e||Qo[s]||Q_)return;Qo[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=Fw().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Q_=!0,f()},R}function T(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=Gw(r),L=n("text"),z=document.getElementById(L)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),X=n("preprendIcon"),J=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;p(se),T(U,B);const ce=y();g(J,X),se.append(J,z,U,ce),document.body.appendChild(se)}u?(z.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Kw(){const s=Bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Jw(){return!Kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const tR="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tR,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?nR(u,r):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new As(l,p,r)}}function nR(s,e){return s.replace(iR,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const iR=/\{\$([^}]+)}/g;function sR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function oa(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(K_(u)&&K_(f)){if(!oa(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}function fu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Bo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function rR(s,e){const n=new aR(s,e);return n.subscribe.bind(n)}class aR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Em(){}function Ut(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cR(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(s){return s===ia?void 0:s}function cR(s){return s.instantiationMode==="EAGER"}class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const fR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},dR=qe.INFO,mR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},pR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=mR[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const gR=(s,e)=>e.some(n=>s instanceof n);let Y_,$_;function yR(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,Vm=new WeakMap,$T=new WeakMap,Tm=new WeakMap,yp=new WeakMap;function _R(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(cr(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&YT.set(n,s)}).catch(()=>{}),yp.set(e,s),e}function ER(s){if(Vm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Vm.set(s,e)}let jm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$T.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TR(s){jm=s(jm)}function SR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Sm(this),e,...n);return $T.set(r,e.sort?e.sort():[e]),cr(r)}:vR().includes(s)?function(...e){return s.apply(Sm(this),e),cr(YT.get(this))}:function(...e){return cr(s.apply(Sm(this),e))}}function bR(s){return typeof s=="function"?SR(s):(s instanceof IDBTransaction&&ER(s),gR(s,yR())?new Proxy(s,jm):s)}function cr(s){if(s instanceof IDBRequest)return _R(s);if(Tm.has(s))return Tm.get(s);const e=bR(s);return e!==s&&(Tm.set(s,e),yp.set(e,s)),e}const Sm=s=>yp.get(s);function AR(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),p=cr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(cr(f.result),g.oldVersion,g.newVersion,cr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const wR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],bm=new Map;function X_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=RR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||wR.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return bm.set(e,u),u}TR(s=>({...s,get:(e,n,r)=>X_(e,n)||s.get(e,n,r),has:(e,n)=>!!X_(e,n)||s.has(e,n)}));class NR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CR(s){return s.getComponent()?.type==="VERSION"}const km="@firebase/app",W_="0.14.6";const Es=new gp("@firebase/app"),xR="@firebase/app-compat",IR="@firebase/analytics-compat",DR="@firebase/analytics",OR="@firebase/app-check-compat",MR="@firebase/app-check",VR="@firebase/auth",jR="@firebase/auth-compat",kR="@firebase/database",LR="@firebase/data-connect",PR="@firebase/database-compat",UR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",qR="@firebase/installations-compat",HR="@firebase/messaging",FR="@firebase/messaging-compat",GR="@firebase/performance",QR="@firebase/performance-compat",KR="@firebase/remote-config",YR="@firebase/remote-config-compat",$R="@firebase/storage",XR="@firebase/storage-compat",WR="@firebase/firestore",JR="@firebase/ai",ZR="@firebase/firestore-compat",eN="firebase",tN="12.6.0";const Lm="[DEFAULT]",nN={[km]:"fire-core",[xR]:"fire-core-compat",[DR]:"fire-analytics",[IR]:"fire-analytics-compat",[MR]:"fire-app-check",[OR]:"fire-app-check-compat",[VR]:"fire-auth",[jR]:"fire-auth-compat",[kR]:"fire-rtdb",[LR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[UR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[qR]:"fire-iid-compat",[HR]:"fire-fcm",[FR]:"fire-fcm-compat",[GR]:"fire-perf",[QR]:"fire-perf-compat",[KR]:"fire-rc",[YR]:"fire-rc-compat",[$R]:"fire-gcs",[XR]:"fire-gcs-compat",[WR]:"fire-fst",[ZR]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};const Eh=new Map,iN=new Map,Pm=new Map;function J_(s,e){try{s.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function pl(s){const e=s.name;if(Pm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of Eh.values())J_(n,s);for(const n of iN.values())J_(n,s);return!0}function vp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new hu("app","Firebase",sN);class rN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Nl=tN;function XT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Lm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(n||(n=FT()),!n)throw hr.create("no-options");const u=Eh.get(l);if(u){if(oa(n,u.options)&&oa(r,u.config))return u;throw hr.create("duplicate-app",{appName:l})}const f=new hR(l);for(const g of Pm.values())f.addComponent(g);const p=new rN(n,r,f);return Eh.set(l,p),p}function WT(s=Lm){const e=Eh.get(s);if(!e&&s===Lm&&FT())return XT();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,n){let r=nN[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(f.join(" "));return}pl(new ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const aN="firebase-heartbeat-database",lN=1,Zo="firebase-heartbeat-store";let Am=null;function JT(){return Am||(Am=AR(aN,lN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Am}async function oN(s){try{const n=(await JT()).transaction(Zo),r=await n.objectStore(Zo).get(ZT(s));return await n.done,r}catch(e){if(e instanceof As)Es.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function Z_(s,e){try{const r=(await JT()).transaction(Zo,"readwrite");await r.objectStore(Zo).put(e,ZT(s)),await r.done}catch(n){if(n instanceof As)Es.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function ZT(s){return`${s.name}!${s.options.appId}`}const uN=1024,cN=30;class hN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cN){const l=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:n,unsentEntries:r}=fN(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function fN(s,e=uN){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),tE(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),tE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tE(s){return _h(JSON.stringify({version:2,heartbeats:s})).length}function mN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function pN(s){pl(new ua("platform-logger",e=>new NR(e),"PRIVATE")),pl(new ua("heartbeat",e=>new hN(e),"PRIVATE")),fr(km,W_,s),fr(km,W_,"esm2020"),fr("fire-js","")}pN("");function e0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=e0,t0=new hu("auth","Firebase",e0());const Th=new gp("@firebase/auth");function yN(s,...e){Th.logLevel<=qe.WARN&&Th.warn(`Auth (${Nl}): ${s}`,...e)}function oh(s,...e){Th.logLevel<=qe.ERROR&&Th.error(`Auth (${Nl}): ${s}`,...e)}function Zn(s,...e){throw Ep(s,...e)}function mi(s,...e){return Ep(s,...e)}function _p(s,e,n){const r={...gN(),[e]:n};return new hu("auth","Firebase",r).create(e,{appName:s.name})}function ys(s){return _p(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(s,"argument-error"),_p(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return t0.create(s,...e)}function we(s,e,...n){if(!s)throw Ep(e,...n)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw oh(e),new Error(e)}function Ts(s,e){s||ms(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function _N(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function EN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_N()||$w()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=Qw()||Xw()}get(){return EN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class n0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AN=new du(3e4,6e4);function br(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ws(s,e,n,r,l={}){return i0(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=fu({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return Yw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Rl(s.emulatorConfig.host)&&(y.credentials="include"),n0.fetch()(await s0(s,s.config.apiHost,n,p),y)})}async function i0(s,e,n){s._canInitEmulator=!1;const r={...SN,...e};try{const l=new RN(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw eh(s,"user-disabled",f);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _p(s,T,y);Zn(s,T)}}catch(l){if(l instanceof As)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function mu(s,e,n,r,l={}){const u=await ws(s,e,n,r,l);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function s0(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?Tp(s.config,l):`${s.config.apiScheme}://${l}`;return bN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function wN(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),AN.get())})}}function eh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=mi(s,e,r);return l.customData._tokenResponse=n,l}function iE(s){return s!==void 0&&s.enterprise!==void 0}class NN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CN(s,e){return ws(s,"GET","/v2/recaptchaConfig",br(s,e))}async function xN(s,e){return ws(s,"POST","/v1/accounts:delete",e)}async function Sh(s,e){return ws(s,"POST","/v1/accounts:lookup",e)}function Ko(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IN(s,e=!1){const n=Ut(s),r=await n.getIdToken(e),l=Sp(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Ko(wm(l.auth_time)),issuedAtTime:Ko(wm(l.iat)),expirationTime:Ko(wm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(s){return Number(s)*1e3}function Sp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const l=qT(n);return l?JSON.parse(l):(oh("Failed to decode base64 JWT payload"),null)}catch(l){return oh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function sE(s){const e=Sp(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof As&&DN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function DN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ON{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,n=await s.getIdToken(),r=await gl(s,Sh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?r0(l.providerUserInfo):[],f=VN(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!f?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function MN(s){const e=Ut(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VN(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function r0(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jN(s,e){const n=await i0(s,{},async()=>{const r=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await s0(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Rl(s.emulatorConfig.host)&&(g.credentials="include"),n0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kN(s,e){return ws(s,"POST","/v2/accounts:revokeToken",br(s,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await jN(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new cl;return r&&(we(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function rr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new ON(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IN(this,e)}reload(){return MN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await gl(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:L,providerData:z,stsTokenManager:B}=n;we(S&&B,e,"internal-error");const U=cl.fromJSON(this.name,B);we(typeof S=="string",e,"internal-error"),rr(r,e.name),rr(l,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof L=="boolean",e,"internal-error"),rr(u,e.name),rr(f,e.name),rr(p,e.name),rr(g,e.name),rr(y,e.name),rr(T,e.name);const X=new di({uid:S,auth:e,email:l,emailVerified:R,displayName:r,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:T});return z&&Array.isArray(z)&&(X.providerData=z.map(J=>({...J}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,r=!1){const l=new cl;l.updateFromServerResponse(n);const u=new di({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?r0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new cl;p.updateFromIdToken(r);const g=new di({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const rE=new Map;function ps(s){Ts(s instanceof Function,"Expected a class definition");let e=rE.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rE.set(s,e),e)}class a0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a0.type="NONE";const aE=a0;function uh(s,e,n){return`firebase:${s}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=uh(this.userKey,l.apiKey,u),this.fullPersistenceKey=uh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(ps(aE),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ps(aE);const f=uh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const R=await Sh(e,{idToken:T}).catch(()=>{});if(!R)break;S=await di._fromGetAccountInfoResponse(e,R,T)}else S=di._fromJSON(e,T);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new hl(u,e,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new hl(u,e,r))}}function lE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f0(e))return"Blackberry";if(d0(e))return"Webos";if(o0(e))return"Safari";if((e.includes("chrome/")||u0(e))&&!e.includes("edge/"))return"Chrome";if(h0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function l0(s=un()){return/firefox\//i.test(s)}function o0(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u0(s=un()){return/crios\//i.test(s)}function c0(s=un()){return/iemobile/i.test(s)}function h0(s=un()){return/android/i.test(s)}function f0(s=un()){return/blackberry/i.test(s)}function d0(s=un()){return/webos/i.test(s)}function bp(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function LN(s=un()){return bp(s)&&!!window.navigator?.standalone}function PN(){return Ww()&&document.documentMode===10}function m0(s=un()){return bp(s)||h0(s)||d0(s)||f0(s)||/windows phone/i.test(s)||c0(s)}function p0(s,e=[]){let n;switch(s){case"Browser":n=lE(un());break;case"Worker":n=`${lE(un())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function zN(s,e={}){return ws(s,"GET","/v2/passwordPolicy",br(s,e))}const BN=6;class qN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class HN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ys(this));const n=e?Ut(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),n=new qN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ar(s){return Ut(s)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rR(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FN(s){qh=s}function g0(s){return qh.loadJS(s)}function GN(){return qh.recaptchaEnterpriseScript}function QN(){return qh.gapiScript}function KN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new $N}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $N{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XN="recaptcha-enterprise",y0="NO_RECAPTCHA";class WN{constructor(e){this.type=XN,this.auth=Ar(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{CN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new NN(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;iE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(y0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!n&&iE(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=GN();g.length!==0&&(g+=p),g0(g).then(()=>{l(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function uE(s,e,n,r=!1,l=!1){const u=new WN(s);let f;if(l)f=y0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bm(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uE(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(u)})}function JN(s,e){const n=vp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(oa(u,e??{}))return l;Zn(l,"already-initialized")}return n.initialize({options:e})}function ZN(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function eC(s,e,n){const r=Ar(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=v0(e),{host:f,port:p}=tC(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(oa(y,r.config.emulator)&&oa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Rl(f)?(QT(`${u}//${f}${g}`),KT("Auth",!0)):nC()}function v0(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function tC(s){const e=v0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:cE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:cE(f)}}}function cE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function nC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function iC(s,e){return ws(s,"POST","/v1/accounts:signUp",e)}async function sC(s,e){return mu(s,"POST","/v1/accounts:signInWithPassword",br(s,e))}async function rC(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}async function aC(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",br(s,e))}class eu extends Ap{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",sC);case"emailLink":return rC(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",iC);case"emailLink":return aC(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fl(s,e){return mu(s,"POST","/v1/accounts:signInWithIdp",br(s,e))}const lC="http://localhost";class ca extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new ca(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function oC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(s){const e=zo(Bo(s)).link,n=e?zo(Bo(e)).deep_link_id:null,r=zo(Bo(s)).deep_link_id;return(r?zo(Bo(r)).link:null)||r||n||e||s}class wp{constructor(e){const n=zo(Bo(e)),r=n.apiKey??null,l=n.oobCode??null,u=oC(n.mode??null);we(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=uC(e);try{return new wp(n)}catch{return null}}}class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wp.parseLink(n);return we(r,"argument-error"),eu._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends pu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class qi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";class lr extends pu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends pu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return or.credential(n,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function cC(s,e){return mu(s,"POST","/v1/accounts:signUp",br(s,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await di._fromIdTokenResponse(e,r,l),f=hE(r);return new ha({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=hE(r);return new ha({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function hE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ah extends As{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Ah(e,n,r,l)}}function _0(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(s,u,e,r):u})}async function hC(s,e,n=!1){const r=await gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ha._forOperation(s,"link",r)}async function fC(s,e,n=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(ys(r));const l="reauthenticate";try{const u=await gl(s,_0(r,l,e,s),n);we(u.idToken,r,"internal-error");const f=Sp(u.idToken);we(f,r,"internal-error");const{sub:p}=f;return we(s.uid===p,r,"user-mismatch"),ha._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}async function E0(s,e,n=!1){if(Vn(s.app))return Promise.reject(ys(s));const r="signIn",l=await _0(s,r,e),u=await ha._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function dC(s,e){return E0(Ar(s),e)}async function T0(s){const e=Ar(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mC(s,e,n){if(Vn(s.app))return Promise.reject(ys(s));const r=Ar(s),f=await Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&T0(s),g}),p=await ha._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function pC(s,e,n){return Vn(s.app)?Promise.reject(ys(s)):dC(Ut(s),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&T0(s),r})}async function gC(s,e){return ws(s,"POST","/v1/accounts:update",e)}async function S0(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ut(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await gl(r,gC(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function yC(s,e,n,r){return Ut(s).onIdTokenChanged(e,n,r)}function vC(s,e,n){return Ut(s).beforeAuthStateChanged(e,n)}function _C(s,e,n,r){return Ut(s).onAuthStateChanged(e,n,r)}function b0(s){return Ut(s).signOut()}const wh="__sak";class A0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const EC=1e3,TC=10;class w0 extends A0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);PN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,TC):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w0.type="LOCAL";const SC=w0;class R0 extends A0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}R0.type="SESSION";const N0=R0;function bC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await bC(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Np("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Hi(){return window}function wC(s){Hi().location.href=s}function C0(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function RC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){return navigator?.serviceWorker?.controller||null}function CC(){return C0()?self:null}const x0="firebaseLocalStorageDb",xC=1,Rh="firebaseLocalStorage",I0="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(s,e){return s.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function IC(){const s=indexedDB.deleteDatabase(x0);return new gu(s).toPromise()}function qm(){const s=indexedDB.open(x0,xC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Rh,{keyPath:I0})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),await IC(),e(await qm()))})})}async function fE(s,e,n){const r=Fh(s,!0).put({[I0]:e,value:n});return new gu(r).toPromise()}async function DC(s,e){const n=Fh(s,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function dE(s,e){const n=Fh(s,!0).delete(e);return new gu(n).toPromise()}const OC=800,MC=3;class D0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(CC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await fE(e,wh,"1"),await dE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Fh(l,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D0.type="LOCAL";const VC=D0;new du(3e4,6e4);function O0(s,e){return e?ps(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jC(s){return E0(s.auth,new Cp(s),s.bypassAuthState)}function kC(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),fC(n,new Cp(s),s.bypassAuthState)}async function LC(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),hC(n,new Cp(s),s.bypassAuthState)}class M0{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:Zn(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PC=new du(2e3,1e4);async function V0(s,e,n){if(Vn(s.app))return Promise.reject(mi(s,"operation-not-supported-in-this-environment"));const r=Ar(s);vN(s,e,Rp);const l=O0(r,n);return new sa(r,"signInViaPopup",e,l).executeNotNull()}class sa extends M0{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}sa.currentPopupAction=null;const UC="pendingRedirect",ch=new Map;class zC extends M0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await BC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BC(s,e){const n=FC(e),r=HC(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function qC(s,e){ch.set(s._key(),e)}function HC(s){return ps(s._redirectPersistence)}function FC(s){return uh(UC,s.config.apiKey,s.name)}async function GC(s,e,n=!1){if(Vn(s.app))return Promise.reject(ys(s));const r=Ar(s),l=O0(r,e),f=await new zC(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const QC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function j0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function YC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j0(s);default:return!1}}async function $C(s,e={}){return ws(s,"GET","/v1/projects",e)}const XC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function JC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await $C(s);for(const n of e)try{if(ZC(n))return}catch{}Zn(s,"unauthorized-domain")}function ZC(s){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!WC.test(n))return!1;if(XC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const ex=new du(3e4,6e4);function pE(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function tx(s){return new Promise((e,n)=>{function r(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(mi(s,"network-request-failed"))},timeout:ex.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=KN("iframefcb");return Hi()[l]=()=>{gapi.load?r():n(mi(s,"network-request-failed"))},g0(`${QN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function nx(s){return hh=hh||tx(s),hh}const ix=new du(5e3,15e3),sx="__/auth/iframe",rx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Tp(e,rx):`https://${s.config.authDomain}/${sx}`,r={apiKey:e.apiKey,appName:s.name,v:Nl},l=lx.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${fu(r).slice(1)}`}async function ux(s){const e=await nx(s),n=Hi().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:ox(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=mi(s,"network-request-failed"),p=Hi().setTimeout(()=>{u(f)},ix.get());function g(){Hi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(f)})}))}const cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,fx=600,dx="_blank",mx="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(s,e,n,r=hx,l=fx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...cx,width:r.toString(),height:l.toString(),top:u,left:f},y=un().toLowerCase();n&&(p=u0(y)?dx:n),l0(y)&&(e=e||mx,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[L,z])=>`${R}${L}=${z},`,"");if(LN(y)&&p!=="_self")return gx(e||"",p),new gE(null);const S=window.open(e||"",p,T);we(S,s,"popup-blocked");try{S.focus()}catch{}return new gE(S)}function gx(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yx="__/auth/handler",vx="emulator/auth/handler",_x=encodeURIComponent("fac");async function yE(s,e,n,r,l,u){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Nl,eventId:l};if(e instanceof Rp){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",sR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof pu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${_x}=${encodeURIComponent(g)}`:"";return`${Ex(s)}?${fu(p).slice(1)}${y}`}function Ex({config:s}){return s.emulator?Tp(s,vx):`https://${s.authDomain}/${yx}`}const Rm="webStorageSupport";class Tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N0,this._completeRedirectFn=GC,this._overrideRedirectResult=qC}async _openPopup(e,n,r,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yE(e,n,r,Um(),l);return px(e,u,Np())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await yE(e,n,r,Um(),l);return wC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ts(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ux(e),r=new KC(e);return n.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},l=>{const u=l?.[0]?.[Rm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m0()||o0()||bp()}}const Sx=Tx;var vE="@firebase/auth",_E="1.12.0";class bx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ax(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(s){pl(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p0(s)},y=new HN(r,l,u,g);return ZN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new ua("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return(r=>new bx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(vE,_E,Ax(s)),fr(vE,_E,"esm2020")}const Rx=300,Nx=GT("authIdTokenMaxAge")||Rx;let EE=null;const Cx=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nx)return;const l=n?.token;EE!==l&&(EE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xx(s=WT()){const e=vp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=JN(s,{popupRedirectResolver:Sx,persistence:[VC,SC,N0]}),r=GT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=Cx(u.toString());vC(n,f,()=>f(n.currentUser)),yC(n,p=>f(p))}}const l=HT("auth");return l&&eC(n,`http://${l}`),n}function Ix(){return document.getElementsByTagName("head")?.[0]??document}FN({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=mi("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",Ix().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");var Dx="firebase",Ox="12.7.0";fr(Dx,Ox,"app");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,k0;(function(){var s;function e(x,N){function C(){}C.prototype=N.prototype,x.F=N.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,w,j){for(var I=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)I[ke-2]=arguments[ke];return N.prototype[w].apply(M,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,N,C){C||(C=0);const M=Array(16);if(typeof N=="string")for(var w=0;w<16;++w)M[w]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(w=0;w<16;++w)M[w]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=x.g[0],C=x.g[1],w=x.g[2];let j=x.g[3],I;I=N+(j^C&(w^j))+M[0]+3614090360&4294967295,N=C+(I<<7&4294967295|I>>>25),I=j+(w^N&(C^w))+M[1]+3905402710&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(C^j&(N^C))+M[2]+606105819&4294967295,w=j+(I<<17&4294967295|I>>>15),I=C+(N^w&(j^N))+M[3]+3250441966&4294967295,C=w+(I<<22&4294967295|I>>>10),I=N+(j^C&(w^j))+M[4]+4118548399&4294967295,N=C+(I<<7&4294967295|I>>>25),I=j+(w^N&(C^w))+M[5]+1200080426&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(C^j&(N^C))+M[6]+2821735955&4294967295,w=j+(I<<17&4294967295|I>>>15),I=C+(N^w&(j^N))+M[7]+4249261313&4294967295,C=w+(I<<22&4294967295|I>>>10),I=N+(j^C&(w^j))+M[8]+1770035416&4294967295,N=C+(I<<7&4294967295|I>>>25),I=j+(w^N&(C^w))+M[9]+2336552879&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(C^j&(N^C))+M[10]+4294925233&4294967295,w=j+(I<<17&4294967295|I>>>15),I=C+(N^w&(j^N))+M[11]+2304563134&4294967295,C=w+(I<<22&4294967295|I>>>10),I=N+(j^C&(w^j))+M[12]+1804603682&4294967295,N=C+(I<<7&4294967295|I>>>25),I=j+(w^N&(C^w))+M[13]+4254626195&4294967295,j=N+(I<<12&4294967295|I>>>20),I=w+(C^j&(N^C))+M[14]+2792965006&4294967295,w=j+(I<<17&4294967295|I>>>15),I=C+(N^w&(j^N))+M[15]+1236535329&4294967295,C=w+(I<<22&4294967295|I>>>10),I=N+(w^j&(C^w))+M[1]+4129170786&4294967295,N=C+(I<<5&4294967295|I>>>27),I=j+(C^w&(N^C))+M[6]+3225465664&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^C&(j^N))+M[11]+643717713&4294967295,w=j+(I<<14&4294967295|I>>>18),I=C+(j^N&(w^j))+M[0]+3921069994&4294967295,C=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(C^w))+M[5]+3593408605&4294967295,N=C+(I<<5&4294967295|I>>>27),I=j+(C^w&(N^C))+M[10]+38016083&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^C&(j^N))+M[15]+3634488961&4294967295,w=j+(I<<14&4294967295|I>>>18),I=C+(j^N&(w^j))+M[4]+3889429448&4294967295,C=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(C^w))+M[9]+568446438&4294967295,N=C+(I<<5&4294967295|I>>>27),I=j+(C^w&(N^C))+M[14]+3275163606&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^C&(j^N))+M[3]+4107603335&4294967295,w=j+(I<<14&4294967295|I>>>18),I=C+(j^N&(w^j))+M[8]+1163531501&4294967295,C=w+(I<<20&4294967295|I>>>12),I=N+(w^j&(C^w))+M[13]+2850285829&4294967295,N=C+(I<<5&4294967295|I>>>27),I=j+(C^w&(N^C))+M[2]+4243563512&4294967295,j=N+(I<<9&4294967295|I>>>23),I=w+(N^C&(j^N))+M[7]+1735328473&4294967295,w=j+(I<<14&4294967295|I>>>18),I=C+(j^N&(w^j))+M[12]+2368359562&4294967295,C=w+(I<<20&4294967295|I>>>12),I=N+(C^w^j)+M[5]+4294588738&4294967295,N=C+(I<<4&4294967295|I>>>28),I=j+(N^C^w)+M[8]+2272392833&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^C)+M[11]+1839030562&4294967295,w=j+(I<<16&4294967295|I>>>16),I=C+(w^j^N)+M[14]+4259657740&4294967295,C=w+(I<<23&4294967295|I>>>9),I=N+(C^w^j)+M[1]+2763975236&4294967295,N=C+(I<<4&4294967295|I>>>28),I=j+(N^C^w)+M[4]+1272893353&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^C)+M[7]+4139469664&4294967295,w=j+(I<<16&4294967295|I>>>16),I=C+(w^j^N)+M[10]+3200236656&4294967295,C=w+(I<<23&4294967295|I>>>9),I=N+(C^w^j)+M[13]+681279174&4294967295,N=C+(I<<4&4294967295|I>>>28),I=j+(N^C^w)+M[0]+3936430074&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^C)+M[3]+3572445317&4294967295,w=j+(I<<16&4294967295|I>>>16),I=C+(w^j^N)+M[6]+76029189&4294967295,C=w+(I<<23&4294967295|I>>>9),I=N+(C^w^j)+M[9]+3654602809&4294967295,N=C+(I<<4&4294967295|I>>>28),I=j+(N^C^w)+M[12]+3873151461&4294967295,j=N+(I<<11&4294967295|I>>>21),I=w+(j^N^C)+M[15]+530742520&4294967295,w=j+(I<<16&4294967295|I>>>16),I=C+(w^j^N)+M[2]+3299628645&4294967295,C=w+(I<<23&4294967295|I>>>9),I=N+(w^(C|~j))+M[0]+4096336452&4294967295,N=C+(I<<6&4294967295|I>>>26),I=j+(C^(N|~w))+M[7]+1126891415&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~C))+M[14]+2878612391&4294967295,w=j+(I<<15&4294967295|I>>>17),I=C+(j^(w|~N))+M[5]+4237533241&4294967295,C=w+(I<<21&4294967295|I>>>11),I=N+(w^(C|~j))+M[12]+1700485571&4294967295,N=C+(I<<6&4294967295|I>>>26),I=j+(C^(N|~w))+M[3]+2399980690&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~C))+M[10]+4293915773&4294967295,w=j+(I<<15&4294967295|I>>>17),I=C+(j^(w|~N))+M[1]+2240044497&4294967295,C=w+(I<<21&4294967295|I>>>11),I=N+(w^(C|~j))+M[8]+1873313359&4294967295,N=C+(I<<6&4294967295|I>>>26),I=j+(C^(N|~w))+M[15]+4264355552&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~C))+M[6]+2734768916&4294967295,w=j+(I<<15&4294967295|I>>>17),I=C+(j^(w|~N))+M[13]+1309151649&4294967295,C=w+(I<<21&4294967295|I>>>11),I=N+(w^(C|~j))+M[4]+4149444226&4294967295,N=C+(I<<6&4294967295|I>>>26),I=j+(C^(N|~w))+M[11]+3174756917&4294967295,j=N+(I<<10&4294967295|I>>>22),I=w+(N^(j|~C))+M[2]+718787259&4294967295,w=j+(I<<15&4294967295|I>>>17),I=C+(j^(w|~N))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+N&4294967295,x.g[1]=x.g[1]+(w+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+w&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.v=function(x,N){N===void 0&&(N=x.length);const C=N-this.blockSize,M=this.C;let w=this.h,j=0;for(;j<N;){if(w==0)for(;j<=C;)l(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<N;)if(M[w++]=x.charCodeAt(j++),w==this.blockSize){l(this,M),w=0;break}}else for(;j<N;)if(M[w++]=x[j++],w==this.blockSize){l(this,M),w=0;break}}this.h=w,this.o+=N},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var N=1;N<x.length-8;++N)x[N]=0;N=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=N&255,N/=256;for(this.v(x),x=Array(16),N=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[N++]=this.g[C]>>>M&255;return x};function u(x,N){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=N(x)}function f(x,N){this.h=N;const C=[];let M=!0;for(let w=x.length-1;w>=0;w--){const j=x[w]|0;M&&j==N||(C[w]=j,M=!1)}this.g=C}var p={};function g(x){return-128<=x&&x<128?u(x,function(N){return new f([N|0],N<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return U(y(-x));const N=[];let C=1;for(let M=0;x>=C;M++)N[M]=x/C|0,C*=4294967296;return new f(N,0)}function T(x,N){if(x.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x.charAt(0)=="-")return U(T(x.substring(1),N));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(N,8));let M=S;for(let j=0;j<x.length;j+=8){var w=Math.min(8,x.length-j);const I=parseInt(x.substring(j,j+w),N);w<8?(w=y(Math.pow(N,w)),M=M.j(w).add(y(I))):(M=M.j(C),M=M.add(y(I)))}return M}var S=g(0),R=g(1),L=g(16777216);s=f.prototype,s.m=function(){if(B(this))return-U(this).m();let x=0,N=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*N,N*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(B(this))return"-"+U(this).toString(x);const N=y(Math.pow(x,6));var C=this;let M="";for(;;){const w=ce(C,N).g;C=X(C,w.j(N));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=w,z(C))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let N=0;N<x.g.length;N++)if(x.g[N]!=0)return!1;return!0}function B(x){return x.h==-1}s.l=function(x){return x=X(this,x),B(x)?-1:z(x)?0:1};function U(x){const N=x.g.length,C=[];for(let M=0;M<N;M++)C[M]=~x.g[M];return new f(C,~x.h).add(R)}s.abs=function(){return B(this)?U(this):this},s.add=function(x){const N=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let w=0;w<=N;w++){let j=M+(this.i(w)&65535)+(x.i(w)&65535),I=(j>>>16)+(this.i(w)>>>16)+(x.i(w)>>>16);M=I>>>16,j&=65535,I&=65535,C[w]=I<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function X(x,N){return x.add(U(N))}s.j=function(x){if(z(this)||z(x))return S;if(B(this))return B(x)?U(this).j(U(x)):U(U(this).j(x));if(B(x))return U(this.j(U(x)));if(this.l(L)<0&&x.l(L)<0)return y(this.m()*x.m());const N=this.g.length+x.g.length,C=[];for(var M=0;M<2*N;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let w=0;w<x.g.length;w++){const j=this.i(M)>>>16,I=this.i(M)&65535,ke=x.i(w)>>>16,pe=x.i(w)&65535;C[2*M+2*w]+=I*pe,J(C,2*M+2*w),C[2*M+2*w+1]+=j*pe,J(C,2*M+2*w+1),C[2*M+2*w+1]+=I*ke,J(C,2*M+2*w+1),C[2*M+2*w+2]+=j*ke,J(C,2*M+2*w+2)}for(x=0;x<N;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=N;x<2*N;x++)C[x]=0;return new f(C,0)};function J(x,N){for(;(x[N]&65535)!=x[N];)x[N+1]+=x[N]>>>16,x[N]&=65535,N++}function se(x,N){this.g=x,this.h=N}function ce(x,N){if(z(N))throw Error("division by zero");if(z(x))return new se(S,S);if(B(x))return N=ce(U(x),N),new se(U(N.g),U(N.h));if(B(N))return N=ce(x,U(N)),new se(U(N.g),N.h);if(x.g.length>30){if(B(x)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=N;M.l(x)<=0;)C=_e(C),M=_e(M);var w=Se(C,1),j=Se(M,1);for(M=Se(M,2),C=Se(C,2);!z(M);){var I=j.add(M);I.l(x)<=0&&(w=w.add(C),j=I),M=Se(M,1),C=Se(C,1)}return N=X(x,w.j(N)),new se(w,N)}for(w=S;x.l(N)>=0;){for(C=Math.max(1,Math.floor(x.m()/N.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(C),I=j.j(N);B(I)||I.l(x)>0;)C-=M,j=y(C),I=j.j(N);z(j)&&(j=R),w=w.add(j),x=X(x,I)}return new se(w,x)}s.B=function(x){return ce(this,x).h},s.and=function(x){const N=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)&x.i(M);return new f(C,this.h&x.h)},s.or=function(x){const N=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)|x.i(M);return new f(C,this.h|x.h)},s.xor=function(x){const N=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<N;M++)C[M]=this.i(M)^x.i(M);return new f(C,this.h^x.h)};function _e(x){const N=x.g.length+1,C=[];for(let M=0;M<N;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(C,x.h)}function Se(x,N){const C=N>>5;N%=32;const M=x.g.length-C,w=[];for(let j=0;j<M;j++)w[j]=N>0?x.i(j+C)>>>N|x.i(j+C+1)<<32-N:x.i(j+C);return new f(w,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,k0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,dr=f}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var L0,qo,P0,fh,Hm,U0,z0,B0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(c,v){if(v)e:{var E=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in E))break e;E=E[q]}c=c[c.length-1],A=E[c],v=v(A),v!=A&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});var u=u||{},f=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,E){return c.call.apply(c.bind,arguments)}function y(c,v,E){return y=g,y.apply(null,arguments)}function T(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,v){function E(){}E.prototype=v.prototype,c.Z=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,q,K){for(var oe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)oe[Me-2]=arguments[Me];return v.prototype[q].apply(A,oe)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const v=c.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=c[A];return E}return[]}function z(c,v){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let oe=0;oe<K;oe++)c[E+oe]=q[oe]}else c.push(q)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(c){f.setTimeout(()=>{throw c},0)}function X(){var c=x;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,E){const A=se.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new B(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Se=!1,x=new J,N=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(C)}};function C(){for(var c;c=X();){try{c.h.call(c.g)}catch(E){U(E)}var v=se;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}Se=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ke(c,v){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}S(ke,w),ke.prototype.init=function(c,v){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function ae(c,v,E,A,q){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=q,this.key=++G,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,v,E){for(const A in c)v.call(E,c[A],A,c)}function he(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function D(c){const v={};for(const E in c)v[E]=c[E];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,v){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)c[E]=A[E];for(let K=0;K<W.length;K++)E=W[K],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,v,E,A,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=Oe(c,v,A,q);return oe>-1?(v=c[oe],E||(v.fa=!1)):(v=new ae(v,this.src,K,!!A,q),v.fa=E,c.push(v)),v};function Ne(c,v){const E=v.type;if(E in c.g){var A=c.g[E],q=Array.prototype.indexOf.call(A,v,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&($(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Oe(c,v,E,A){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==v&&K.capture==!!E&&K.ha==A)return q}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),re={};function ue(c,v,E,A,q){if(Array.isArray(v)){for(let K=0;K<v.length;K++)ue(c,v[K],E,A,q);return null}return E=Vl(E),c&&c[pe]?c.J(v,E,p(A)?!!A.capture:!1,q):Ce(c,v,E,!1,A,q)}function Ce(c,v,E,A,q,K){if(!v)throw Error("Invalid event type");const oe=p(q)?!!q.capture:!!q;let Me=zt(c);if(Me||(c[Le]=Me=new de(c)),E=Me.add(v,E,A,oe,K),E.proxy)return E;if(A=Ae(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)j||(q=oe),q===void 0&&(q=!1),c.addEventListener(v.toString(),A,q);else if(c.attachEvent)c.attachEvent(cn(v.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ae(){function c(E){return v.call(c.src,c.listener,E)}const v=vi;return c}function Gt(c,v,E,A,q){if(Array.isArray(v))for(var K=0;K<v.length;K++)Gt(c,v[K],E,A,q);else A=p(A)?!!A.capture:!!A,E=Vl(E),c&&c[pe]?(c=c.i,K=String(v).toString(),K in c.g&&(v=c.g[K],E=Oe(v,E,A,q),E>-1&&($(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete c.g[K],c.h--)))):c&&(c=zt(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Oe(v,E,A,q)),(E=c>-1?v[c]:null)&&pt(E))}function pt(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[pe])Ne(v.i,c);else{var E=c.type,A=c.proxy;v.removeEventListener?v.removeEventListener(E,A,c.capture):v.detachEvent?v.detachEvent(cn(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=zt(v))?(Ne(E,c),E.h==0&&(E.src=null,v[Le]=null)):$(c)}}}function cn(c){return c in re?re[c]:re[c]="on"+c}function vi(c,v){if(c.da)c=!0;else{v=new ke(v,this);const E=c.listener,A=c.ha||c.src;c.fa&&pt(c),c=E.call(A,v)}return c}function zt(c){return c=c[Le],c instanceof de?c:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vl(c){return typeof c=="function"?c:(c[ei]||(c[ei]=function(v){return c.handleEvent(v)}),c[ei])}function At(){M.call(this),this.i=new de(this),this.M=this,this.G=null}S(At,M),At.prototype[pe]=!0,At.prototype.removeEventListener=function(c,v,E,A){Gt(this,c,v,E,A)};function kt(c,v){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=v.type||v,typeof v=="string")v=new w(v,c);else if(v instanceof w)v.target=v.target||c;else{var q=v;v=new w(A,c),le(v,q)}q=!0;let K,oe;if(E)for(oe=E.length-1;oe>=0;oe--)K=v.g=E[oe],q=Rs(K,A,!0,v)&&q;if(K=v.g=c,q=Rs(K,A,!0,v)&&q,q=Rs(K,A,!1,v)&&q,E)for(oe=0;oe<E.length;oe++)K=v.g=E[oe],q=Rs(K,A,!1,v)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const E=c.g[v];for(let A=0;A<E.length;A++)$(E[A]);delete c.g[v],c.h--}}this.G=null},At.prototype.J=function(c,v,E,A){return this.i.add(String(c),v,!1,E,A)},At.prototype.K=function(c,v,E,A){return this.i.add(String(c),v,!0,E,A)};function Rs(c,v,E,A){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let K=0;K<v.length;++K){const oe=v[K];if(oe&&!oe.da&&oe.capture==E){const Me=oe.listener,_t=oe.ha||oe.src;oe.fa&&Ne(c.i,oe),q=Me.call(_t,A)!==!1&&q}}return q&&!A.defaultPrevented}function df(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function Au(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class hn extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(c){M.call(this),this.h=c,this.g={}}S(Cr,M);var jl=[];function kl(c){fe(c.g,function(v,E){this.g.hasOwnProperty(E)&&pt(v)},c),c.g={}}Cr.prototype.N=function(){Cr.Z.N.call(this),kl(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=f.JSON.stringify,mf=f.JSON.parse,wu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function Nu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){w.call(this,"d")}S(Qt,w);function Ln(){w.call(this,"c")}S(Ln,w);var vt={},Cu=null;function va(){return Cu=Cu||new At}vt.Ia="serverreachability";function xu(c){w.call(this,vt.Ia,c)}S(xu,w);function _i(c){const v=va();kt(v,new xu(v))}vt.STAT_EVENT="statevent";function xr(c,v){w.call(this,vt.STAT_EVENT,c),this.stat=v}S(xr,w);function wt(c){const v=va();kt(v,new xr(v,c))}vt.Ja="timingevent";function Ei(c,v){w.call(this,vt.Ja,c),this.size=v}S(Ei,w);function Ti(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function pf(c,v,E,A,q,K){c.info(function(){if(c.g)if(K){var oe="",Me=K.split("&");for(let Xe=0;Xe<Me.length;Xe++){var _t=Me[Xe].split("=");if(_t.length>1){const ht=_t[0];_t=_t[1];const Bn=ht.split("_");oe=Bn.length>=2&&Bn[1]=="type"?oe+(ht+"="+_t+"&"):oe+(ht+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+E+`
`+oe})}function Iu(c,v,E,A,q,K,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+E+`
`+K+" "+oe})}function Si(c,v,E,A){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+gf(c,E)+(A?" "+A:"")})}function Ir(c,v){c.info(function(){return"TIMEOUT: "+v})}ni.prototype.info=function(){};function gf(c,v){if(!c.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Ns(K)}catch{return v}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function Or(){}S(Or,Ru),Or.prototype.g=function(){return new XMLHttpRequest},Pl=new Or;function $i(c){return encodeURIComponent(String(c))}function Du(c){var v=1;c=c.split(":");const E=[];for(;v>0&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function ii(c,v,E,A){this.j=c,this.i=v,this.l=E,this.S=A||1,this.V=new Cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Rt={},Bt={};function bi(c,v,E){c.M=1,c.A=Mr(Ct(v)),c.u=E,c.R=!0,_a(c,null)}function _a(c,v){c.F=Date.now(),Ai(c),c.B=Ct(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ba(E.i,"t",A),c.C=0,E=c.j.L,c.h=new si,c.g=Qu(c.j,E?v:null,!c.u),c.P>0&&(c.O=new hn(y(c.Y,c,c.g),c.P)),v=c.V,E=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(jl[0]=q.toString()),q=jl);for(let K=0;K<q.length;K++){const oe=ue(E,q[K],A||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),_i(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}ii.prototype.ba=function(c){c=c.target;const v=this.O;v&&li(c)==3?v.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Me=li(this.g),_t=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Me!=4||_t==7||(_t==8||Xe<=0?_i(3):_i(2)),wi(this);var v=this.g.ca();this.X=v;var E=yf(this);if(this.o=v==200,Iu(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(c=K)Si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,c);else{this.o=!1,this.m=3,wt(12),bn(this),Pn(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=Mu(this,E),ht==Bt){Me==4&&(this.m=4,wt(14),c=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,wt(15),Si(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Si(this.i,this.l,ht,null),Ri(this,ht);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Si(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zl(oe),oe.P=!0,wt(11))}}else Si(this.i,this.l,E,null),Ri(this,E);Me==4&&bn(this),this.o&&!this.K&&(Me==4?qu(this.j,this):(this.o=!1,Ai(this)))}else Wi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),bn(this),Pn(this)}}}catch{}};function yf(c){if(!Ou(c))return c.g.la();const v=Kt(c.g);if(v==="")return"";let E="";const A=v.length,q=li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),Pn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,E+=c.h.i.decode(v[K],{stream:!(q&&K==A-1)});return v.length=0,c.h.g+=E,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,v){var E=c.C,A=v.indexOf(`
`,E);return A==-1?Bt:(E=Number(v.substring(E,A)),isNaN(E)?Rt:(A+=1,A+E>v.length?Bt:(v=v.slice(A,A+E),c.C=A+E,v)))}ii.prototype.cancel=function(){this.K=!0,bn(this)};function Ai(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ti(y(c.aa,c),v)}function wi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ii.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(_i(),wt(17)),bn(this),this.m=2,Pn(this)):Ea(this,this.T-c)};function Pn(c){c.j.I==0||c.K||qu(c.j,c)}function bn(c){wi(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,kl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Ri(c,v){try{var E=c.j;if(E.I!=0&&(E.g==c||Ci(E.h,c))){if(!c.L&&Ci(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ca(E),js(E);else break e;zr(E),wt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(y(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((c.L||E.g==c)&&Ca(E),!I(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Xe=q[v];const ht=Xe[0];if(!(ht<=E.K))if(E.K=ht,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const Bn=Xe[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const ji=Xe[4];ji!=null&&(E.za=ji,E.j.info("SVER="+E.za));const oi=Xe[5];oi!=null&&typeof oi=="number"&&oi>0&&(A=1.5*oi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ui=c.g;if(ui){const Br=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var K=A.h;K.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bl(K,K.h),K.h=null))}if(A.G){const xa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,Ze(A.J,A.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var oe=c;if(A.na=Gu(A,A.L?A.ba:null,A.W),oe.L){ql(A.h,oe);var Me=oe,_t=A.O;_t&&(Me.H=_t),Me.D&&(wi(Me),Ai(Me)),A.g=oe}else zu(A);E.i.length>0&&Mi(E)}else Xe[0]!="stop"&&Xe[0]!="close"||Vi(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Vi(E,7):Wl(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}_i(4)}catch{}}var Nt=class{constructor(c,v){this.g=c,this.map=v}};function Ul(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ni(c){return c.h?1:c.g?c.g.size:0}function Ci(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Bl(c,v){c.g?c.g.add(v):c.h=v}function ql(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Hl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.G);return v}return L(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,v){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let q,K=null;A>=0?(q=c[E].substring(0,A),K=c[E].substring(A+1)):q=c[E],v(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function An(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof An?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.u),this.h=c.h,Fl(this,Pu(c.i)),this.m=c.m):c&&(v=String(c).match(Vu))?(this.l=!1,qt(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),Cs(this,v[4]),this.h=xi(v[5]||"",!0),Fl(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}An.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Vr(v,Sa,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Vr(v,Sa,!0),"@"),c.push($i(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Vr(E,E.charAt(0)=="/"?Gl:ju,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Vr(E,ku)),c.join("")},An.prototype.resolve=function(c){const v=Ct(this);let E=!!c.j;E?qt(v,c.j):E=!!c.o,E?v.o=c.o:E=!!c.g,E?v.g=c.g:E=c.u!=null;var A=c.h;if(E)Cs(v,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=v.h.lastIndexOf("/");q!=-1&&(A=v.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const Me=q[oe++];Me=="."?A&&oe==q.length&&K.push(""):Me==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==q.length&&K.push("")):(K.push(Me),A=!0)}A=K.join("/")}else A=q}return E?v.h=A:E=c.i.toString()!=="",E?Fl(v,Pu(c.i)):E=!!c.m,E&&(v.m=c.m),v};function Ct(c){return new An(c)}function qt(c,v,E){c.j=E?xi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Fl(c,v,E){v instanceof Is?(c.i=v,Aa(c.i,c.l)):(E||(v=Vr(v,xs)),c.i=new Is(v,c.l))}function Ze(c,v,E){c.i.set(v,E)}function Mr(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vr(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,mn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,ju=/[#\?:]/g,Gl=/[#\?]/g,xs=/[#\?@]/g,ku=/#/g;function Is(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=Is.prototype,s.add=function(c,v){pn(this),this.i=null,c=Ds(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Lu(c,v){pn(c),v=Ds(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Ql(c,v){return pn(c),v=Ds(c,v),c.g.has(v)}s.forEach=function(c,v){pn(this),this.g.forEach(function(E,A){E.forEach(function(q){c.call(v,q,A,this)},this)},this)};function Kl(c,v){pn(c);let E=[];if(typeof v=="string")Ql(c,v)&&(E=E.concat(c.g.get(Ds(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)E=E.concat(c[v]);return E}s.set=function(c,v){return pn(this),this.i=null,c=Ds(this,c),Ql(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},s.get=function(c,v){return c?(c=Kl(this,c),c.length>0?String(c[0]):v):v};function ba(c,v,E){Lu(c,v),E.length>0&&(c.i=null,c.g.set(Ds(c,v),L(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const q=$i(E);E=Kl(this,E);for(let K=0;K<E.length;K++){let oe=q;E[K]!==""&&(oe+="="+$i(E[K])),c.push(oe)}}return this.i=c.join("&")};function Pu(c){const v=new Is;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ds(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Aa(c,v){v&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Lu(this,A),ba(this,q,E))},c)),c.j=v}function ri(c,v){const E=new ni;if(f.Image){const A=new Image;A.onload=T(Un,E,"TestLoadImage: loaded",!0,v,A),A.onerror=T(Un,E,"TestLoadImage: error",!1,v,A),A.onabort=T(Un,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=T(Un,E,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else v(!1)}function Yl(c,v){const E=new ni,A=new AbortController,q=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?Un(E,"TestPingServer: ok",!0,v):Un(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,v)})}function Un(c,v,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Os(){this.g=new wu}function Ii(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ii,Ru),Ii.prototype.g=function(){return new jr(this.i,this.h)};function jr(c,v){At.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(jr,At),s=jr.prototype,s.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ai(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ms(this):ai(this),this.readyState==3&&wa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ms(this))},s.Na=function(c){this.g&&(this.response=c,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ai(c)}s.setRequestHeader=function(c,v){this.A.append(c,v)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let v="";return fe(c,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function kr(c,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=zn(E),typeof c=="string"?E!=null&&$i(E):Ze(c,v,E))}function nt(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(nt,At);var Di=/^https?$/i,$l=["POST","PUT"];s=nt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(K){Lr(this,K);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($l,v,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Lr(this,K)}};function Lr(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Xl(c),Xi(c)}function Xl(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(c){if(c.h&&typeof u<"u"){if(c.v&&li(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),li(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=K===0){let oe=String(c.D).match(Vu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!Di.test(oe?oe.toLowerCase():"")}E=A}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var q=li(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Xl(c)}}finally{Xi(c)}}}}function Xi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,v||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),mf(v)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(c){const v={};c=(c.g&&li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var E=Du(c[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=v[q]||[];v[q]=K,K.push(E)}he(v,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Vs(c){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,c),this.Za=Oi("retryDelaySeedMs",1e4,c),this.Ta=Oi("forwardChannelMaxRetries",2,c),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(c&&c.concurrentRequestLimit),this.Ba=new Os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(c,v,E,A){wt(0),this.W=c,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Gu(this,null,this.W),Mi(this)};function Wl(c){if(Ra(c),c.I==3){var v=c.V++,E=Ct(c.J);if(Ze(E,"SID",c.M),Ze(E,"RID",v),Ze(E,"TYPE","terminate"),Ur(c,E),v=new ii(c,c.j,v),v.M=2,v.A=Mr(Ct(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.A,E=!0),E||(v.g=Qu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}Fu(c)}function js(c){c.g&&(Zl(c),c.g.cancel(),c.g=null)}function Ra(c){js(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Mi(c){if(!zl(c.h)&&!c.m){c.m=!0;var v=c.Ea;_e||N(),Se||(_e(),Se=!0),x.add(v,c),c.D=0}}function Na(c,v){return Ni(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ti(y(c.Ea,c,v),Hu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new ii(this,this.j,c);let K=this.o;if(this.U&&(K?(K=D(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Uu(this,q,v),E=Ct(this.J),Ze(E,"RID",c),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),Ur(this,E),K&&(this.R?v="headers="+$i(zn(K))+"&"+v:this.u&&kr(E,this.u,K)),Bl(this.h,q),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",v),Ze(E,"SID","null"),q.U=!0,bi(q,E,null)):bi(q,E,v),this.I=2}}else this.I==3&&(c?Jl(this,c):this.i.length==0||zl(this.h)||Jl(this))};function Jl(c,v){var E;v?E=v.l:E=c.V++;const A=Ct(c.J);Ze(A,"SID",c.M),Ze(A,"RID",E),Ze(A,"AID",c.K),Ur(c,A),c.u&&c.o&&kr(A,c.u,c.o),E=new ii(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Uu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bl(c.h,E),bi(E,A,v)}function Ur(c,v){c.H&&fe(c.H,function(E,A){Ze(v,A,E)}),c.l&&fe({},function(E,A){Ze(v,A,E)})}function Uu(c,v,E){E=Math.min(c.i.length,E);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Me=-1;for(;;){const _t=["count="+E];Me==-1?E>0?(Me=q[0].g,_t.push("ofs="+Me)):Me=0:_t.push("ofs="+Me);let Xe=!0;for(let ht=0;ht<E;ht++){var K=q[ht].g;const Bn=q[ht].map;if(K-=Me,K<0)Me=Math.max(0,q[ht].g-100),Xe=!1;else try{K="req"+K+"_"||"";try{var oe=Bn instanceof Map?Bn:Object.entries(Bn);for(const[ji,oi]of oe){let ui=oi;p(oi)&&(ui=Ns(oi)),_t.push(K+ji+"="+encodeURIComponent(ui))}}catch(ji){throw _t.push(K+"type="+encodeURIComponent("_badmap")),ji}}catch{A&&A(Bn)}}if(Xe){oe=_t.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),v.G=c,oe}function zu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;_e||N(),Se||(_e(),Se=!0),x.add(v,c),c.A=0}}function zr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ti(y(c.Da,c),Hu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ti(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),js(this),Bu(this))};function Zl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new ii(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Ct(c.na);Ze(v,"RID","rpc"),Ze(v,"SID",c.M),Ze(v,"AID",c.K),Ze(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(v,"TO",c.ia),Ze(v,"TYPE","xmlhttp"),Ur(c,v),c.u&&c.o&&kr(v,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Mr(Ct(v)),E.u=null,E.R=!0,_a(E,c)}s.Va=function(){this.C!=null&&(this.C=null,js(this),zr(this),wt(19))};function Ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,v){var E=null;if(c.g==v){Ca(c),Zl(c),c.g=null;var A=2}else if(Ci(c.h,v))E=v.G,ql(c.h,v),A=1;else return;if(c.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=c.D;A=va(),kt(A,new Ei(A,E)),Mi(c)}else zu(c);else if(q=v.m,q==3||q==0&&v.X>0||!(A==1&&Na(c,v)||A==2&&zr(c)))switch(E&&E.length>0&&(v=c.h,v.i=v.i.concat(E)),q){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Hu(c,v){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*v}function Vi(c,v){if(c.j.info("Error code "+v),v==2){var E=y(c.bb,c),A=c.Ua;const q=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qt(A,"https"),Mr(A),q?ri(A.toString(),E):Yl(A.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(v),Fu(c),Ra(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const v=Hl(c.h);(v.length!=0||c.i.length!=0)&&(z(c.ja,v),z(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Gu(c,v,E){var A=E instanceof An?Ct(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),Cs(A,A.u);else{var q=f.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const K=new An(null);A&&qt(K,A),v&&(K.g=v),q&&Cs(K,q),E&&(K.h=E),A=K}return E=c.G,v=c.wa,E&&v&&Ze(A,E,v),Ze(A,"VER",c.ka),Ur(c,A),A}function Qu(c,v,E){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new nt(new Ii({ab:E})):new nt(c.ma),v.Fa(c.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}s=Ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(c,v){return new fn(c,v)};function fn(c,v){At.call(this),this.g=new Vs(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!I(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ji(this)}S(fn,At),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wl(this.g)},fn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Ns(c),c=E);v.i.push(new Nt(v.Ya++,c)),v.I==3&&Mi(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,fn.Z.N.call(this)};function Yu(c){Qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}S(Yu,Qt);function $u(){Ln.call(this),this.status=1}S($u,Ln);function Ji(c){this.g=c}S(Ji,Ku),Ji.prototype.ra=function(){kt(this.g,"a")},Ji.prototype.qa=function(c){kt(this.g,new Yu(c))},Ji.prototype.pa=function(c){kt(this.g,new $u)},Ji.prototype.oa=function(){kt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,B0=function(){return new ks},z0=function(){return va()},U0=vt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,fh=Dr,Ll.COMPLETE="complete",P0=Ll,Nu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",At.prototype.listen=At.prototype.J,qo=Nu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,L0=nt}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",bE="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let xl="12.7.0";const fa=new gp("@firebase/firestore");function al(){return fa.logLevel}function ge(s,...e){if(fa.logLevel<=qe.DEBUG){const n=e.map(xp);fa.debug(`Firestore (${xl}): ${s}`,...n)}}function Ss(s,...e){if(fa.logLevel<=qe.ERROR){const n=e.map(xp);fa.error(`Firestore (${xl}): ${s}`,...n)}}function yl(s,...e){if(fa.logLevel<=qe.WARN){const n=e.map(xp);fa.warn(`Firestore (${xl}): ${s}`,...n)}}function xp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Re(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,q0(s,r,n)}function q0(s,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ss(r),new Error(r)}function Je(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||q0(e,l,r)}function De(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class H0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jx{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new H0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class kx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Px{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ux(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Ux(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function Fm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Nm(l)===Nm(u)?He(l,u):Nm(l)?1:-1}return He(s.length,e.length)}const zx=55296,Bx=57343;function Nm(s){const e=s.charCodeAt(0);return e>=zx&&e<=Bx}function vl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const wE="__name__";class Bi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Bi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const r=Bi.isNumericId(e),l=Bi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class lt extends Bi{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Bi{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new nn([wE])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(r+=p,l++):(u(),l++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}function F0(s,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Hx(s,e,n,r){if(e===!0&&r===!0)throw new me(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function RE(s){if(!Te.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NE(s){if(Te.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function G0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Gh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function pi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(s);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function jt(s,e){const n={typeString:s};return e&&(n.value=e),n}function yu(s,e){if(!G0(s))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new me(ne.INVALID_ARGUMENT,n);return!0}const CE=-62135596800,xE=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xE);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:jt("string",ct._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ct(0,0))}static max(){return new xe(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function Fx(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new pr(l,Te.empty(),e)}function Gx(s){return new pr(s.readTime,s.key,tu)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(xe.min(),Te.empty(),tu)}static max(){return new pr(xe.max(),Te.empty(),tu)}}function Qx(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==Kx)throw s;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>r(g)))})),f=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((l=>l?ie.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{f[y]=T,++p,p===u&&r(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new ie(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function $x(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(s){return s.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Dp=-1;function Kh(s){return s==null}function Nh(s){return s===0&&1/s==-1/0}function Xx(s){return typeof s=="number"&&Number.isInteger(s)&&!Nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Q0="";function Wx(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=IE(e)),e=Jx(s.get(n),e);return IE(e)}function Jx(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case Q0:n+="";break;default:n+=u}}return n}function IE(s){return s+Q0+""}function DE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function wr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function K0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=l??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Zt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Zt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Pt(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Y0("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const n=Zx.exec(s);if(Je(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const $0="server_timestamp",X0="__type__",W0="__previous_value__",J0="__local_write_time__";function Op(s){return(s?.mapValue?.fields||{})[X0]?.stringValue===$0}function Yh(s){const e=s.mapValue.fields[W0];return Op(e)?Yh(e):e}function nu(s){const e=gr(s.mapValue.fields[J0].timestampValue);return new ct(e.seconds,e.nanos)}class eI{constructor(e,n,r,l,u,f,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Ch="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const Z0="__type__",tI="__max__",ih={mapValue:{}},eS="__vector__",xh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Op(s)?4:iI(s)?9007199254740991:nI(s)?10:11:Re(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const n=vr(s);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return nu(s).isEqual(nu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=gr(l.timestampValue),p=gr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return yr(l.bytesValue).isEqual(yr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return St(l.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return St(l.integerValue)===St(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=St(l.doubleValue),p=St(u.doubleValue);return f===p?Nh(f)===Nh(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return vl(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(DE(f)!==DE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Yi(f[g],p[g])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function su(s,e){return(s.values||[]).find((n=>Yi(n,e)))!==void 0}function _l(s,e){if(s===e)return 0;const n=vr(s),r=vr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=St(u.integerValue||u.doubleValue),g=St(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return ME(s.timestampValue,e.timestampValue);case 4:return ME(nu(s),nu(e));case 5:return Fm(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=yr(u),g=yr(f);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=He(p[y],g[y]);if(T!==0)return T}return He(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=He(St(u.latitude),St(f.latitude));return p!==0?p:He(St(u.longitude),St(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return VE(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[xh]?.arrayValue,T=g[xh]?.arrayValue,S=He(y?.values?.length||0,T?.values?.length||0);return S!==0?S:VE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const R=Fm(g[S],T[S]);if(R!==0)return R;const L=_l(p[g[S]],y[T[S]]);if(L!==0)return L}return He(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function ME(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=gr(s),r=gr(e),l=He(n.seconds,r.seconds);return l!==0?l:He(n.nanos,r.nanos)}function VE(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=_l(n[l],r[l]);if(u)return u}return He(n.length,r.length)}function El(s){return Gm(s)}function Gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return yr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Te.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Gm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Gm(n.fields[f])}`;return l+"}"})(s.mapValue):Re(61005,{value:s})}function dh(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(s);return e?16+dh(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+dh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return wr(r.fields,((u,f)=>{l+=u.length+dh(f)})),l})(s.mapValue);default:throw Re(13486,{value:s})}}function jE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Qm(s){return!!s&&"integerValue"in s}function Mp(s){return!!s&&"arrayValue"in s}function kE(s){return!!s&&"nullValue"in s}function LE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function mh(s){return!!s&&"mapValue"in s}function nI(s){return(s?.mapValue?.fields||{})[Z0]?.stringValue===eS}function Yo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(s.arrayValue.values[n]);return e}return{...s}}function iI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tI}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=nn.emptyPath(),r={},l=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}f?r[p.lastSegment()]=Yo(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){wr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Sn(Yo(this.value))}}function tS(s){const e=[];return wr(s.fields,((n,r)=>{const l=new nn([n]);if(mh(r)){const u=tS(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new jn(e)}class on{constructor(e,n,r,l,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new on(e,0,xe.min(),xe.min(),xe.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,l){return new on(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new on(e,2,n,xe.min(),xe.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,xe.min(),xe.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function PE(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(f.referenceValue),n.key):r=_l(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function UE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Yi(s.position[n],e.position[n]))return!1;return!0}class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function sI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class nS{}class Vt extends nS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aI(e,n,r):n==="array-contains"?new uI(e,r):n==="in"?new cI(e,r):n==="not-in"?new hI(e,r):n==="array-contains-any"?new fI(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lI(e,r):new oI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends nS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gi(e,n)}matches(e){return iS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iS(s){return s.op==="and"}function sS(s){return rI(s)&&iS(s)}function rI(s){for(const e of s.filters)if(e instanceof gi)return!1;return!0}function Km(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+El(s.value);if(sS(s))return s.filters.map((e=>Km(e))).join(",");{const e=s.filters.map((n=>Km(n))).join(",");return`${s.op}(${e})`}}function rS(s,e){return s instanceof Vt?(function(r,l){return l instanceof Vt&&r.op===l.op&&r.field.isEqual(l.field)&&Yi(r.value,l.value)})(s,e):s instanceof gi?(function(r,l){return l instanceof gi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,p)=>u&&rS(f,l.filters[p])),!0):!1})(s,e):void Re(19439)}function aS(s){return s instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(s):s instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(aS).join(" ,")+"}"})(s):"Filter"}class aI extends Vt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class lI extends Vt{constructor(e,n){super(e,"in",n),this.keys=lS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oI extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=lS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lS(s,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class uI extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&su(n.arrayValue,this.value)}}class cI extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class hI extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class fI extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>su(this.value.arrayValue,r)))}}class dI{constructor(e,n=null,r=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function zE(s,e=null,n=[],r=[],l=null,u=null,f=null){return new dI(s,e,n,r,l,u,f)}function Vp(s){const e=De(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Km(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>El(r))).join(",")),e.Te=n}return e.Te}function jp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!sI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!rS(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!UE(s.startAt,e.startAt)&&UE(s.endAt,e.endAt)}function Ym(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vu{constructor(e,n=null,r=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mI(s,e,n,r,l,u,f,p){return new vu(s,e,n,r,l,u,f,p)}function kp(s){return new vu(s)}function BE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function oS(s){return s.collectionGroup!==null}function $o(s){const e=De(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Pt(nn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Dh(u,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Dh(nn.keyField(),r))}return e.Ie}function Fi(s){const e=De(s);return e.Ee||(e.Ee=pI(e,$o(s))),e.Ee}function pI(s,e){if(s.limitType==="F")return zE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Dh(l.field,u)}));const n=s.endAt?new Ih(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ih(s.startAt.position,s.startAt.inclusive):null;return zE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function $m(s,e){const n=s.filters.concat([e]);return new vu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Xm(s,e,n){return new vu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function $h(s,e){return jp(Fi(s),Fi(e))&&s.limitType===e.limitType}function uS(s){return`${Vp(Fi(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>aS(l))).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>El(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>El(l))).join(",")),`Target(${r})`})(Fi(s))}; limitType=${s.limitType})`}function Xh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of $o(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,p,g){const y=PE(f,p,g);return f.inclusive?y<=0:y<0})(r.startAt,$o(r),l)||r.endAt&&!(function(f,p,g){const y=PE(f,p,g);return f.inclusive?y>=0:y>0})(r.endAt,$o(r),l))})(s,e)}function gI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cS(s){return(e,n)=>{let r=!1;for(const l of $o(s)){const u=yI(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function yI(s,e,n){const r=s.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?_l(g,y):Re(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}const vI=new mt(Te.comparator);function bs(){return vI}const hS=new mt(Te.comparator);function Ho(...s){let e=hS;for(const n of s)e=e.insert(n.key,n);return e}function fS(s){let e=hS;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ra(){return Xo()}function dS(){return Xo()}function Xo(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const _I=new mt(Te.comparator),EI=new Pt(Te.comparator);function Fe(...s){let e=EI;for(const n of s)e=e.add(n);return e}const TI=new Pt(He);function SI(){return TI}function Lp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function mS(s){return{integerValue:""+s}}function bI(s,e){return Xx(e)?mS(e):Lp(s,e)}class Wh{constructor(){this._=void 0}}function AI(s,e,n){return s instanceof ru?(function(l,u){const f={fields:{[X0]:{stringValue:$0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Op(u)&&(u=Yh(u)),u&&(f.fields[W0]=u),{mapValue:f}})(n,e):s instanceof au?gS(s,e):s instanceof lu?yS(s,e):(function(l,u){const f=pS(l,u),p=qE(f)+qE(l.Ae);return Qm(f)&&Qm(l.Ae)?mS(p):Lp(l.serializer,p)})(s,e)}function wI(s,e,n){return s instanceof au?gS(s,e):s instanceof lu?yS(s,e):n}function pS(s,e){return s instanceof Oh?(function(r){return Qm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ru extends Wh{}class au extends Wh{constructor(e){super(),this.elements=e}}function gS(s,e){const n=vS(e);for(const r of s.elements)n.some((l=>Yi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class lu extends Wh{constructor(e){super(),this.elements=e}}function yS(s,e){let n=vS(e);for(const r of s.elements)n=n.filter((l=>!Yi(l,r)));return{arrayValue:{values:n}}}class Oh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qE(s){return St(s.integerValue||s.doubleValue)}function vS(s){return Mp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class RI{constructor(e,n){this.field=e,this.transform=n}}function NI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof au&&l instanceof au||r instanceof lu&&l instanceof lu?vl(r.elements,l.elements,Yi):r instanceof Oh&&l instanceof Oh?Yi(r.Ae,l.Ae):r instanceof ru&&l instanceof ru})(s.transform,e.transform)}class CI{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Jh{}function _S(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Pp(s.key,Wn.none()):new _u(s.key,s.data,Wn.none());{const n=s.data,r=Sn.empty();let l=new Pt(nn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Rr(s.key,r,new jn(l.toArray()),Wn.none())}}function xI(s,e,n){s instanceof _u?(function(l,u,f){const p=l.value.clone(),g=FE(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Rr?(function(l,u,f){if(!ph(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=FE(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(ES(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wo(s,e,n,r){return s instanceof _u?(function(u,f,p,g){if(!ph(u.precondition,f))return p;const y=u.value.clone(),T=GE(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Rr?(function(u,f,p,g){if(!ph(u.precondition,f))return p;const y=GE(u.fieldTransforms,g,f),T=f.data;return T.setAll(ES(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,p){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function II(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=pS(r.transform,l||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,u))}return n||null}function HE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&vl(r,l,((u,f)=>NI(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class _u extends Jh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Jh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ES(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function FE(s,e,n){const r=new Map;Je(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,p=e.data.field(u.field);r.set(u.field,wI(f,p,n[l]))}return r}function GE(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,AI(u,f,e))}return r}class Pp extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DI extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&xI(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dS();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=_S(f,p);g!==null&&r.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((n,r)=>HE(n,r)))&&vl(this.baseMutations,e.baseMutations,((n,r)=>HE(n,r)))}}class Up{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return _I})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Up(e,n,r,l)}}class MI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,Qe;function jI(s){switch(s){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function TS(s){if(s===void 0)return Ss("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:s})}}(Qe=Mt||(Mt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const LI=new dr([4294967295,4294967295],0);function QE(s){const e=kI().encode(s),n=new k0;return n.update(e),new Uint8Array(n.digest())}function KE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new dr([n,r],0),new dr([l,u],0)]}class zp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fo(`Invalid padding: ${n}`);if(r<0)throw new Fo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=dr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(dr.fromNumber(r)));return l.compare(LI)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QE(e),[r,l]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,l,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=QE(e),[r,l]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zh(xe.min(),l,new mt(He),bs(),Fe())}}class Eu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Fe(),Fe(),Fe())}}class gh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class SS{constructor(e,n){this.targetId=e,this.Ce=n}}class bS{constructor(e,n,r=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class YE{constructor(){this.ve=0,this.Fe=$E(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Re(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$E()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PI{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=sh(),this.He=sh(),this.Ye=new mt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Ym(u))if(r===0){const f=new Te(u.path);this.et(n,f,on.newNoDocument(f,xe.min()))}else Je(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=yr(r).toUint8Array()}catch(g){if(g instanceof Y0)return yl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new zp(f,l,u)}catch(g){return yl(g instanceof Fo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Ym(p.target)){const g=new Te(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,on.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Fe();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Zh(e,n,this.Ye,this.je,r);return this.je=bs(),this.Je=sh(),this.He=sh(),this.Ye=new mt(He),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new mt(Te.comparator)}function $E(){return new mt(Te.comparator)}const UI={asc:"ASCENDING",desc:"DESCENDING"},zI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BI={and:"AND",or:"OR"};class qI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||Kh(e)?e:{value:e}}function Mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function HI(s,e){return Mh(s,e.toTimestamp())}function Gi(s){return Je(!!s,49232),xe.fromTimestamp((function(n){const r=gr(n);return new ct(r.seconds,r.nanos)})(s))}function Bp(s,e){return Jm(s,e).canonicalString()}function Jm(s,e){const n=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function wS(s){const e=lt.fromString(s);return Je(IS(e),10190,{key:e.toString()}),e}function Zm(s,e){return Bp(s.databaseId,e.path)}function Cm(s,e){const n=wS(e);if(n.get(1)!==s.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Te(NS(n))}function RS(s,e){return Bp(s.databaseId,e)}function FI(s){const e=wS(s);return e.length===4?lt.emptyPath():NS(e)}function ep(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function NS(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function XE(s,e,n){return{name:Zm(s,e),fields:n.value.mapValue.fields}}function GI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Je(T===void 0||typeof T=="string",58123),sn.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),sn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?ne.UNKNOWN:TS(y.code);return new me(T,y.message||"")})(f);n=new bS(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Cm(s,r.document.name),u=Gi(r.document.updateTime),f=r.document.createTime?Gi(r.document.createTime):xe.min(),p=new Sn({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(l,u,f,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new gh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Cm(s,r.document),u=r.readTime?Gi(r.readTime):xe.min(),f=on.newNoDocument(l,u),p=r.removedTargetIds||[];n=new gh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Cm(s,r.document),u=r.removedTargetIds||[];n=new gh([],u,l,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new VI(l,u),p=r.targetId;n=new SS(p,f)}}return n}function QI(s,e){let n;if(e instanceof _u)n={update:XE(s,e.key,e.value)};else if(e instanceof Pp)n={delete:Zm(s,e.key)};else if(e instanceof Rr)n={update:XE(s,e.key,e.data),updateMask:t2(e.fieldMask)};else{if(!(e instanceof DI))return Re(16599,{Vt:e.type});n={verify:Zm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Re(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:HI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(s,e.precondition)),n}function KI(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Gi(l.updateTime):Gi(u);return f.isEqual(xe.min())&&(f=Gi(u)),new CI(f,l.transformResults||[])})(n,e)))):[]}function YI(s,e){return{documents:[RS(s,e.path)]}}function $I(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RS(s,l);const u=(function(y){if(y.length!==0)return xS(gi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:ol(R.field),direction:JI(R.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Wm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function XI(s){let e=FI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Je(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const R=CS(S);return R instanceof gi&&sS(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(z){return new Dh(ul(z.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,Kh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,L=S.values||[];return new Ih(L,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,L=S.values||[];return new Ih(L,R)})(n.endAt)),mI(e,l,f,u,p,"F",g,y)}function WI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CS(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ul(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ul(n.unaryFilter.field);return Vt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ul(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ul(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Vt.create(ul(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((r=>CS(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(s):Re(30097,{filter:s})}function JI(s){return UI[s]}function ZI(s){return zI[s]}function e2(s){return BI[s]}function ol(s){return{fieldPath:s.canonicalString()}}function ul(s){return nn.fromServerFormat(s.fieldPath)}function xS(s){return s instanceof Vt?(function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:ZI(n.op),value:n.value}}})(s):s instanceof gi?(function(n){const r=n.getFilters().map((l=>xS(l)));return r.length===1?r[0]:{compositeFilter:{op:e2(n.op),filters:r}}})(s):Re(54877,{filter:s})}function t2(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,n,r,l,u=xe.min(),f=xe.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class n2{constructor(e){this.yt=e}}function i2(s){const e=XI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xm(e,e.limit,"L"):e}class s2{constructor(){this.Cn=new r2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(pr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class r2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Pt(lt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Pt(lt.comparator)).toArray()}}const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(DS,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const JE="LruGarbageCollector",a2=1048576;function ZE([s,e],[n,r]){const l=He(s,n);return l===0?He(e,r):l}class l2{constructor(e){this.Ir=e,this.buffer=new Pt(ZE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(JE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?ge(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Vr(3e5)}))}}class u2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Qh.ce);const r=new l2(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(WE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,f,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),al()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function c2(s,e){return new u2(s,e)}class h2{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class f2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class d2{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Wo(r.mutation,l,jn.empty(),ct.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=ra();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=Ho();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,l){let u=bs();const f=Xo(),p=(function(){return Xo()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Rr)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Wo(T.mutation,y,T.mutation.getFieldMask(),ct.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new f2(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Xo();let l=new mt(((f,p)=>f-p)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||jn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(l.get(p.batchId)||Fe()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=dS();T.forEach((R=>{if(!u.has(R)){const L=_S(n.get(R),r.get(R));L!==null&&S.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ie.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):ie.resolve(ra());let p=tu,g=u;return f.next((y=>ie.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Fe()))).next((T=>({batchId:p,changes:fS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let l=Ho();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=Ho();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(g=>{const y=(function(S,R){return new vu(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,on.newInvalidDocument(T)))}));let p=Ho();return f.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&Wo(T.mutation,y,jn.empty(),ct.now()),Xh(n,y)&&(p=p.insert(g,y))})),p}))}}class m2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Gi(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:i2(l.bundledQuery),readTime:Gi(l.readTime)}})(n)),ie.resolve()}}class p2{constructor(){this.overlays=new mt(Te.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const l=ra(),u=n.length+1,f=new Te(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new mt(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=ra(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=ra(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return ie.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new MI(n,r));let u=this.qr.get(n);u===void 0&&(u=Fe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class g2{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class qp{constructor(){this.Qr=new Pt(Ft.$r),this.Ur=new Pt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Te(new lt([])),r=new Ft(n,e),l=new Ft(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new lt([])),r=new Ft(n,e),l=new Ft(n,e+1);let u=Fe();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class y2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ft.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OI(u,n,r,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(He);return n.forEach((l=>{const u=new Ft(l,0),f=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const f=new Ft(new Te(u),0);let p=new Pt(He);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),f),ie.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(l=>{const u=new Ft(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ft(n,0),l=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class v2{constructor(e){this.ri=e,this.docs=(function(){return new mt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=bs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():on.newInvalidDocument(l))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=bs();const f=n.path,p=new Te(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Qx(Gx(T),r)<=0||(l.has(T.key)||Xh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,r,l){Re(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _2(this)}getSize(e){return ie.resolve(this.size)}}class _2 extends h2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class E2{constructor(e){this.persistence=e,this.si=new pa((n=>Vp(n)),jp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new qp,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class OS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new g2,this.referenceDelegate=e(this),this.Pi=new E2(this),this.indexManager=new s2,this.remoteDocumentCache=(function(l){return new v2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new n2(n),this.Ii=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new y2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const l=new T2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class T2 extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Ri=new qp,this.Vi=null}static mi(e){return new Hp(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const l=Te.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.pi=new pa((r=>Wx(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=c2(this,n)}static mi(e,n){return new Vh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((p=>{p||(r++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ie.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Fe(),l=Fe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Fp(e,n.fromCache,r,l)}}class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class b2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jw()?8:$x(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new S2;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(al()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(al()<=qe.DEBUG&&ge("QueryEngine","Query:",ll(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(al()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):ie.resolve())}ys(e,n){if(BE(n))return ie.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Xm(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Fe(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,Xm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return BE(n)||l.isEqual(xe.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,l)?ie.resolve(null):(al()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(n)),this.vs(e,f,n,Fx(l,tu)).next((p=>p)))}))}Ds(e,n){let r=new Pt(cS(e));return n.forEach(((l,u)=>{Xh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return al()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",ll(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Gp="LocalStore",A2=3e8;class w2{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new mt(He),this.xs=new pa((u=>Vp(u)),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function R2(s,e,n,r){return new w2(s,e,n,r)}async function MS(s,e){const n=De(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Fe();for(const y of l){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function N2(s,e){const n=De(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,R=S.keys();let L=ie.resolve();return R.forEach((z=>{L=L.next((()=>T.getEntry(g,z))).next((B=>{const U=y.docVersions.get(z);Je(U!==null,48541),B.version.compareTo(U)<0&&(S.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),T.addEntry(B)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Fe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function VS(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function C2(s,e){const n=De(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const R=l.get(S);if(!R)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),l=l.insert(S,L),(function(B,U,X){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=A2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(R,L,T)&&p.push(n.Pi.updateTargetData(u,L))}));let g=bs(),y=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(x2(u,f,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(xe.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return ie.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function x2(s,e,n){let r=Fe(),l=Fe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=bs();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ge(Gp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function I2(s,e){const n=De(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function D2(s,e){const n=De(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,ie.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new ur(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function tp(s,e,n){const r=De(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Dl(f))throw f;ge(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function eT(s,e,n){const r=De(s);let l=xe.min(),u=Fe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const S=De(g),R=S.xs.get(T);return R!==void 0?ie.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,T)})(r,f,Fi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?l:xe.min(),n?u:Fe()))).next((p=>(O2(r,gI(e),p),{documents:p,Qs:u})))))}function O2(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class tT{constructor(){this.activeTargetIds=SI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(){this.Mo=new tT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class V2{Oo(e){}shutdown(){}}const nT="ConnectivityMonitor";class iT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(nT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function np(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const xm="RestConnection",j2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const f=np(),p=this.zo(e,n.toUriEncodedString());ge(xm,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),T=Rl(y);return this.Jo(e,p,g,r,T).then((S=>(ge(xm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw yl(xm,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,n,r,l,u,f){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=j2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class L2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class P2 extends k2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const f=np();return new Promise(((p,g)=>{const y=new L0;y.setWithCredentials(!0),y.listenOnce(P0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case fh.NO_ERROR:const S=y.getResponseJson();ge(an,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case fh.TIMEOUT:ge(an,`RPC '${e}' ${f} timed out`),g(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const R=y.getStatus();if(ge(an,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L?.error;if(z&&z.status&&z.message){const B=(function(X){const J=X.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(J)>=0?J:ne.UNKNOWN})(z.status);g(new me(B,z.message))}else g(new me(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(an,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);ge(an,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=B0(),p=z0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=u.join("");ge(an,`Creating RPC '${e}' stream ${l}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let R=!1,L=!1;const z=new L2({Yo:U=>{L?ge(an,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(R||(ge(an,`Opening RPC '${e}' stream ${l} transport.`),S.open(),R=!0),ge(an,`RPC '${e}' stream ${l} sending:`,U),S.send(U))},Zo:()=>S.close()}),B=(U,X,J)=>{U.listen(X,(se=>{try{J(se)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return B(S,qo.EventType.OPEN,(()=>{L||(ge(an,`RPC '${e}' stream ${l} transport opened.`),z.o_())})),B(S,qo.EventType.CLOSE,(()=>{L||(L=!0,ge(an,`RPC '${e}' stream ${l} transport closed`),z.a_(),this.E_(S))})),B(S,qo.EventType.ERROR,(U=>{L||(L=!0,yl(an,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),z.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),B(S,qo.EventType.MESSAGE,(U=>{if(!L){const X=U.data[0];Je(!!X,16349);const J=X,se=J?.error||J[0]?.error;if(se){ge(an,`RPC '${e}' stream ${l} received error:`,se);const ce=se.status;let _e=(function(N){const C=Mt[N];if(C!==void 0)return TS(C)})(ce),Se=se.message;_e===void 0&&(_e=ne.INTERNAL,Se="Unknown error status: "+ce+" with message "+se.message),L=!0,z.a_(new me(_e,Se)),S.close()}else ge(an,`RPC '${e}' stream ${l} received:`,X),z.u_(X)}})),B(p,U0.STAT_EVENT,(U=>{U.stat===Hm.PROXY?ge(an,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===Hm.NOPROXY&&ge(an,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}function ef(s){return new qI(s,!0)}class jS{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sT="PersistentStream";class kS{constructor(e,n,r,l,u,f,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new me(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(sT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U2 extends kS{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GI(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Gi(f.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Ym(g)?{documents:YI(u,g)}:{query:$I(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=AS(u,f.resumeToken);const y=Wm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(xe.min())>0){p.readTime=Mh(u,f.snapshotVersion.toTimestamp());const y=Wm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=WI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.q_(n)}}class z2 extends kS{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KI(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ep(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>QI(this.serializer,r)))};this.q_(n)}}class B2{}class q2 extends B2{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Jm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Jm(n,r),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class H2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class F2{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ga(this)&&(ge(da,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await Tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await tf(y)})(this))}))})),this.Ra=new H2(r,l)}}async function tf(s){if(ga(s))for(const e of s.da)await e(!0)}async function Tu(s){for(const e of s.da)await e(!1)}function LS(s,e){const n=De(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Yp(n):Ol(n).O_()&&Kp(n,e))}function Qp(s,e){const n=De(s),r=Ol(n);n.Ia.delete(e),r.O_()&&PS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ga(n)&&n.Ra.set("Unknown"))}function Kp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(s).Y_(e)}function PS(s,e){s.Va.Ue(e),Ol(s).Z_(e)}function Yp(s){s.Va=new PI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ol(s).start(),s.Ra.ua()}function $p(s){return ga(s)&&!Ol(s).x_()&&s.Ia.size>0}function ga(s){return De(s).Ea.size===0}function US(s){s.Va=void 0}async function G2(s){s.Ra.set("Online")}async function Q2(s){s.Ia.forEach(((e,n)=>{Kp(s,e)}))}async function K2(s,e){US(s),$p(s)?(s.Ra.ha(e),Yp(s)):s.Ra.set("Unknown")}async function Y2(s,e,n){if(s.Ra.set("Online"),e instanceof bS&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ge(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(s,r)}else if(e instanceof gh?s.Va.Ze(e):e instanceof SS?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await VS(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(sn.EMPTY_BYTE_STRING,T.snapshotVersion)),PS(u,g);const S=new ur(T.target,g,y,T.sequenceNumber);Kp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){ge(da,"Failed to raise snapshot:",r),await jh(s,r)}}async function jh(s,e,n){if(!Dl(e))throw e;s.Ea.add(1),await Tu(s),s.Ra.set("Offline"),n||(n=()=>VS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ge(da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await tf(s)}))}function zS(s,e){return e().catch((n=>jh(s,n,e)))}async function nf(s){const e=De(s),n=_r(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;$2(e);)try{const l=await I2(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,X2(e,l)}catch(l){await jh(e,l)}BS(e)&&qS(e)}function $2(s){return ga(s)&&s.Ta.length<10}function X2(s,e){s.Ta.push(e);const n=_r(s);n.O_()&&n.X_&&n.ea(e.mutations)}function BS(s){return ga(s)&&!_r(s).x_()&&s.Ta.length>0}function qS(s){_r(s).start()}async function W2(s){_r(s).ra()}async function J2(s){const e=_r(s);for(const n of s.Ta)e.ea(n.mutations)}async function Z2(s,e,n){const r=s.Ta.shift(),l=Up.from(r,e,n);await zS(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await nf(s)}async function eD(s,e){e&&_r(s).X_&&await(async function(r,l){if((function(f){return jI(f)&&f!==ne.ABORTED})(l.code)){const u=r.Ta.shift();_r(r).B_(),await zS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await nf(r)}})(s,e),BS(s)&&qS(s)}async function rT(s,e){const n=De(s);n.asyncQueue.verifyOperationInProgress(),ge(da,"RemoteStore received new credentials");const r=ga(n);n.Ea.add(3),await Tu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function tD(s,e){const n=De(s);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Ol(s){return s.ma||(s.ma=(function(n,r,l){const u=De(n);return u.sa(),new U2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:G2.bind(null,s),t_:Q2.bind(null,s),r_:K2.bind(null,s),H_:Y2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),$p(s)?Yp(s):s.Ra.set("Unknown")):(await s.ma.stop(),US(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(n,r,l){const u=De(n);return u.sa(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:W2.bind(null,s),r_:eD.bind(null,s),ta:J2.bind(null,s),na:Z2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await nf(s)):(await s.fa.stop(),s.Ta.length>0&&(ge(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Xp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,p=new Xp(e,n,f,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(s,e){if(Ss("AsyncQueue",`${e}: ${s}`),Dl(s))return new me(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class aT{constructor(){this.ga=new mt(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sl{constructor(e,n,r,l,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Sl(e,n,dl.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class nD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iD{constructor(){this.queries=lT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=De(n),u=l.queries;l.queries=lT(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function lT(){return new pa((s=>uS(s)),$h)}async function HS(s,e){const n=De(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new nD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=Wp(f,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Jp(n)}async function FS(s,e){const n=De(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sD(s,e){const n=De(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(r=!0);f.wa=l}}r&&Jp(n)}function rD(s,e,n){const r=De(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function Jp(s){s.Ca.forEach((e=>{e.next()}))}var ip,oT;(oT=ip||(ip={})).Ma="default",oT.Cache="cache";class GS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class QS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class aD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=cS(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new aT,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const R=l.get(T),L=Xh(this.query,S)?S:null,z=!!R&&this.mutatedKeys.has(R.key),B=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let U=!1;R&&L?R.data.isEqual(L.data)?z!==B&&(r.track({type:3,doc:L}),U=!0):this.su(R,L)||(r.track({type:2,doc:L}),U=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!R&&L?(r.track({type:0,doc:L}),U=!0):R&&!L&&(r.track({type:1,doc:R}),U=!0,(g||y)&&(p=!0)),U&&(L?(f=f.add(L),u=B?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(L,z){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:U})}};return B(L)-B(z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Sl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new KS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class lD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oD{constructor(e){this.key=e,this.hu=!1}}class uD{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new pa((p=>uS(p)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Te.comparator),this.Au=new Map,this.Ru=new qp,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cD(s,e,n=!0){const r=ZS(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await YS(r,e,n,!0),l}async function hD(s,e){const n=ZS(s);await YS(n,e,!0,!1)}async function YS(s,e,n,r){const l=await D2(s.localStore,Fi(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await fD(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&LS(s.remoteStore,l),p}async function fD(s,e,n,r,l){s.pu=(S,R,L)=>(async function(B,U,X,J){let se=U.view.ru(X);se.Cs&&(se=await eT(B.localStore,U.query,!1).then((({documents:x})=>U.view.ru(x,se))));const ce=J&&J.targetChanges.get(U.targetId),_e=J&&J.targetMismatches.get(U.targetId)!=null,Se=U.view.applyChanges(se,B.isPrimaryClient,ce,_e);return cT(B,U.targetId,Se.au),Se.snapshot})(s,S,R,L);const u=await eT(s.localStore,e,!0),f=new aD(e,u.Qs),p=f.ru(u.documents),g=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(p,s.isPrimaryClient,g);cT(s,n,y.au);const T=new lD(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function dD(s,e,n){const r=De(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!$h(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await tp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Qp(r.remoteStore,l.targetId),sp(r,l.targetId)})).catch(Il)):(sp(r,l.targetId),await tp(r.localStore,l.targetId,!0))}async function mD(s,e){const n=De(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qp(n.remoteStore,r.targetId))}async function pD(s,e,n){const r=SD(s);try{const l=await(function(f,p){const g=De(f),y=ct.now(),T=p.reduce(((L,z)=>L.add(z.key)),Fe());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let z=bs(),B=Fe();return g.Ns.getEntries(L,T).next((U=>{z=U,z.forEach(((X,J)=>{J.isValidDocument()||(B=B.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,z))).next((U=>{S=U;const X=[];for(const J of p){const se=II(J,S.get(J.key).overlayedDocument);se!=null&&X.push(new Rr(J.key,se,tS(se.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,X,p)})).next((U=>{R=U;const X=U.applyToLocalDocumentSet(S,B);return g.documentOverlayCache.saveOverlays(L,U.batchId,X)}))})).then((()=>({batchId:R.batchId,changes:fS(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new mt(He)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(r,l.batchId,n),await Su(r,l.changes),await nf(r.remoteStore)}catch(l){const u=Wp(l,"Failed to persist write");n.reject(u)}}async function $S(s,e){const n=De(s);try{const r=await C2(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Je(f.hu,14607):l.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await Su(n,r,e)}catch(r){await Il(r)}}function uT(s,e,n){const r=De(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=De(f);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(p)&&(y=!0)})),y&&Jp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gD(s,e,n){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new mt(Te.comparator);f=f.insert(u,on.newNoDocument(u,xe.min()));const p=Fe().add(u),g=new Zh(xe.min(),new Map,new mt(He),f,p);await $S(r,g),r.du=r.du.remove(u),r.Au.delete(e),eg(r)}else await tp(r.localStore,e,!1).then((()=>sp(r,e,n))).catch(Il)}async function yD(s,e){const n=De(s),r=e.batch.batchId;try{const l=await N2(n.localStore,e);WS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,l)}catch(l){await Il(l)}}async function vD(s,e,n){const r=De(s);try{const l=await(function(f,p){const g=De(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Je(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);WS(r,e,n),XS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,l)}catch(l){await Il(l)}}function XS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function WS(s,e,n){const r=De(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||JS(s,r)}))}function JS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Qp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),eg(s))}function cT(s,e,n){for(const r of n)r instanceof QS?(s.Ru.addReference(r.key,e),_D(s,r)):r instanceof KS?(ge(Zp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||JS(s,r.key)):Re(19791,{wu:r})}function _D(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ge(Zp,"New document in limbo: "+n),s.Eu.add(r),eg(s))}function eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Te(lt.fromString(e)),r=s.fu.next();s.Au.set(r,new oD(n)),s.du=s.du.insert(n,r),LS(s.remoteStore,new ur(Fi(kp(n.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function Su(s,e,n){const r=De(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Fp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(g,y){const T=De(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ie.forEach(y,(R=>ie.forEach(R.Es,(L=>T.persistence.referenceDelegate.addReference(S,R.targetId,L))).next((()=>ie.forEach(R.ds,(L=>T.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))))))}catch(S){if(!Dl(S))throw S;ge(Gp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const L=T.Ms.get(R),z=L.snapshotVersion,B=L.withLastLimboFreeSnapshotVersion(z);T.Ms=T.Ms.insert(R,B)}}})(r.localStore,u))}async function ED(s,e){const n=De(s);if(!n.currentUser.isEqual(e)){ge(Zp,"User change. New user:",e.toKey());const r=await MS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(ne.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Ls)}}function TD(s,e){const n=De(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function ZS(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.Pu.H_=sD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function SD(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R2(this.persistence,new b2,e.initialUser,this.serializer)}Cu(e){return new OS(Hp.mi,this.serializer)}Du(e){return new M2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class bD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new OS((r=>Vh.mi(r,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ED.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iD})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),r=(function(u){return new P2(u)})(e.databaseInfo);return(function(u,f,p,g){return new q2(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,p){return new F2(r,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>uT(this.syncEngine,n,0)),(function(){return iT.v()?new iT:new V2})())}createSyncEngine(e,n){return(function(l,u,f,p,g,y,T){const S=new uD(l,u,f,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=De(n);ge(da,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Er="FirestoreClient";class AD{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ge(Er,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ge(Er,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dm(s,e){s.asyncQueue.verifyOperationInProgress(),ge(Er,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await MS(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function hT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await wD(s);ge(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>rT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>rT(e.remoteStore,l))),s._onlineComponents=e}async function wD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ge(Er,"Using user provided OfflineComponentProvider");try{await Dm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await Dm(s,new kh)}}else ge(Er,"Using default OfflineComponentProvider"),await Dm(s,new bD(void 0));return s._offlineComponents}async function tb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ge(Er,"Using user provided OnlineComponentProvider"),await hT(s,s._uninitializedComponentsProvider._online)):(ge(Er,"Using default OnlineComponentProvider"),await hT(s,new rp))),s._onlineComponents}function RD(s){return tb(s).then((e=>e.syncEngine))}async function nb(s){const e=await tb(s),n=e.eventManager;return n.onListen=cD.bind(null,e.syncEngine),n.onUnlisten=dD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mD.bind(null,e.syncEngine),n}function ND(s,e,n={}){const r=new vs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new eb({next:R=>{T.Nu(),f.enqueueAndForget((()=>FS(u,S)));const L=R.docs.has(p);!L&&R.fromCache?y.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&R.fromCache&&g&&g.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new GS(kp(p.path),T,{includeMetadataChanges:!0,qa:!0});return HS(u,S)})(await nb(s),s.asyncQueue,e,n,r))),r.promise}function CD(s,e,n={}){const r=new vs;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new eb({next:R=>{T.Nu(),f.enqueueAndForget((()=>FS(u,S))),R.fromCache&&g.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new GS(p,T,{includeMetadataChanges:!0,qa:!0});return HS(u,S)})(await nb(s),s.asyncQueue,e,n,r))),r.promise}function ib(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const fT=new Map;const sb="firestore.googleapis.com",dT=!0;class mT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sb,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a2)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Mx;switch(r.type){case"firstParty":return new Lx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=fT.get(n);r&&(ge("ComponentProvider","Removing Datastore"),fT.delete(n),r.terminate())})(this),Promise.resolve()}}function xD(s,e,n,r={}){s=pi(s,sf);const l=Rl(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(QT(`https://${p}`),KT("Firestore",!0)),u.host!==sb&&u.host!==p&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!oa(g,f)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=ln.MOCK_USER;else{y=Hw(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(S)}s._authCredentials=new Vx(new H0(y,T))}}class Ml{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,bt._jsonSchema))return new bt(e,r||null,new Te(lt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:jt("string",bt._jsonSchemaVersion),referencePath:jt("string")};class mr extends Ml{constructor(e,n,r){super(e,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Te(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function en(s,e,...n){if(s=Ut(s),F0("collection","path",e),s instanceof sf){const r=lt.fromString(e,...n);return NE(r),new mr(s,null,r)}{if(!(s instanceof bt||s instanceof mr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...n));return NE(r),new mr(s.firestore,null,r)}}function tn(s,e,...n){if(s=Ut(s),arguments.length===1&&(e=Ip.newId()),F0("doc","path",e),s instanceof sf){const r=lt.fromString(e,...n);return RE(r),new bt(s,null,new Te(r))}{if(!(s instanceof bt||s instanceof mr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...n));return RE(r),new bt(s.firestore,s instanceof mr?s.converter:null,new Te(r))}}const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jS(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&ge(pT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;ge(pT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",yT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Xp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Re(47125,{Pc:yT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ya extends sf{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new gT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function ID(s,e){const n=typeof s=="object"?s:WT(),r=typeof s=="string"?s:Ch,l=vp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=Bw("firestore");u&&xD(l,...u)}return l}function tg(s){if(s._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DD(s),s._firestoreClient}function DD(s){const e=s._freezeSettings(),n=(function(l,u,f,p){return new eI(l,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ib(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new AD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(sn.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:jt("string",Xn._jsonSchemaVersion),bytes:jt("string")};class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class af{constructor(e){this._methodName=e}}class Qi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:jt("string",Qi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ki(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:jt("string",Ki._jsonSchemaVersion),vectorValues:jt("object")};const OD=/^__.*__$/;class MD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class rb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ab(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class ng{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ab(this.Ac)&&OD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ef(e)}Cc(e,n,r,l=!1){return new ng({Ac:e,methodName:n,Dc:r,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lf(s){const e=s._freezeSettings(),n=ef(s._databaseId);return new VD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function lb(s,e,n,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);sg("Data must be an object, but it was:",f,r);const p=ob(r,f);let g,y;if(u.merge)g=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=ap(e,S,n);if(!f.contains(R))throw new me(ne.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);cb(T,R)||T.push(R)}g=new jn(T),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new MD(new Sn(p),g,y)}class of extends af{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class ig extends af{_toFieldTransform(e){return new RI(e.path,new ru)}isEqual(e){return e instanceof ig}}function jD(s,e,n,r){const l=s.Cc(1,e,n);sg("Data must be an object, but it was:",l,r);const u=[],f=Sn.empty();wr(r,((g,y)=>{const T=rg(e,g,n);y=Ut(y);const S=l.yc(T);if(y instanceof of)u.push(T);else{const R=bu(y,S);R!=null&&(u.push(T),f.set(T,R))}}));const p=new jn(u);return new rb(f,p,l.fieldTransforms)}function kD(s,e,n,r,l,u){const f=s.Cc(1,e,n),p=[ap(e,r,n)],g=[l];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(ap(e,u[R])),g.push(u[R+1]);const y=[],T=Sn.empty();for(let R=p.length-1;R>=0;--R)if(!cb(y,p[R])){const L=p[R];let z=g[R];z=Ut(z);const B=f.yc(L);if(z instanceof of)y.push(L);else{const U=bu(z,B);U!=null&&(y.push(L),T.set(L,U))}}const S=new jn(y);return new rb(T,S,f.fieldTransforms)}function LD(s,e,n,r=!1){return bu(n,s.Cc(r?4:3,e))}function bu(s,e){if(ub(s=Ut(s)))return sg("Unsupported field value:",e,s),ob(s,e);if(s instanceof af)return(function(r,l){if(!ab(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const p of r){let g=bu(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ct.fromDate(r);return{timestampValue:Mh(l.serializer,u)}}if(r instanceof ct){const u=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(l.serializer,u)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:AS(l.serializer,r._byteString)};if(r instanceof bt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ki)return(function(f,p){return{mapValue:{fields:{[Z0]:{stringValue:eS},[xh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Gh(r)}`)})(s,e)}function ob(s,e){const n={};return K0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((r,l)=>{const u=bu(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function ub(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof Qi||s instanceof Xn||s instanceof bt||s instanceof af||s instanceof Ki)}function sg(s,e,n){if(!ub(n)||!G0(n)){const r=Gh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function ap(s,e,n){if((e=Ut(e))instanceof rf)return e._internalPath;if(typeof e=="string")return rg(s,e);throw Lh("Field path arguments must be of type string or ",s,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function rg(s,e,n){if(e.search(PD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Lh(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${l}`),g+=")"),new me(ne.INVALID_ARGUMENT,p+s+g)}function cb(s,e){return s.some((n=>n.isEqual(e)))}class hb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends hb{data(){return super.data()}}function ag(s,e){return typeof e=="string"?rg(s,e):e instanceof rf?e._internalPath:e._delegate._internalPath}function zD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class BD extends lg{}function On(s,e,...n){let r=[];e instanceof lg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof og)).length,p=u.filter((g=>g instanceof uf)).length;if(f>1||f>0&&p>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class uf extends BD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uf(e,n,r)}_apply(e){const n=this._parse(e);return fb(e._query,n),new Ml(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=lf(e.firestore);return(function(u,f,p,g,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){_T(S,T);const z=[];for(const B of S)z.push(vT(g,u,B));R={arrayValue:{values:z}}}else R=vT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||_T(S,T),R=LD(p,f,S,T==="in"||T==="not-in");return Vt.create(y,T,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jt(s,e,n){const r=e,l=ag("where",s);return uf._create(l,r,n)}class og extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)fb(f,g),f=$m(f,g)})(e._query,n),new Ml(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vT(s,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!Te.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jE(s,new Te(r))}if(n instanceof bt)return jE(s,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function _T(s,e){if(!Array.isArray(s)||s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fb(s,e){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qD{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[xh].arrayValue?.values?.map((r=>St(r.doubleValue)));return new Ki(n)}convertGeoPoint(e){return new Qi(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=gr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Je(IS(r),9688,{name:e});const l=new iu(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return l.isEqual(n)||Ss(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function db(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends hb{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ag("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:jt("string",aa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class yh extends aa{data(e={}){return super.data(e)}}class ml{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Go(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new yh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Go(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new yh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Go(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:HD(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}function la(s){s=pi(s,bt);const e=pi(s.firestore,ya);return ND(tg(e),s._key).then((n=>GD(e,s,n)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:jt("string",ml._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class mb extends qD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Mn(s){s=pi(s,Ml);const e=pi(s.firestore,ya),n=tg(e),r=new mb(e);return zD(s._query),CD(n,s._query).then((l=>new ml(e,r,s,l)))}function FD(s,e,n){s=pi(s,bt);const r=pi(s.firestore,ya),l=db(s.converter,e);return ff(r,[lb(lf(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Wn.none())])}function cf(s,e,n,...r){s=pi(s,bt);const l=pi(s.firestore,ya),u=lf(l);let f;return f=typeof(e=Ut(e))=="string"||e instanceof rf?kD(u,"updateDoc",s._key,e,n,r):jD(u,"updateDoc",s._key,e),ff(l,[f.toMutation(s._key,Wn.exists(!0))])}function ou(s){return ff(pi(s.firestore,ya),[new Pp(s._key,Wn.none())])}function hf(s,e){const n=pi(s.firestore,ya),r=tn(s),l=db(s.converter,e);return ff(n,[lb(lf(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then((()=>r))}function ff(s,e){return(function(r,l){const u=new vs;return r.asyncQueue.enqueueAndForget((async()=>pD(await RD(r),l,u))),u.promise})(tg(s),e)}function GD(s,e,n){const r=n.docs.get(e._key),l=new mb(s);return new aa(s,l,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}function QD(){return new ig("serverTimestamp")}(function(e,n=!0){(function(l){xl=l})(Nl),pl(new ua("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new ya(new jx(r.getProvider("auth-internal")),new Px(f,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),fr(SE,bE,e),fr(SE,bE,"esm2020")})();const KD={apiKey:"AIzaSyDWEFxAzplF0TjzQUSduqjFETdSYxEhv0Q",authDomain:"tripeasy-9fa23.firebaseapp.com",projectId:"tripeasy-9fa23",storageBucket:"tripeasy-9fa23.firebasestorage.app",messagingSenderId:"101699018384",appId:"1:101699018384:web:73af225fa3e336bee3c215"},pb=XT(KD),ma=xx(pb),Ke=ID(pb),gb=k.createContext();function Nr(){return k.useContext(gb)}function YD({children:s}){const[e,n]=k.useState(null),[r,l]=k.useState(!0);k.useEffect(()=>_C(ma,p=>{n(p),l(!1)}),[]);const u={currentUser:e,loading:r};return m.jsx(gb.Provider,{value:u,children:!r&&s})}function $D(){const[s,e]=k.useState(""),[n,r]=k.useState(""),[l,u]=k.useState(""),[f,p]=k.useState(!1),g=async T=>{T.preventDefault(),u(""),p(!0);try{await pC(ma,s,n)}catch(S){switch(console.error("Login error:",S),S.code){case"auth/invalid-email":u("   .");break;case"auth/user-disabled":u(" .");break;case"auth/user-not-found":u("  .");break;case"auth/wrong-password":u("  .");break;case"auth/invalid-credential":u("    .");break;default:u(" .  .")}}finally{p(!1)}},y=async()=>{u(""),p(!0);try{const T=new qi;await V0(ma,T)}catch(T){console.error("Google login error:",T),T.code!=="auth/popup-closed-by-user"&&u("Google  .  .")}finally{p(!1)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("div",{className:"login-logo",children:""}),m.jsx("h1",{className:"login-title",children:"TripEasy"}),m.jsx("p",{className:"login-subtitle",children:"   "})]}),l&&m.jsxs("div",{className:"error-message",children:[m.jsx("span",{children:""}),m.jsx("span",{children:l})]}),m.jsxs("form",{className:"login-form",onSubmit:g,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"email",children:""}),m.jsx("input",{id:"email",type:"email",className:"form-input",placeholder:"example@email.com",value:s,onChange:T=>e(T.target.value),required:!0,disabled:f})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"password",children:""}),m.jsx("input",{id:"password",type:"password",className:"form-input",placeholder:"",value:n,onChange:T=>r(T.target.value),required:!0,disabled:f})]}),m.jsx("div",{className:"forgot-password",children:m.jsx("a",{href:"#forgot",children:" ?"})}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?m.jsx("div",{className:"spinner"}):""})]}),m.jsxs("div",{className:"divider",children:[m.jsx("div",{className:"divider-line"}),m.jsx("span",{className:"divider-text",children:""}),m.jsx("div",{className:"divider-line"})]}),m.jsxs("button",{className:"btn btn-google",onClick:y,disabled:f,children:[m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[m.jsx("path",{d:"M19.6 10.227c0-.709-.064-1.39-.182-2.045H10v3.868h5.382a4.6 4.6 0 01-1.996 3.018v2.51h3.232c1.891-1.742 2.982-4.305 2.982-7.35z",fill:"#4285F4"}),m.jsx("path",{d:"M10 20c2.7 0 4.964-.895 6.618-2.423l-3.232-2.509c-.895.6-2.04.955-3.386.955-2.605 0-4.81-1.76-5.595-4.123H1.064v2.59A9.996 9.996 0 0010 20z",fill:"#34A853"}),m.jsx("path",{d:"M4.405 11.9c-.2-.6-.314-1.24-.314-1.9 0-.66.114-1.3.314-1.9V5.51H1.064A9.996 9.996 0 000 10c0 1.614.386 3.14 1.064 4.49l3.34-2.59z",fill:"#FBBC05"}),m.jsx("path",{d:"M10 3.977c1.468 0 2.786.505 3.823 1.496l2.868-2.868C14.959.99 12.695 0 10 0 6.09 0 2.71 2.24 1.064 5.51l3.34 2.59C5.19 5.736 7.395 3.977 10 3.977z",fill:"#EA4335"})]}),"Google "]}),m.jsxs("div",{className:"signup-link",children:[" ? ",m.jsx(zh,{to:"/signup",children:""})]})]})})}function XD(){const[s,e]=k.useState(""),[n,r]=k.useState(""),[l,u]=k.useState(""),[f,p]=k.useState(""),[g,y]=k.useState(""),[T,S]=k.useState(!1),R=async(B,U)=>{try{await FD(tn(Ke,"users",B.uid),{displayName:U,email:B.email,photoURL:B.photoURL||"",createdAt:new Date})}catch(X){console.error("Error saving user to Firestore:",X)}},L=async B=>{if(B.preventDefault(),y(""),l.length<6){y("  6  .");return}if(l!==f){y("  .");return}S(!0);try{const U=await mC(ma,n,l);await S0(U.user,{displayName:s}),await R(U.user,s)}catch(U){switch(console.error("Signup error:",U),U.code){case"auth/email-already-in-use":y("   .");break;case"auth/invalid-email":y("   .");break;case"auth/weak-password":y("  .");break;default:y(" .  .")}}finally{S(!1)}},z=async()=>{y(""),S(!0);try{const B=new qi,U=await V0(ma,B);await R(U.user,U.user.displayName)}catch(B){console.error("Google signup error:",B),B.code!=="auth/popup-closed-by-user"&&y("Google  .  .")}finally{S(!1)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("div",{className:"login-logo",children:""}),m.jsx("h1",{className:"login-title",children:""}),m.jsx("p",{className:"login-subtitle",children:"TripEasy   "})]}),g&&m.jsxs("div",{className:"error-message",children:[m.jsx("span",{children:""}),m.jsx("span",{children:g})]}),m.jsxs("form",{className:"login-form",onSubmit:L,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"name",children:""}),m.jsx("input",{id:"name",type:"text",className:"form-input",placeholder:"",value:s,onChange:B=>e(B.target.value),required:!0,disabled:T})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"email",children:""}),m.jsx("input",{id:"email",type:"email",className:"form-input",placeholder:"example@email.com",value:n,onChange:B=>r(B.target.value),required:!0,disabled:T})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"password",children:""}),m.jsx("input",{id:"password",type:"password",className:"form-input",placeholder:" 6 ",value:l,onChange:B=>u(B.target.value),required:!0,disabled:T})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:" "}),m.jsx("input",{id:"confirmPassword",type:"password",className:"form-input",placeholder:"  ",value:f,onChange:B=>p(B.target.value),required:!0,disabled:T})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,children:T?m.jsx("div",{className:"spinner"}):""})]}),m.jsxs("div",{className:"divider",children:[m.jsx("div",{className:"divider-line"}),m.jsx("span",{className:"divider-text",children:""}),m.jsx("div",{className:"divider-line"})]}),m.jsxs("button",{className:"btn btn-google",onClick:z,disabled:T,children:[m.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[m.jsx("path",{d:"M19.6 10.227c0-.709-.064-1.39-.182-2.045H10v3.868h5.382a4.6 4.6 0 01-1.996 3.018v2.51h3.232c1.891-1.742 2.982-4.305 2.982-7.35z",fill:"#4285F4"}),m.jsx("path",{d:"M10 20c2.7 0 4.964-.895 6.618-2.423l-3.232-2.509c-.895.6-2.04.955-3.386.955-2.605 0-4.81-1.76-5.595-4.123H1.064v2.59A9.996 9.996 0 0010 20z",fill:"#34A853"}),m.jsx("path",{d:"M4.405 11.9c-.2-.6-.314-1.24-.314-1.9 0-.66.114-1.3.314-1.9V5.51H1.064A9.996 9.996 0 000 10c0 1.614.386 3.14 1.064 4.49l3.34-2.59z",fill:"#FBBC05"}),m.jsx("path",{d:"M10 3.977c1.468 0 2.786.505 3.823 1.496l2.868-2.868C14.959.99 12.695 0 10 0 6.09 0 2.71 2.24 1.064 5.51l3.34 2.59C5.19 5.736 7.395 3.977 10 3.977z",fill:"#EA4335"})]}),"Google "]}),m.jsxs("div",{className:"signup-link",children:["  ? ",m.jsx(zh,{to:"/login",children:""})]})]})})}function WD(){const{currentUser:s}=Nr(),e=Sr(),[n,r]=k.useState([]),[l,u]=k.useState(!0),[f,p]=k.useState("home");k.useEffect(()=>{g()},[s]);const g=async()=>{if(s)try{const z=localStorage.getItem("trips");if(z){const{data:J,timestamp:se}=JSON.parse(z);if(Date.now()-se<3e5){r(J),u(!1);return}}const B=On(en(Ke,"trips"),Jt("participants","array-contains",s.uid)),X=(await Mn(B)).docs.map(J=>({id:J.id,...J.data()}));X.sort((J,se)=>{const ce=J.startDate?.seconds?new Date(J.startDate.seconds*1e3):new Date(J.startDate);return(se.startDate?.seconds?new Date(se.startDate.seconds*1e3):new Date(se.startDate))-ce}),r(X),localStorage.setItem("trips",JSON.stringify({data:X,timestamp:Date.now()}))}catch(z){console.error("Error loading trips:",z)}finally{u(!1)}},y=async()=>{try{await b0(ma),localStorage.clear()}catch(z){console.error("Logout error:",z)}},T=z=>z?z.seconds!==void 0?new Date(z.seconds*1e3):new Date(z):null,S=z=>{const B=new Date,U=T(z.startDate),X=T(z.endDate);return!U||!X||B<U?"upcoming":B>X?"completed":"ongoing"},R=z=>({upcoming:"",ongoing:" ",completed:""})[z]||"",L=z=>{if(!z)return"";const B=T(z);return!B||isNaN(B.getTime())?"":`${B.getMonth()+1}/${B.getDate()}`};return m.jsxs("div",{className:"dashboard-container",children:[m.jsxs("header",{className:"dashboard-header",children:[m.jsxs("div",{className:"header-top",children:[m.jsxs("div",{className:"header-greeting",children:[m.jsx("p",{className:"greeting-text",children:","}),m.jsxs("h1",{className:"greeting-name",children:[s?.displayName||""," "]})]}),m.jsx("div",{className:"header-actions",children:m.jsx("button",{className:"icon-btn",onClick:y,title:"",children:""})})]}),m.jsxs("div",{className:"stats-grid",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-number",children:n.length}),m.jsx("div",{className:"stat-label",children:" "})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-number",children:n.filter(z=>S(z)==="ongoing").length}),m.jsx("div",{className:"stat-label",children:" "})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-number",children:n.filter(z=>S(z)==="upcoming").length}),m.jsx("div",{className:"stat-label",children:""})]})]})]}),m.jsxs("main",{className:"dashboard-content",children:[m.jsxs("div",{className:"quick-actions",children:[m.jsxs("button",{className:"action-btn",onClick:()=>e("/create-trip"),children:[m.jsx("div",{className:"action-icon",children:""}),m.jsx("span",{className:"action-label",children:" "})]}),m.jsxs("button",{className:"action-btn",onClick:()=>e("/friends"),children:[m.jsx("div",{className:"action-icon",children:""}),m.jsx("span",{className:"action-label",children:""})]})]}),m.jsxs("div",{className:"section-header",children:[m.jsx("h2",{className:"section-title",children:" "}),n.length>0&&m.jsx("a",{href:"#all",className:"section-link",children:" "})]}),l?m.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:m.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #E0E0E0",borderTop:"4px solid #FF8800",borderRadius:"50%",margin:"0 auto",animation:"spin 0.8s linear infinite"}})}):n.length>0?m.jsx("div",{className:"trip-list",children:n.map(z=>{const B=S(z);return m.jsxs("div",{className:"trip-card",onClick:()=>e(`/trip/${z.id}`),style:{cursor:"pointer"},children:[m.jsxs("div",{className:"trip-header",children:[m.jsxs("div",{className:"trip-info",children:[m.jsx("h3",{className:"trip-title",children:z.title}),m.jsxs("p",{className:"trip-destination",children:[" ",z.destination]})]}),m.jsx("span",{className:`trip-status status-${B}`,children:R(B)})]}),m.jsxs("div",{className:"trip-details",children:[m.jsxs("div",{className:"trip-dates",children:[" ",L(z.startDate)," - ",L(z.endDate)]}),m.jsx("div",{className:"trip-participants",children:m.jsxs("div",{className:"participant-avatars",children:[z.participants?.slice(0,3).map((U,X)=>m.jsx("div",{className:"avatar",children:X+1},U)),z.participants?.length>3&&m.jsxs("div",{className:"avatar",children:["+",z.participants.length-3]})]})})]})]},z.id)})}):m.jsxs("div",{className:"empty-state",children:[m.jsx("div",{className:"empty-icon",children:""}),m.jsx("h3",{className:"empty-title",children:"   "}),m.jsx("p",{className:"empty-description",children:"   !"}),m.jsx("button",{className:"empty-action",onClick:()=>e("/create-trip"),children:"  "})]})]}),m.jsx("button",{className:"fab",title:"  ",onClick:()=>e("/create-trip"),children:"+"}),m.jsxs("nav",{className:"bottom-nav",children:[m.jsxs("button",{className:`nav-item ${f==="home"?"active":""}`,onClick:()=>p("home"),children:[m.jsx("div",{className:"nav-icon",children:""}),m.jsx("div",{className:"nav-label",children:""})]}),m.jsxs("button",{className:`nav-item ${f==="trips"?"active":""}`,onClick:()=>p("trips"),children:[m.jsx("div",{className:"nav-icon",children:""}),m.jsx("div",{className:"nav-label",children:""})]}),m.jsxs("button",{className:`nav-item ${f==="friends"?"active":""}`,onClick:()=>e("/friends"),children:[m.jsx("div",{className:"nav-icon",children:""}),m.jsx("div",{className:"nav-label",children:""})]}),m.jsxs("button",{className:`nav-item ${f==="profile"?"active":""}`,onClick:()=>e("/profile"),children:[m.jsx("div",{className:"nav-icon",children:""}),m.jsx("div",{className:"nav-label",children:" "})]})]})]})}function JD(){const{currentUser:s}=Nr(),e=Sr(),[n,r]=k.useState("friends"),[l,u]=k.useState([]),[f,p]=k.useState([]),[g,y]=k.useState([]),[T,S]=k.useState(""),[R,L]=k.useState(!0),[z,B]=k.useState(!1),[U,X]=k.useState(""),[J,se]=k.useState({type:"",text:""});k.useEffect(()=>{ce()},[s]);const ce=async()=>{if(s)try{L(!0);const w=On(en(Ke,"friendships"),Jt("status","==","accepted")),j=await Mn(w),I=[];for(const he of j.docs){const D=he.data(),W=D.userId===s.uid?D.friendId:D.userId;if(D.userId===s.uid||D.friendId===s.uid){const le=await la(tn(Ke,"users",W));le.exists()&&I.push({id:he.id,userId:W,...le.data()})}}u(I);const ke=On(en(Ke,"friendships"),Jt("friendId","==",s.uid),Jt("status","==","pending")),pe=await Mn(ke),G=[];for(const he of pe.docs){const D=he.data(),W=await la(tn(Ke,"users",D.userId));W.exists()&&G.push({id:he.id,userId:D.userId,...W.data()})}p(G);const ae=On(en(Ke,"friendships"),Jt("userId","==",s.uid),Jt("status","==","pending")),$=await Mn(ae),fe=[];for(const he of $.docs){const D=he.data(),W=await la(tn(Ke,"users",D.friendId));W.exists()&&fe.push({id:he.id,userId:D.friendId,...W.data()})}y(fe)}catch(w){console.error("Error loading friend data:",w)}finally{L(!1)}},_e=async()=>{if(!U.trim()){se({type:"error",text:" ."});return}if(U===s.email){se({type:"error",text:"     ."});return}try{const w=On(en(Ke,"users"),Jt("email","==",U.trim())),j=await Mn(w);if(j.empty){se({type:"error",text:"     ."});return}const ke=j.docs[0].id,pe=On(en(Ke,"friendships"),Jt("status","==","accepted"));if((await Mn(pe)).docs.some(he=>{const D=he.data();return D.userId===s.uid&&D.friendId===ke||D.userId===ke&&D.friendId===s.uid})){se({type:"error",text:" ."});return}const $=On(en(Ke,"friendships"),Jt("userId","==",s.uid),Jt("friendId","==",ke),Jt("status","==","pending"));if(!(await Mn($)).empty){se({type:"error",text:"   ."});return}await hf(en(Ke,"friendships"),{userId:s.uid,friendId:ke,status:"pending",createdAt:QD()}),se({type:"success",text:"  !"}),X(""),setTimeout(()=>{B(!1),se({type:"",text:""}),ce()},1500)}catch(w){console.error("Error adding friend:",w),se({type:"error",text:"  ."})}},Se=async w=>{try{await cf(tn(Ke,"friendships",w),{status:"accepted"}),ce()}catch(j){console.error("Error accepting request:",j)}},x=async w=>{try{await ou(tn(Ke,"friendships",w)),ce()}catch(j){console.error("Error rejecting request:",j)}},N=async w=>{try{await ou(tn(Ke,"friendships",w)),ce()}catch(j){console.error("Error canceling request:",j)}},C=w=>w?w.charAt(0).toUpperCase():"?",M=l.filter(w=>w.displayName?.toLowerCase().includes(T.toLowerCase())||w.email?.toLowerCase().includes(T.toLowerCase()));return m.jsxs("div",{className:"friends-container",children:[m.jsx("header",{className:"friends-header",children:m.jsxs("div",{className:"header-content",children:[m.jsx("button",{className:"back-btn",onClick:()=>e("/dashboard"),children:""}),m.jsx("h1",{className:"header-title",children:""}),m.jsx("div",{className:"header-action"})]})}),m.jsx("div",{className:"search-section",children:m.jsxs("div",{className:"search-box",children:[m.jsx("span",{className:"search-icon",children:""}),m.jsx("input",{type:"text",className:"search-input",placeholder:" ...",value:T,onChange:w=>S(w.target.value)})]})}),m.jsxs("div",{className:"tabs",children:[m.jsxs("button",{className:`tab ${n==="friends"?"active":""}`,onClick:()=>r("friends"),children:[" ",l.length>0&&`(${l.length})`]}),m.jsxs("button",{className:`tab ${n==="received"?"active":""}`,onClick:()=>r("received"),children:[" ",f.length>0&&m.jsx("span",{className:"tab-badge",children:f.length})]}),m.jsxs("button",{className:`tab ${n==="sent"?"active":""}`,onClick:()=>r("sent"),children:["  ",g.length>0&&`(${g.length})`]})]}),m.jsx("div",{className:"friends-content",children:R?m.jsx("div",{style:{textAlign:"center",padding:"60px 20px"},children:m.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #E0E0E0",borderTop:"4px solid #FF8800",borderRadius:"50%",margin:"0 auto",animation:"spin 0.8s linear infinite"}})}):m.jsxs(m.Fragment,{children:[n==="friends"&&m.jsx(m.Fragment,{children:M.length>0?m.jsx("div",{className:"friend-list",children:M.map(w=>m.jsxs("div",{className:"friend-item",children:[m.jsx("div",{className:"friend-avatar",children:w.photoURL?m.jsx("img",{src:w.photoURL,alt:w.displayName}):C(w.displayName)}),m.jsxs("div",{className:"friend-info",children:[m.jsx("h3",{className:"friend-name",children:w.displayName||" "}),m.jsx("p",{className:"friend-email",children:w.email})]})]},w.id))}):m.jsxs("div",{className:"empty-state-friends",children:[m.jsx("div",{className:"empty-icon-friends",children:""}),m.jsx("h3",{className:"empty-title-friends",children:"  "}),m.jsx("p",{className:"empty-description-friends",children:T?"  .":" !"})]})}),n==="received"&&m.jsx(m.Fragment,{children:f.length>0?m.jsx("div",{className:"friend-list",children:f.map(w=>m.jsxs("div",{className:"friend-item",children:[m.jsx("div",{className:"friend-avatar",children:w.photoURL?m.jsx("img",{src:w.photoURL,alt:w.displayName}):C(w.displayName)}),m.jsxs("div",{className:"friend-info",children:[m.jsx("h3",{className:"friend-name",children:w.displayName||" "}),m.jsx("p",{className:"friend-email",children:w.email})]}),m.jsxs("div",{className:"friend-actions",children:[m.jsx("button",{className:"action-btn-small btn-accept",onClick:()=>Se(w.id),children:""}),m.jsx("button",{className:"action-btn-small btn-reject",onClick:()=>x(w.id),children:""})]})]},w.id))}):m.jsxs("div",{className:"empty-state-friends",children:[m.jsx("div",{className:"empty-icon-friends",children:""}),m.jsx("h3",{className:"empty-title-friends",children:"  "}),m.jsx("p",{className:"empty-description-friends",children:"    ."})]})}),n==="sent"&&m.jsx(m.Fragment,{children:g.length>0?m.jsx("div",{className:"friend-list",children:g.map(w=>m.jsxs("div",{className:"friend-item",children:[m.jsx("div",{className:"friend-avatar",children:w.photoURL?m.jsx("img",{src:w.photoURL,alt:w.displayName}):C(w.displayName)}),m.jsxs("div",{className:"friend-info",children:[m.jsx("h3",{className:"friend-name",children:w.displayName||" "}),m.jsx("p",{className:"friend-email",children:w.email}),m.jsx("p",{className:"friend-status",children:" "})]}),m.jsx("div",{className:"friend-actions",children:m.jsx("button",{className:"action-btn-small btn-cancel",onClick:()=>N(w.id),children:""})})]},w.id))}):m.jsxs("div",{className:"empty-state-friends",children:[m.jsx("div",{className:"empty-icon-friends",children:""}),m.jsx("h3",{className:"empty-title-friends",children:"  "}),m.jsx("p",{className:"empty-description-friends",children:"    !"})]})})]})}),m.jsx("button",{className:"fab-friends",onClick:()=>B(!0),children:"+"}),z&&m.jsx("div",{className:"modal-overlay",onClick:()=>B(!1),children:m.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[m.jsx("div",{className:"modal-header",children:m.jsx("h2",{className:"modal-title",children:" "})}),J.text&&m.jsx("div",{className:`modal-message ${J.type}`,children:J.text}),m.jsxs("div",{className:"modal-form",children:[m.jsx("input",{type:"email",className:"modal-input",placeholder:"  ",value:U,onChange:w=>X(w.target.value),onKeyPress:w=>w.key==="Enter"&&_e()}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{className:"modal-btn modal-btn-cancel",onClick:()=>{B(!1),X(""),se({type:"",text:""})},children:""}),m.jsx("button",{className:"modal-btn modal-btn-confirm",onClick:_e,children:" "})]})]})]})})]})}function ZD(){const{currentUser:s}=Nr(),e=Sr(),[n,r]=k.useState({trips:0,friends:0,completed:0}),[l,u]=k.useState(!0),[f,p]=k.useState(!1),[g,y]=k.useState(""),[T,S]=k.useState({type:"",text:""}),[R,L]=k.useState(!0),[z,B]=k.useState(!1);k.useEffect(()=>{U(),s&&y(s.displayName||"")},[s]);const U=async()=>{if(s)try{u(!0);const ce=On(en(Ke,"trips"),Jt("participants","array-contains",s.uid)),_e=await Mn(ce),Se=_e.docs.filter(M=>{const w=M.data().endDate?.toDate();return w&&w<new Date}).length,x=On(en(Ke,"friendships"),Jt("status","==","accepted")),C=(await Mn(x)).docs.filter(M=>{const w=M.data();return w.userId===s.uid||w.friendId===s.uid}).length;r({trips:_e.size,friends:C,completed:Se})}catch(ce){console.error("Error loading stats:",ce)}finally{u(!1)}},X=async()=>{if(!g.trim()){S({type:"error",text:" ."});return}try{await S0(s,{displayName:g}),await cf(tn(Ke,"users",s.uid),{displayName:g}),S({type:"success",text:" !"}),setTimeout(()=>{p(!1),S({type:"",text:""}),window.location.reload()},1500)}catch(ce){console.error("Error updating profile:",ce),S({type:"error",text:"  ."})}},J=async()=>{if(window.confirm(" ?"))try{await b0(ma),localStorage.clear(),e("/login")}catch(ce){console.error("Logout error:",ce)}},se=ce=>ce?ce.charAt(0).toUpperCase():"?";return m.jsxs("div",{className:"profile-container",children:[m.jsx("div",{className:"profile-header",children:m.jsxs("div",{className:"profile-top",children:[m.jsx("button",{className:"profile-back-btn",onClick:()=>e("/dashboard"),children:""}),m.jsx("button",{className:"profile-edit-btn",onClick:()=>p(!0),children:""})]})}),m.jsxs("div",{className:"profile-card",children:[m.jsx("div",{className:"profile-avatar-large",children:s?.photoURL?m.jsx("img",{src:s.photoURL,alt:s.displayName}):se(s?.displayName)}),m.jsx("h1",{className:"profile-name",children:s?.displayName||" "}),m.jsx("p",{className:"profile-email",children:s?.email}),m.jsxs("div",{className:"profile-stats",children:[m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:n.trips}),m.jsx("div",{className:"stat-title",children:""})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:n.friends}),m.jsx("div",{className:"stat-title",children:""})]}),m.jsxs("div",{className:"stat-item",children:[m.jsx("div",{className:"stat-value",children:n.completed}),m.jsx("div",{className:"stat-title",children:""})]})]})]}),m.jsxs("div",{className:"profile-content",children:[m.jsxs("div",{className:"menu-section",children:[m.jsx("div",{className:"section-title-profile",children:""}),m.jsxs("button",{className:"menu-item",onClick:()=>p(!0),children:[m.jsx("div",{className:"menu-icon",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:" "}),m.jsx("div",{className:"menu-description",children:",   "})]}),m.jsx("div",{className:"menu-arrow",children:""})]}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon blue",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:""}),m.jsx("div",{className:"menu-description",children:s?.email})]})]})]}),m.jsxs("div",{className:"menu-section",children:[m.jsx("div",{className:"section-title-profile",children:""}),m.jsxs("button",{className:"menu-item",onClick:()=>L(!R),children:[m.jsx("div",{className:"menu-icon green",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:""}),m.jsx("div",{className:"menu-description",children:"  "})]}),m.jsx("div",{className:"menu-toggle",children:m.jsx("div",{className:`toggle-switch ${R?"active":""}`,children:m.jsx("div",{className:"toggle-slider"})})})]}),m.jsxs("button",{className:"menu-item",onClick:()=>B(!z),children:[m.jsx("div",{className:"menu-icon purple",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:" "}),m.jsx("div",{className:"menu-description",children:" "})]}),m.jsx("div",{className:"menu-toggle",children:m.jsx("div",{className:`toggle-switch ${z?"active":""}`,children:m.jsx("div",{className:"toggle-slider"})})})]}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:""}),m.jsx("div",{className:"menu-description",children:""})]}),m.jsx("div",{className:"menu-arrow",children:""})]})]}),m.jsxs("div",{className:"menu-section",children:[m.jsx("div",{className:"section-title-profile",children:""}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon blue",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:""}),m.jsx("div",{className:"menu-description",children:" "})]}),m.jsx("div",{className:"menu-arrow",children:""})]}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon green",children:""}),m.jsxs("div",{className:"menu-info",children:[m.jsx("div",{className:"menu-title",children:" "}),m.jsx("div",{className:"menu-description",children:"  "})]}),m.jsx("div",{className:"menu-arrow",children:""})]}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon purple",children:""}),m.jsx("div",{className:"menu-info",children:m.jsx("div",{className:"menu-title",children:""})}),m.jsx("div",{className:"menu-arrow",children:""})]}),m.jsxs("button",{className:"menu-item",children:[m.jsx("div",{className:"menu-icon",children:""}),m.jsx("div",{className:"menu-info",children:m.jsx("div",{className:"menu-title",children:" "})}),m.jsx("div",{className:"menu-arrow",children:""})]})]}),m.jsx("div",{className:"logout-section",children:m.jsx("button",{className:"logout-btn",onClick:J,children:""})}),m.jsxs("div",{className:"version-info",children:["TripEasy v1.0.0",m.jsx("br",{})," 2026 TripEasy. All rights reserved."]})]}),f&&m.jsx("div",{className:"profile-modal-overlay",onClick:()=>p(!1),children:m.jsxs("div",{className:"profile-modal-content",onClick:ce=>ce.stopPropagation(),children:[m.jsx("div",{className:"profile-modal-header",children:m.jsx("h2",{className:"profile-modal-title",children:" "})}),T.text&&m.jsx("div",{className:`profile-modal-message ${T.type}`,children:T.text}),m.jsxs("div",{className:"profile-modal-form",children:[m.jsxs("div",{className:"profile-form-group",children:[m.jsx("label",{className:"profile-form-label",children:""}),m.jsx("input",{type:"text",className:"profile-form-input",placeholder:" ",value:g,onChange:ce=>y(ce.target.value)})]}),m.jsxs("div",{className:"profile-form-group",children:[m.jsx("label",{className:"profile-form-label",children:""}),m.jsx("input",{type:"email",className:"profile-form-input",value:s?.email,disabled:!0})]}),m.jsxs("div",{className:"profile-modal-actions",children:[m.jsx("button",{className:"profile-modal-btn profile-modal-btn-cancel",onClick:()=>{p(!1),y(s?.displayName||""),S({type:"",text:""})},children:""}),m.jsx("button",{className:"profile-modal-btn profile-modal-btn-confirm",onClick:X,children:""})]})]})]})})]})}function eO(){const{currentUser:s}=Nr(),e=Sr(),[n,r]=k.useState(1),[l,u]=k.useState(""),[f,p]=k.useState(""),[g,y]=k.useState(""),[T,S]=k.useState(""),[R,L]=k.useState(""),[z,B]=k.useState([]),[U,X]=k.useState([]),[J,se]=k.useState(!1),[ce,_e]=k.useState(!1);k.useEffect(()=>{Se()},[s]);const Se=async()=>{if(s)try{const pe=On(en(Ke,"friendships"),Jt("status","==","accepted")),G=await Mn(pe),ae=[];for(const $ of G.docs){const fe=$.data(),he=fe.userId===s.uid?fe.friendId:fe.userId;if(fe.userId===s.uid||fe.friendId===s.uid){const D=await la(tn(Ke,"users",he));D.exists()&&ae.push({id:he,...D.data()})}}X(ae)}catch(pe){console.error("Error loading friends:",pe)}},x=pe=>{B(G=>G.includes(pe)?G.filter(ae=>ae!==pe):[...G,pe])},N=()=>l.trim()&&f.trim()&&g&&T,C=()=>{n===1&&N()?r(2):n===2&&r(3)},M=()=>{n>1?r(n-1):e("/dashboard")},w=async()=>{if(N()){se(!0);try{const pe=[s.uid,...z],G={title:l.trim(),destination:f.trim(),startDate:g,endDate:T,description:R.trim(),participants:pe,createdBy:s.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await hf(en(Ke,"trips"),G),localStorage.removeItem("trips"),_e(!0),setTimeout(()=>{e("/dashboard")},2e3)}catch(pe){console.error("Error creating trip:",pe),alert("  .  .")}finally{se(!1)}}},j=pe=>pe?pe.charAt(0).toUpperCase():"?",I=pe=>{if(!pe)return"";const G=new Date(pe);return`${G.getMonth()+1} ${G.getDate()}`},ke=()=>{if(!g||!T)return 0;const pe=new Date(g),G=new Date(T);return Math.ceil((G-pe)/(1e3*60*60*24))+1};return m.jsxs("div",{className:"create-trip-container",children:[m.jsx("header",{className:"create-trip-header",children:m.jsxs("div",{className:"create-trip-header-content",children:[m.jsx("button",{className:"create-trip-back-btn",onClick:M,children:""}),m.jsx("h1",{className:"create-trip-title",children:"  "}),m.jsx("div",{style:{width:"40px"}})]})}),m.jsx("div",{className:"progress-steps",children:m.jsxs("div",{className:"steps-container",children:[m.jsxs("div",{className:`step ${n>=1?"active":""} ${n>1?"completed":""}`,children:[m.jsx("div",{className:"step-number",children:"1"}),m.jsx("div",{className:"step-label",children:""}),m.jsx("div",{className:"step-line"})]}),m.jsxs("div",{className:`step ${n>=2?"active":""} ${n>2?"completed":""}`,children:[m.jsx("div",{className:"step-number",children:"2"}),m.jsx("div",{className:"step-label",children:""}),m.jsx("div",{className:"step-line"})]}),m.jsxs("div",{className:`step ${n>=3?"active":""}`,children:[m.jsx("div",{className:"step-number",children:"3"}),m.jsx("div",{className:"step-label",children:""})]})]})}),m.jsxs("div",{className:"create-trip-content",children:[n===1&&m.jsxs("div",{className:"form-section",children:[m.jsx("h2",{className:"section-title-create",children:"  "}),m.jsxs("div",{className:"form-field",children:[m.jsxs("label",{className:"field-label",children:["  ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",className:"field-input",placeholder:")   ",value:l,onChange:pe=>u(pe.target.value),maxLength:50}),m.jsxs("div",{className:"field-helper",children:[l.length,"/50"]})]}),m.jsxs("div",{className:"form-field",children:[m.jsxs("label",{className:"field-label",children:[" ",m.jsx("span",{className:"required",children:"*"})]}),m.jsx("input",{type:"text",className:"field-input",placeholder:") ",value:f,onChange:pe=>p(pe.target.value),maxLength:30})]}),m.jsxs("div",{className:"form-field",children:[m.jsxs("label",{className:"field-label",children:["  ",m.jsx("span",{className:"required",children:"*"})]}),m.jsxs("div",{className:"date-range",children:[m.jsx("input",{type:"date",className:"field-input",value:g,onChange:pe=>y(pe.target.value)}),m.jsx("input",{type:"date",className:"field-input",value:T,onChange:pe=>S(pe.target.value),min:g})]}),g&&T&&m.jsxs("div",{className:"field-helper",children:[" ",ke(),""]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:" ()"}),m.jsx("textarea",{className:"field-input field-textarea",placeholder:"    ",value:R,onChange:pe=>L(pe.target.value),maxLength:200}),m.jsxs("div",{className:"field-helper",children:[R.length,"/200"]})]})]}),n===2&&m.jsxs("div",{className:"form-section",children:[m.jsx("h2",{className:"section-title-create",children:"  "}),U.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"friends-select",children:U.map(pe=>m.jsxs("label",{className:"friend-checkbox-item",children:[m.jsx("input",{type:"checkbox",className:"friend-checkbox",checked:z.includes(pe.id),onChange:()=>x(pe.id)}),m.jsx("div",{className:"friend-checkbox-avatar",children:pe.photoURL?m.jsx("img",{src:pe.photoURL,alt:pe.displayName}):j(pe.displayName)}),m.jsxs("div",{className:"friend-checkbox-info",children:[m.jsx("div",{className:"friend-checkbox-name",children:pe.displayName||" "}),m.jsx("div",{className:"friend-checkbox-email",children:pe.email})]})]},pe.id))}),m.jsxs("div",{className:"selected-count",children:[z.length,"  (  ",z.length+1,")"]})]}):m.jsxs("div",{className:"empty-friends",children:[m.jsx("div",{className:"empty-friends-icon",children:""}),m.jsxs("div",{className:"empty-friends-text",children:["  ",m.jsx("br",{}),"    !"]}),m.jsx("a",{href:"/friends",className:"add-friend-link",children:"  "})]})]}),n===3&&m.jsxs("div",{className:"form-section",children:[m.jsx("h2",{className:"section-title-create",children:"   "}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:" "}),m.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#2C3E50",padding:"8px 0"},children:l})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:""}),m.jsxs("div",{style:{fontSize:"15px",color:"#2C3E50",padding:"8px 0"},children:[" ",f]})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:" "}),m.jsxs("div",{style:{fontSize:"15px",color:"#2C3E50",padding:"8px 0"},children:[" ",I(g)," - ",I(T)," (",ke(),")"]})]}),R&&m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:""}),m.jsx("div",{style:{fontSize:"14px",color:"#7F8C8D",padding:"8px 0",lineHeight:"1.6"},children:R})]}),m.jsxs("div",{className:"form-field",children:[m.jsx("label",{className:"field-label",children:""}),m.jsxs("div",{style:{fontSize:"15px",color:"#2C3E50",padding:"8px 0"},children:[" ",z.length+1," ( )"]})]})]})]}),m.jsx("div",{className:"create-trip-footer",children:m.jsxs("div",{className:"footer-buttons",children:[m.jsx("button",{className:"footer-btn btn-secondary",onClick:M,children:n===1?"":""}),n<3?m.jsx("button",{className:"footer-btn btn-primary-footer",onClick:C,disabled:n===1&&!N(),children:""}):m.jsx("button",{className:"footer-btn btn-primary-footer",onClick:w,disabled:J,children:J?" ...":" "})]})}),ce&&m.jsx("div",{className:"success-modal",children:m.jsxs("div",{className:"success-content",children:[m.jsx("div",{className:"success-icon",children:""}),m.jsx("h3",{className:"success-title",children:" !"}),m.jsxs("p",{className:"success-message",children:[l,"   "]}),m.jsx("button",{className:"success-btn",onClick:()=>e("/dashboard"),children:""})]})})]})}function tO(){const{tripId:s}=OT(),e=Sr(),{currentUser:n}=Nr(),[r,l]=k.useState(!0),[u,f]=k.useState(null),[p,g]=k.useState([]),[y,T]=k.useState([]),[S,R]=k.useState("itinerary"),[L,z]=k.useState(""),[B,U]=k.useState(!1),[X,J]=k.useState(null),[se,ce]=k.useState(!1),[_e,Se]=k.useState(!1),[x,N]=k.useState(null),[C,M]=k.useState(!1),[w,j]=k.useState({time:"",place:"",activity:"",notes:"",mapLink:""}),[I,ke]=k.useState(!1);k.useEffect(()=>{pe()},[s]),k.useEffect(()=>{const re=ue=>{se&&!ue.target.closest(".trip-detail-menu")&&ce(!1)};return document.addEventListener("click",re),()=>document.removeEventListener("click",re)},[se]);const pe=async()=>{try{l(!0);const re=await la(tn(Ke,"trips",s));if(!re.exists()){alert("   ."),e("/dashboard");return}const ue={id:re.id,...re.data()};if(!ue.participants.includes(n.uid)){alert("    ."),e("/dashboard");return}f(ue),z(ue.notes||"");const Ce=ue.participants.map(pt=>la(tn(Ke,"users",pt))),Gt=(await Promise.all(Ce)).filter(pt=>pt.exists()).map(pt=>({id:pt.id,...pt.data()}));g(Gt);try{const pt=On(en(Ke,"itineraries"),Jt("tripId","==",s)),vi=(await Mn(pt)).docs.map(zt=>({id:zt.id,...zt.data()}));vi.sort((zt,ei)=>zt.date!==ei.date?zt.date.localeCompare(ei.date):zt.time.localeCompare(ei.time)),T(vi)}catch(pt){console.log("    ():",pt),T([])}}catch(re){console.error("   :",re),alert("  ."),e("/dashboard")}finally{l(!1)}},G=re=>re?re.seconds!==void 0?new Date(re.seconds*1e3):new Date(re):null,ae=()=>{if(!u)return 0;const re=G(u.startDate),ue=G(u.endDate);return!re||!ue?0:Math.ceil((ue-re)/(1e3*60*60*24))+1},$=()=>{if(!u)return null;const re=G(u.startDate);if(!re)return null;const ue=new Date;ue.setHours(0,0,0,0),re.setHours(0,0,0,0);const Ce=Math.ceil((re-ue)/(1e3*60*60*24));if(Ce>0)return`D-${Ce}`;if(Ce===0)return"D-DAY";const Ae=G(u.endDate);return Ae?(Ae.setHours(0,0,0,0),ue<=Ae?"":""):null},fe=()=>{const re={},ue=ae(),Ce=G(u.startDate);if(!Ce)return re;for(let Ae=0;Ae<ue;Ae++){const Gt=new Date(Ce);Gt.setDate(Ce.getDate()+Ae);const pt=Gt.toISOString().split("T")[0];re[pt]={day:Ae+1,date:Gt,items:y.filter(cn=>cn.date===pt)}}return re},he=async re=>{J(re);const ue=y.filter(Ae=>Ae.date===re);let Ce="07:00";if(ue.length>0){const Ae=ue.map(zt=>zt.time).sort((zt,ei)=>zt.localeCompare(ei)),Gt=Ae[Ae.length-1],[pt,cn]=Gt.split(":").map(Number),vi=(pt+1)%24;Ce=`${String(vi).padStart(2,"0")}:${String(cn).padStart(2,"0")}`}try{const Ae=await navigator.clipboard.readText();Ae&&(Ae.includes("google.com/maps")||Ae.includes("maps.app.goo.gl"))?confirm(`     .

  ?

: `+(Ae.length>50?Ae.substring(0,50)+"...":Ae))?(j({time:Ce,place:"",activity:"",notes:"",mapLink:Ae}),U(!0),setTimeout(()=>W(Ae),100)):(j({time:Ce,place:"",activity:"",notes:"",mapLink:""}),U(!0)):(j({time:Ce,place:"",activity:"",notes:"",mapLink:""}),U(!0))}catch(Ae){console.log("  :",Ae),j({time:Ce,place:"",activity:"",notes:"",mapLink:""}),U(!0)}},D=async re=>{if(re.preventDefault(),!w.time||!w.place||!w.activity){alert(", ,  .");return}try{const ue={tripId:s,date:X,time:w.time,place:w.place,activity:w.activity,notes:w.notes,createdBy:n.uid,createdAt:new Date().toISOString()};w.mapLink&&(ue.mapLink=w.mapLink),await hf(en(Ke,"itineraries"),ue),j({time:"",place:"",activity:"",notes:"",mapLink:""}),U(!1),J(null),await pe()}catch(ue){console.error("  :",ue),alert("  .")}},W=async re=>{if(!(!re||!(re.includes("google.com/maps")||re.includes("maps.app.goo.gl")))){ke(!0);try{const ue="https://google-maps-parser.dev-jangget.workers.dev",Ce=await fetch(`${ue}?url=${encodeURIComponent(re)}`);if(!Ce.ok)throw new Error(`Worker error: ${Ce.status}`);const Ae=await Ce.json();Ae.success&&Ae.placeName?(w.place||j(Gt=>({...Gt,place:Ae.placeName})),console.log("    :",{placeName:Ae.placeName,placeImage:Ae.placeImage,finalUrl:Ae.finalUrl})):console.log("    :",Ae)}catch(ue){console.error("    :",ue)}finally{ke(!1)}}},le=async()=>{try{await cf(tn(Ke,"trips",s),{notes:L,updatedAt:new Date().toISOString()}),alert(" ! ")}catch(re){console.error("  :",re),alert("  .")}},de=async()=>{try{const re=On(en(Ke,"itineraries"),Jt("tripId","==",s)),Ce=(await Mn(re)).docs.map(Ae=>ou(Ae.ref));await Promise.all(Ce),await ou(tn(Ke,"trips",s)),localStorage.removeItem("trips"),alert(" ."),e("/dashboard")}catch(re){console.error("  :",re),alert("  .")}},Ne=re=>{if(!re)return"";const ue=new Date(re);if(isNaN(ue.getTime()))return"";const Ce=["","","","","","",""];return`${ue.getMonth()+1}/${ue.getDate()}(${Ce[ue.getDay()]})`},Oe=(re,ue)=>{if(!re||!ue)return"";const Ce=G(re),Ae=G(ue);return!Ce||!Ae||isNaN(Ce.getTime())||isNaN(Ae.getTime())?"":`${Ce.getMonth()+1}.${Ce.getDate()} - ${Ae.getMonth()+1}.${Ae.getDate()}`};if(r)return m.jsx("div",{className:"trip-detail-container",children:m.jsxs("div",{style:{padding:"40px 20px",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),m.jsx("div",{style:{color:"#7F8C8D"},children:"..."})]})});if(!u)return null;const Le=fe();return m.jsxs("div",{className:"trip-detail-container",children:[m.jsxs("div",{className:"trip-detail-header",children:[m.jsxs("div",{className:"trip-detail-header-top",children:[m.jsx("button",{className:"trip-detail-back",onClick:()=>e("/dashboard"),children:""}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("button",{className:"trip-detail-menu",onClick:()=>ce(!se),children:""}),se&&m.jsxs("div",{style:{position:"absolute",top:"48px",right:"0",background:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",minWidth:"160px",zIndex:1e3},children:[u?.createdBy===n.uid&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>{ce(!1),e(`/trip/${s}/edit`)},style:{width:"100%",padding:"14px 16px",border:"none",background:"none",textAlign:"left",fontSize:"14px",color:"#2C3E50",cursor:"pointer",borderBottom:"1px solid #F0F0F0",display:"flex",alignItems:"center",gap:"8px"},children:"  "}),m.jsx("button",{onClick:()=>{ce(!1),Se(!0)},style:{width:"100%",padding:"14px 16px",border:"none",background:"none",textAlign:"left",fontSize:"14px",color:"#E74C3C",cursor:"pointer",borderRadius:"0 0 12px 12px",display:"flex",alignItems:"center",gap:"8px"},children:"  "})]}),u?.createdBy!==n.uid&&m.jsx("button",{onClick:()=>{ce(!1)},style:{width:"100%",padding:"14px 16px",border:"none",background:"none",textAlign:"left",fontSize:"14px",color:"#E74C3C",cursor:"pointer",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px"},children:"  "})]})]})]}),m.jsxs("div",{className:"trip-detail-header-info",children:[m.jsxs("div",{className:"trip-detail-destination",children:[" ",u.destination]}),m.jsx("h1",{className:"trip-detail-title-main",children:u.title}),m.jsxs("div",{className:"trip-detail-dates",children:[" ",Oe(u.startDate,u.endDate)]})]})]}),m.jsxs("div",{className:"trip-info-card",children:[m.jsxs("div",{className:"info-grid",children:[m.jsxs("div",{className:"info-item",children:[m.jsx("div",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-value",children:[ae(),""]}),m.jsx("div",{className:"info-label",children:""})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("div",{className:"info-icon",children:""}),m.jsxs("div",{className:"info-value",children:[p.length,""]}),m.jsx("div",{className:"info-label",children:""})]}),m.jsxs("div",{className:"info-item",children:[m.jsx("div",{className:"info-icon",children:""}),m.jsx("div",{className:"info-value",children:$()}),m.jsx("div",{className:"info-label",children:""})]})]}),u.description&&m.jsx("div",{className:"trip-description",children:m.jsx("p",{className:"description-text",children:u.description})})]}),m.jsxs("div",{className:"trip-tabs",children:[m.jsx("button",{className:`trip-tab ${S==="itinerary"?"active":""}`,onClick:()=>R("itinerary"),children:" "}),m.jsx("button",{className:`trip-tab ${S==="participants"?"active":""}`,onClick:()=>R("participants"),children:" "}),m.jsx("button",{className:`trip-tab ${S==="notes"?"active":""}`,onClick:()=>R("notes"),children:" "})]}),m.jsxs("div",{className:"trip-content",children:[S==="itinerary"&&m.jsxs("div",{children:[m.jsx("div",{style:{marginBottom:"16px"},children:m.jsx("button",{onClick:()=>e(`/trip/${s}/itinerary`),style:{width:"100%",padding:"16px",background:"linear-gradient(135deg, #FF8800 0%, #FFB347 100%)",border:"none",borderRadius:"12px",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"    "})}),Object.entries(Le).map(([re,ue])=>m.jsxs("div",{className:"itinerary-section",children:[m.jsxs("div",{className:"day-header",children:[m.jsxs("span",{children:[m.jsxs("span",{className:"day-number",children:["Day ",ue.day]})," ",Ne(re)]}),m.jsx("button",{className:"add-itinerary-btn",onClick:()=>he(re),children:"+"})]}),ue.items.length>0?m.jsx("div",{className:"itinerary-list",children:ue.items.map(Ce=>m.jsxs("div",{className:"itinerary-item",onClick:()=>{N(Ce),M(!0)},style:{cursor:"pointer"},children:[m.jsx("div",{className:"itinerary-time",children:Ce.time}),m.jsxs("div",{className:"itinerary-content",children:[m.jsxs("p",{className:"itinerary-place",children:[" ",Ce.place,Ce.mapLink&&m.jsx("a",{href:Ce.mapLink,target:"_blank",rel:"noopener noreferrer",onClick:Ae=>Ae.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",background:"#E8F5E9",color:"#27AE60",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textDecoration:"none",display:"inline-block"},children:" "})]}),m.jsx("p",{className:"itinerary-activity",children:Ce.activity}),Ce.notes&&m.jsxs("p",{className:"itinerary-notes",children:[" ",Ce.notes]})]})]},Ce.id))}):m.jsxs("div",{className:"empty-itinerary",children:[m.jsx("div",{className:"empty-itinerary-icon",children:""}),m.jsxs("p",{className:"empty-itinerary-text",children:["  .",m.jsx("br",{})," !"]}),m.jsx("button",{className:"add-first-btn",onClick:()=>he(re),children:" "})]})]},re))]}),S==="participants"&&m.jsx("div",{className:"participants-list",children:p.map(re=>m.jsxs("div",{className:"participant-item",children:[m.jsx("div",{className:"participant-avatar",children:re.photoURL?m.jsx("img",{src:re.photoURL,alt:re.displayName}):re.displayName?.charAt(0)||""}),m.jsxs("div",{className:"participant-info",children:[m.jsx("p",{className:"participant-name",children:re.displayName||" "}),m.jsx("p",{className:"participant-email",children:re.email})]}),m.jsx("div",{className:`participant-role ${re.id===u.createdBy?"role-creator":"role-member"}`,children:re.id===u.createdBy?"":""})]},re.id))}),S==="notes"&&m.jsxs("div",{className:"notes-section",children:[m.jsx("h3",{className:"notes-title",children:" "}),m.jsx("textarea",{className:"notes-textarea",placeholder:" , ,    ...",value:L,onChange:re=>z(re.target.value)}),m.jsx("button",{className:"notes-save-btn",onClick:le,children:""})]})]}),S==="itinerary"&&m.jsx("button",{className:"trip-detail-fab",onClick:()=>{const re=new Date().toISOString().split("T")[0],ue=Object.keys(Le)[0];he(ue||re)},children:"+"}),B&&m.jsx("div",{className:"itinerary-modal-overlay",onClick:()=>U(!1),children:m.jsxs("div",{className:"itinerary-modal-content",onClick:re=>re.stopPropagation(),children:[m.jsxs("div",{className:"itinerary-modal-header",children:[m.jsx("h2",{className:"itinerary-modal-title",children:" "}),m.jsx("button",{className:"itinerary-modal-close",onClick:()=>U(!1),children:""})]}),m.jsxs("form",{className:"itinerary-form",onSubmit:D,children:[m.jsxs("div",{className:"itinerary-form-field",children:[m.jsx("label",{className:"itinerary-form-label",children:" *"}),m.jsx("input",{type:"time",className:"itinerary-form-input",value:w.time,onChange:re=>j({...w,time:re.target.value}),required:!0})]}),m.jsxs("div",{className:"itinerary-form-field",children:[m.jsx("label",{className:"itinerary-form-label",children:" *"}),m.jsx("input",{type:"text",className:"itinerary-form-input",placeholder:") ",value:w.place,onChange:re=>j({...w,place:re.target.value}),required:!0})]}),m.jsxs("div",{className:"itinerary-form-field",children:[m.jsx("label",{className:"itinerary-form-label",children:" *"}),m.jsx("input",{type:"text",className:"itinerary-form-input",placeholder:") ,  ",value:w.activity,onChange:re=>j({...w,activity:re.target.value}),required:!0})]}),m.jsxs("div",{className:"itinerary-form-field",children:[m.jsx("label",{className:"itinerary-form-label",children:" ()"}),m.jsx("textarea",{className:"itinerary-form-input itinerary-form-textarea",placeholder:"  ...",value:w.notes,onChange:re=>j({...w,notes:re.target.value})})]}),m.jsxs("div",{className:"itinerary-form-field",children:[m.jsxs("label",{className:"itinerary-form-label",children:["   ()",m.jsx("span",{style:{fontSize:"12px",color:"#95A5A6",fontWeight:"normal",marginLeft:"8px"},children:'      ""    '})]}),m.jsx("input",{type:"url",className:"itinerary-form-input",placeholder:"https://maps.app.goo.gl/...",value:w.mapLink,onChange:re=>{const ue=re.target.value;j({...w,mapLink:ue})},onBlur:re=>{const ue=re.target.value;ue&&(ue.includes("google.com/maps")||ue.includes("maps.app.goo.gl"))&&W(ue)},onPaste:re=>{setTimeout(()=>{const ue=re.target.value;ue&&(ue.includes("google.com/maps")||ue.includes("maps.app.goo.gl"))&&W(ue)},100)}}),I&&m.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#E3F2FD",borderRadius:"8px",fontSize:"13px",color:"#2196F3",display:"flex",alignItems:"center",gap:"6px"},children:"    ..."}),w.mapLink&&!I&&m.jsxs("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#E8F5E9",borderRadius:"8px",fontSize:"13px",color:"#27AE60",display:"flex",alignItems:"center",gap:"6px"},children:["    ",w.place&&"   "]})]}),m.jsxs("div",{className:"itinerary-form-buttons",children:[m.jsx("button",{type:"button",className:"itinerary-form-btn itinerary-btn-cancel",onClick:()=>U(!1),children:""}),m.jsx("button",{type:"submit",className:"itinerary-form-btn itinerary-btn-save",children:""})]})]})]})}),_e&&m.jsx("div",{className:"itinerary-modal-overlay",onClick:()=>Se(!1),children:m.jsxs("div",{className:"itinerary-modal-content",onClick:re=>re.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{className:"modal-title",children:" "}),m.jsx("button",{className:"modal-close",onClick:()=>Se(!1),children:""})]}),m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),m.jsx("p",{style:{fontSize:"16px",color:"#2C3E50",fontWeight:"600",marginBottom:"8px"},children:"   ?"}),m.jsxs("p",{style:{fontSize:"14px",color:"#7F8C8D",lineHeight:"1.5"},children:["     .",m.jsx("br",{}),"    ."]})]}),m.jsxs("div",{className:"form-buttons",children:[m.jsx("button",{type:"button",className:"form-btn btn-cancel",onClick:()=>Se(!1),children:""}),m.jsx("button",{type:"button",className:"form-btn btn-delete",onClick:de,children:""})]})]})]})}),C&&x&&m.jsx("div",{className:"itinerary-modal-overlay",onClick:()=>M(!1),children:m.jsxs("div",{className:"itinerary-modal-content",onClick:re=>re.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{className:"modal-title",children:" "}),m.jsx("button",{className:"modal-close",onClick:()=>M(!1),children:""})]}),m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#FFF3E0",borderRadius:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"20px"},children:""}),m.jsx("span",{style:{fontSize:"18px",fontWeight:"700",color:"#FF8800"},children:x.time})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#7F8C8D",marginBottom:"6px"},children:""}),m.jsxs("div",{style:{fontSize:"18px",fontWeight:"700",color:"#2C3E50",display:"flex",alignItems:"center",gap:"8px"},children:[" ",x.place]}),x.mapLink&&m.jsx("a",{href:x.mapLink,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginTop:"8px",padding:"8px 16px",background:"#E8F5E9",color:"#27AE60",borderRadius:"8px",fontSize:"14px",fontWeight:"600",textDecoration:"none"},children:"   "})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#7F8C8D",marginBottom:"6px"},children:""}),m.jsx("div",{style:{fontSize:"16px",color:"#2C3E50"},children:x.activity})]}),x.notes&&m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#7F8C8D",marginBottom:"6px"},children:""}),m.jsxs("div",{style:{fontSize:"14px",color:"#7F8C8D",padding:"12px",background:"#F8F9FA",borderRadius:"8px",lineHeight:"1.6"},children:[" ",x.notes]})]}),m.jsx("button",{onClick:()=>M(!1),style:{width:"100%",padding:"14px",background:"#FF8800",border:"none",borderRadius:"12px",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",marginTop:"8px"},children:""})]})]})})]})}function nO(){const{tripId:s}=OT(),e=Sr(),{currentUser:n}=Nr(),[r,l]=k.useState(!0),[u,f]=k.useState(null),[p,g]=k.useState([]),[y,T]=k.useState("all"),[S,R]=k.useState("timeline"),[L,z]=k.useState(!1),[B,U]=k.useState(null),[X,J]=k.useState({time:"",place:"",activity:"",notes:"",mapLink:""});k.useEffect(()=>{se()},[s]);const se=async()=>{try{l(!0);const $=await la(tn(Ke,"trips",s));if(!$.exists()){alert("   ."),e("/dashboard");return}const fe={id:$.id,...$.data()};if(!fe.participants.includes(n.uid)){alert("  ."),e("/dashboard");return}f(fe);try{const he=On(en(Ke,"itineraries"),Jt("tripId","==",s)),W=(await Mn(he)).docs.map(le=>({id:le.id,...le.data()}));W.sort((le,de)=>le.date!==de.date?le.date.localeCompare(de.date):le.time.localeCompare(de.time)),g(W)}catch(he){console.log("   ():",he),g([])}}catch($){console.error("  :",$),alert("  .")}finally{l(!1)}},ce=$=>$?$.seconds!==void 0?new Date($.seconds*1e3):new Date($):null,_e=()=>{if(!u)return[];const $=[],fe=ce(u.startDate),he=ce(u.endDate);if(!fe||!he)return[];for(let D=new Date(fe);D<=he;D.setDate(D.getDate()+1))$.push(new Date(D).toISOString().split("T")[0]);return $},Se=()=>y==="all"?p:p.filter($=>$.date===y),x=()=>{const $=p.length,fe=[...new Set(p.map(W=>W.date))].length,he=new Date().toISOString().split("T")[0],D=p.filter(W=>W.date>=he).length;return{total:$,dates:fe,upcoming:D}},N=async $=>{if($.preventDefault(),!X.time||!X.place||!X.activity){alert(", ,  .");return}const fe=y==="all"?_e()[0]:y;try{if(B){const he={time:X.time,place:X.place,activity:X.activity,notes:X.notes,updatedAt:new Date().toISOString()};X.mapLink&&(he.mapLink=X.mapLink),await cf(tn(Ke,"itineraries",B.id),he)}else{const he={tripId:s,date:fe,time:X.time,place:X.place,activity:X.activity,notes:X.notes,createdBy:n.uid,createdAt:new Date().toISOString()};X.mapLink&&(he.mapLink=X.mapLink),await hf(en(Ke,"itineraries"),he)}J({time:"",place:"",activity:"",notes:"",mapLink:""}),z(!1),U(null),await se()}catch(he){console.error("  :",he),alert("  .")}},C=async()=>{if(B&&confirm("  ?"))try{await ou(tn(Ke,"itineraries",B.id)),z(!1),U(null),J({time:"",place:"",activity:"",notes:"",mapLink:""}),await se()}catch($){console.error("  :",$),alert("  .")}},M=$=>{U($),J({time:$.time,place:$.place,activity:$.activity,notes:$.notes||"",mapLink:$.mapLink||""}),z(!0)},w=()=>{U(null),J({time:"",place:"",activity:"",notes:"",mapLink:""}),z(!0)},j=$=>{if(!$)return{date:"",weekday:""};const fe=new Date($);if(isNaN(fe.getTime()))return{date:"",weekday:""};const he=["","","","","","",""];return{date:`${fe.getMonth()+1}/${fe.getDate()}`,weekday:he[fe.getDay()]}},I=($,fe)=>{if(!$||!fe)return"";const he=ce($),D=ce(fe);return!he||!D||isNaN(he.getTime())||isNaN(D.getTime())?"":`${he.getMonth()+1}.${he.getDate()} - ${D.getMonth()+1}.${D.getDate()}`},ke=$=>{if(!u||!$)return 0;const fe=ce(u.startDate),he=new Date($);return!fe||isNaN(fe.getTime())||isNaN(he.getTime())?0:Math.ceil((he-fe)/(1e3*60*60*24))+1};if(r)return m.jsx("div",{className:"itinerary-container",children:m.jsxs("div",{style:{padding:"40px 20px",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),m.jsx("div",{style:{color:"#7F8C8D"},children:"..."})]})});if(!u)return null;const pe=_e(),G=Se(),ae=x();return m.jsxs("div",{className:"itinerary-container",children:[m.jsx("div",{className:"itinerary-header",children:m.jsxs("div",{className:"itinerary-header-top",children:[m.jsx("button",{className:"itinerary-back-btn",onClick:()=>e(`/trip/${s}`),children:""}),m.jsxs("div",{className:"itinerary-header-title",children:[m.jsx("h1",{className:"itinerary-trip-name",children:u.title}),m.jsxs("p",{className:"itinerary-trip-date",children:[" ",I(u.startDate,u.endDate)]})]})]})}),m.jsx("div",{className:"date-filter",children:m.jsxs("div",{className:"date-chips",children:[m.jsxs("button",{className:`date-chip ${y==="all"?"active":""}`,onClick:()=>T("all"),children:[m.jsx("span",{className:"chip-day",children:""}),m.jsxs("span",{className:"chip-date",children:[p.length,""]})]}),pe.map(($,fe)=>{const{date:he,weekday:D}=j($);return p.filter(W=>W.date===$).length,m.jsxs("button",{className:`date-chip ${y===$?"active":""}`,onClick:()=>T($),children:[m.jsxs("span",{className:"chip-day",children:["Day ",fe+1]}),m.jsxs("span",{className:"chip-date",children:[he,m.jsxs("span",{className:"chip-weekday",children:["(",D,")"]})]})]},$)})]})}),m.jsxs("div",{className:"stats-cards",children:[m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsx("div",{className:"stat-value",children:ae.total}),m.jsx("div",{className:"stat-label",children:" "})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsx("div",{className:"stat-value",children:ae.dates}),m.jsx("div",{className:"stat-label",children:"  "})]}),m.jsxs("div",{className:"stat-card",children:[m.jsx("div",{className:"stat-icon",children:""}),m.jsx("div",{className:"stat-value",children:ae.upcoming}),m.jsx("div",{className:"stat-label",children:" "})]})]}),m.jsxs("div",{className:"view-toggle",children:[m.jsx("button",{className:`view-btn ${S==="timeline"?"active":""}`,onClick:()=>R("timeline"),children:" "}),m.jsx("button",{className:`view-btn ${S==="card"?"active":""}`,onClick:()=>R("card"),children:" "})]}),G.length>0?m.jsx(m.Fragment,{children:S==="timeline"?m.jsx("div",{className:"timeline-view",children:m.jsxs("div",{className:"timeline-container",children:[m.jsx("div",{className:"timeline-line"}),G.map($=>m.jsxs("div",{className:"timeline-item",onClick:()=>M($),children:[m.jsx("div",{className:"timeline-dot"}),m.jsxs("div",{className:"timeline-card",children:[m.jsxs("div",{className:"timeline-time",children:[" ",$.time,y==="all"&&m.jsxs("span",{style:{color:"#95A5A6",fontSize:"12px",marginLeft:"8px"},children:["Day ",ke($.date)]})]}),m.jsxs("div",{className:"timeline-content-main",children:[m.jsxs("p",{className:"timeline-place",children:[" ",$.place,$.mapLink&&m.jsx("a",{href:$.mapLink,target:"_blank",rel:"noopener noreferrer",onClick:fe=>fe.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",background:"#E8F5E9",color:"#27AE60",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textDecoration:"none",display:"inline-block"},children:" "})]}),m.jsx("p",{className:"timeline-activity",children:$.activity})]}),$.notes&&m.jsxs("div",{className:"timeline-notes",children:[" ",$.notes]})]})]},$.id))]})}):m.jsx("div",{className:"card-view",children:m.jsx("div",{className:"itinerary-grid",children:G.map($=>m.jsxs("div",{className:"itinerary-card",onClick:()=>M($),children:[m.jsx("div",{className:"card-header",children:m.jsxs("div",{className:"card-time",children:[" ",$.time,y==="all"&&m.jsxs("span",{style:{color:"#95A5A6",fontSize:"12px"},children:[" Day ",ke($.date)]})]})}),m.jsxs("p",{className:"card-place",children:[" ",$.place,$.mapLink&&m.jsx("a",{href:$.mapLink,target:"_blank",rel:"noopener noreferrer",onClick:fe=>fe.stopPropagation(),style:{marginLeft:"8px",padding:"4px 8px",background:"#E8F5E9",color:"#27AE60",borderRadius:"6px",fontSize:"11px",fontWeight:"600",textDecoration:"none",display:"inline-block"},children:" "})]}),m.jsx("p",{className:"card-activity",children:$.activity}),$.notes&&m.jsxs("div",{className:"card-notes",children:[" ",$.notes]})]},$.id))})})}):m.jsxs("div",{className:"empty-itinerary-state",children:[m.jsx("div",{className:"empty-icon",children:""}),m.jsx("h3",{className:"empty-title",children:" "}),m.jsx("p",{className:"empty-text",children:y==="all"?"  !":"   !"}),m.jsx("button",{className:"empty-add-btn",onClick:w,children:"  "})]}),m.jsx("button",{className:"itinerary-fab",onClick:w,children:""}),L&&m.jsx("div",{className:"itinerary-modal-overlay",onClick:()=>z(!1),children:m.jsxs("div",{className:"itinerary-modal-content",onClick:$=>$.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{className:"modal-title",children:B?" ":" "}),m.jsx("button",{className:"modal-close",onClick:()=>z(!1),children:""})]}),m.jsxs("form",{className:"modal-form",onSubmit:N,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" *"}),m.jsx("input",{type:"time",className:"form-input",value:X.time,onChange:$=>J({...X,time:$.target.value}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" *"}),m.jsx("input",{type:"text",className:"form-input",placeholder:") ,  ",value:X.place,onChange:$=>J({...X,place:$.target.value}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" *"}),m.jsx("input",{type:"text",className:"form-input",placeholder:") , , ",value:X.activity,onChange:$=>J({...X,activity:$.target.value}),required:!0})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"form-label",children:" ()"}),m.jsx("textarea",{className:"form-input form-textarea",placeholder:"   ...",value:X.notes,onChange:$=>J({...X,notes:$.target.value})})]}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{className:"form-label",children:["   ()",m.jsx("span",{style:{fontSize:"12px",color:"#95A5A6",fontWeight:"normal",marginLeft:"8px"},children:'      ""    '})]}),m.jsx("input",{type:"url",className:"form-input",placeholder:"https://maps.app.goo.gl/...",value:X.mapLink,onChange:$=>J({...X,mapLink:$.target.value})}),X.mapLink&&m.jsx("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#E8F5E9",borderRadius:"8px",fontSize:"13px",color:"#27AE60",display:"flex",alignItems:"center",gap:"6px"},children:"   "})]}),m.jsx("div",{className:"form-buttons",children:B?m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",className:"form-btn btn-delete",onClick:C,children:""}),m.jsx("button",{type:"submit",className:"form-btn btn-save",children:""})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",className:"form-btn btn-cancel",onClick:()=>z(!1),children:""}),m.jsx("button",{type:"submit",className:"form-btn btn-save",children:""})]})})]})]})})]})}function rl({children:s}){const{currentUser:e}=Nr();return e?s:m.jsx(dp,{to:"/login"})}function ET({children:s}){const{currentUser:e}=Nr();return e?m.jsx(dp,{to:"/dashboard"}):s}function iO(){return m.jsx(bw,{children:m.jsxs(Z1,{children:[m.jsx(zi,{path:"/login",element:m.jsx(ET,{children:m.jsx($D,{})})}),m.jsx(zi,{path:"/signup",element:m.jsx(ET,{children:m.jsx(XD,{})})}),m.jsx(zi,{path:"/dashboard",element:m.jsx(rl,{children:m.jsx(WD,{})})}),m.jsx(zi,{path:"/friends",element:m.jsx(rl,{children:m.jsx(JD,{})})}),m.jsx(zi,{path:"/profile",element:m.jsx(rl,{children:m.jsx(ZD,{})})}),m.jsx(zi,{path:"/create-trip",element:m.jsx(rl,{children:m.jsx(eO,{})})}),m.jsx(zi,{path:"/trip/:tripId",element:m.jsx(rl,{children:m.jsx(tO,{})})}),m.jsx(zi,{path:"/trip/:tripId/itinerary",element:m.jsx(rl,{children:m.jsx(nO,{})})}),m.jsx(zi,{path:"/",element:m.jsx(dp,{to:"/dashboard"})})]})})}function sO(){return m.jsx(YD,{children:m.jsx(iO,{})})}n1.createRoot(document.getElementById("root")).render(m.jsx(k.StrictMode,{children:m.jsx(sO,{})}));
